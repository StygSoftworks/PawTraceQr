import{r as e,j as s,L as f,s as j}from"./index-BfkNNUKq.js";import{C as w,c as g,b as C,d as y,a as N,e as L}from"./card-LZUtl_Rv.js";import{B as c}from"./button-Cxkkd8_p.js";import{L as b,I as v}from"./input-BoqOxjf5.js";import{A as p,a as m}from"./alert-CcmXVjpu.js";import{C as S}from"./circle-check-CL7hlByy.js";import{L as k}from"./log-in-Ev79V2pR.js";import"./utils-BfMtu9C5.js";import"./index-WWdD7rrj.js";import"./index-DKjtjZE8.js";function q(){const[t,u]=e.useState(""),[i,h]=e.useState(!1),[n,l]=e.useState(!1),[o,d]=e.useState(null);e.useEffect(()=>{},[]);const x=async a=>{a.preventDefault(),d(null),l(!0);try{const{error:r}=await j.auth.updateUser({password:t});if(r)throw r;h(!0)}catch(r){d(r?.message??"Failed to reset password")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:s.jsxs(w,{className:"w-full max-w-md",children:[s.jsxs(g,{children:[s.jsx(C,{children:"Set a new password"}),s.jsx(y,{children:"Enter your new password below."})]}),s.jsx(N,{children:i?s.jsxs(p,{children:[s.jsx(S,{className:"h-4 w-4"}),s.jsx(m,{children:"Password updated successfully."})]}):s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(b,{htmlFor:"password",children:"New password"}),s.jsx(v,{id:"password",type:"password",placeholder:"••••••••",value:t,onChange:a=>u(a.target.value),minLength:8,required:!0})]}),o&&s.jsx(p,{variant:"destructive",children:s.jsx(m,{children:o})}),s.jsx(c,{className:"w-full",type:"submit",disabled:n,children:n?"Updating…":"Update password"})]})}),s.jsx(L,{className:"justify-center",children:i?s.jsx(c,{asChild:!0,children:s.jsxs(f,{to:"/signin",className:"inline-flex items-center gap-2",children:[s.jsx(k,{className:"h-4 w-4"})," Back to sign in"]})}):null})]})})}export{q as default};
