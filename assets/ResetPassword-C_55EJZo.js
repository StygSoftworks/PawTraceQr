import{j as s}from"./radix-ui-Dl2NiEpv.js";import{r as e}from"./forms-BenlWNMe.js";import{s as f}from"./index-djmkGsBh.js";import{d as j,b as w,a as g,c as C,C as y,e as N}from"./card-JrpAFQcq.js";import{B as c}from"./button-DAfSnszG.js";import{L,I as b}from"./input-Di22cJqv.js";import{A as m,a as p}from"./alert-Dydcjefr.js";import{a4 as v,L as S}from"./icons-1Q_-oHEE.js";import{L as k}from"./router-fBLXKt6a.js";import"./react-dom-CWqaeSHD.js";import"./pdf-DO90N-Wx.js";import"./supabase-Dq_AJ6PJ.js";import"./react-query-CCwEfxX5.js";import"./utils-CBfrqCZ4.js";import"./index-CdJFUDDL.js";function z(){const[t,u]=e.useState(""),[i,h]=e.useState(!1),[o,n]=e.useState(!1),[l,d]=e.useState(null);e.useEffect(()=>{},[]);const x=async a=>{a.preventDefault(),d(null),n(!0);try{const{error:r}=await f.auth.updateUser({password:t});if(r)throw r;h(!0)}catch(r){d(r?.message??"Failed to reset password")}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:s.jsxs(j,{className:"w-full max-w-md",children:[s.jsxs(w,{children:[s.jsx(g,{children:"Set a new password"}),s.jsx(C,{children:"Enter your new password below."})]}),s.jsx(y,{children:i?s.jsxs(m,{children:[s.jsx(v,{className:"h-4 w-4"}),s.jsx(p,{children:"Password updated successfully."})]}):s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(L,{htmlFor:"password",children:"New password"}),s.jsx(b,{id:"password",type:"password",placeholder:"••••••••",value:t,onChange:a=>u(a.target.value),minLength:8,required:!0})]}),l&&s.jsx(m,{variant:"destructive",children:s.jsx(p,{children:l})}),s.jsx(c,{className:"w-full",type:"submit",disabled:o,children:o?"Updating…":"Update password"})]})}),s.jsx(N,{className:"justify-center",children:i?s.jsx(c,{asChild:!0,children:s.jsxs(k,{to:"/signin",className:"inline-flex items-center gap-2",children:[s.jsx(S,{className:"h-4 w-4"})," Back to sign in"]})}):null})]})})}export{z as default};
