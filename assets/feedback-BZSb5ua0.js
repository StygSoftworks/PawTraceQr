import{s as t}from"./index-CF7rRjM7.js";async function o(a=12){const{data:e,error:r}=await t.from("feedback_public").select("*").order("created_at",{ascending:!1}).limit(a);if(r)throw r;return e}async function i(a){const{data:e,error:r}=await t.from("feedback").insert({rating:a.rating,comment:a.comment,display_name:a.display_name??null}).select().single();if(r)throw r;return e}async function s(){const{data:a,error:e}=await t.from("feedback").select("*").order("created_at",{ascending:!1});if(e)throw e;return a??[]}async function d(a,e){const{data:r,error:c}=await t.from("feedback").update(e).eq("id",a).select().single();if(c)throw c;return r}async function f(a){const{error:e}=await t.from("feedback").delete().eq("id",a);if(e)throw e;return!0}async function l(){const{data:a,error:e}=await t.from("feedback").select("id,user_id,rating,comment,display_name,approved,approved_by,approved_at,created_at").order("created_at",{ascending:!1});if(e)throw e;return a??[]}async function u(a,e){const{error:r}=await t.rpc("moderate_feedback",{_id:a,_approve:e});if(r)throw r}export{o as a,l as b,i as c,f as d,u as e,s as l,d as u};
