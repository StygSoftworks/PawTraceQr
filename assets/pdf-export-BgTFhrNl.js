const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdf-DO90N-Wx.js","assets/forms-BenlWNMe.js"])))=>i.map(i=>d[i]);
import{_ as S}from"./pdf-DO90N-Wx.js";import"./forms-BenlWNMe.js";const M={letter:{width:612,height:792},a4:{width:595,height:842}};function B(e,r,i,o){let n;return e==="custom"&&i&&o?n={width:i,height:o}:e==="letter"||e==="a4"?n=M[e]:n=M.letter,r==="landscape"&&(n={width:n.height,height:n.width}),n}async function I(){const[{jsPDF:e},r]=await Promise.all([S(()=>import("./pdf-DO90N-Wx.js").then(i=>i.j),__vite__mapDeps([0,1])),S(()=>import("./pdf-DO90N-Wx.js").then(i=>i.s),__vite__mapDeps([0,1]))]);return e}async function $(e,r={}){const{pageSize:i="letter",orientation:o="portrait",customWidth:n,customHeight:W,margin:s=36,title:h="QR Code",author:E="PawTrace QR",targetWidth:R}=r,{width:g,height:d}=B(i,o,n,W),F=await I(),t=new F({orientation:o==="portrait"?"p":"l",unit:"pt",format:[g,d]});t.setProperties({title:h,author:E,creator:"PawTrace QR",subject:"QR Code for Pet Identification"});const P=new DOMParser().parseFromString(e,"image/svg+xml").documentElement,x=P.getAttribute("viewBox")?.split(" ").map(Number),f=x?.[2]||parseFloat(P.getAttribute("width")||"512"),a=x?.[3]||parseFloat(P.getAttribute("height")||"512"),b=g-s*2,u=d-s*2;let c,p;if(R){const l=R/f;if(c=f*l,p=a*l,c>b||p>u){const v=Math.min(b/f,u/a);c=f*v,p=a*v}}else{const l=Math.min(b/f,u/a,1);c=f*l,p=a*l}const _=(g-c)/2,w=(d-p)/2;return await t.svg(P,{x:_,y:w,width:c,height:p}),t.output("blob")}async function N(e,r={}){const{pageSize:i="letter",orientation:o="portrait",customWidth:n,customHeight:W,margin:s=36,qrsPerPage:h=1,title:E="QR Codes Batch Export",author:R="PawTrace QR"}=r,{width:g,height:d}=B(i,o,n,W),F=await I(),t=new F({orientation:o==="portrait"?"p":"l",unit:"pt",format:[g,d]});t.setProperties({title:E,author:R,creator:"PawTrace QR",subject:"QR Codes for Pet Identification"});const C=new DOMParser;for(let m=0;m<e.length;m++){m>0&&m%h===0&&t.addPage();const{svgString:P,label:x}=e[m],a=C.parseFromString(P,"image/svg+xml").documentElement,b=a.getAttribute("viewBox")?.split(" ").map(Number),u=b?.[2]||parseFloat(a.getAttribute("width")||"512"),c=b?.[3]||parseFloat(a.getAttribute("height")||"512"),p=g-s*2,_=d-s*2;if(h===1){const w=Math.min(p/u,_/c,1),l=u*w,v=c*w,D=(g-l)/2,H=(d-v)/2;await t.svg(a,{x:D,y:H,width:l,height:v}),x&&(t.setFontSize(10),t.setTextColor(100),t.text(x,g/2,d-s/2,{align:"center"})),t.setFontSize(8),t.setTextColor(150),t.text(`Page ${m+1} of ${e.length}`,g-s,d-s/2,{align:"right"})}else{const w=h===2?1:2,l=h===2||h===4?2:3,v=m%h,D=v%w,H=Math.floor(v/w),T=p/w,A=_/l,Q=Math.min((T-s)/u,(A-s)/c,1),j=u*Q,y=c*Q,L=s+D*T+(T-j)/2,O=s+H*A+(A-y)/2;await t.svg(a,{x:L,y:O,width:j,height:y})}}return t.output("blob")}function V(e,r){const i=URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.download=r.endsWith(".pdf")?r:`${r}.pdf`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}export{V as downloadPdfBlob,N as multipleQrsToPdf,$ as svgStringToPdf};
