import{a,j as e,L as j,s as g}from"./index-BffG_qXg.js";import{C as w,c as y,b as C,d as N,a as b,e as v}from"./card-ChynEsAm.js";import{B as c}from"./button-508czN5r.js";import{L as S,I as k}from"./label-D6R2f2p8.js";import{A as d,a as m}from"./alert-4_avIsHD.js";import{M as F}from"./mail-DcFjTnys.js";import{A as E}from"./arrow-left-CwlJPwDA.js";import"./utils-CBfrqCZ4.js";import"./index-VX4YWFKd.js";import"./createLucideIcon-BQlyzP4J.js";function W(){const[r,u]=a.useState(""),[x,h]=a.useState(!1),[i,n]=a.useState(!1),[o,l]=a.useState(null),p=`${window.location.origin}/reset-password`,f=async t=>{t.preventDefault(),l(null),n(!0);try{const{error:s}=await g.auth.resetPasswordForEmail(r,{redirectTo:p});if(s)throw s;h(!0)}catch(s){l(s?.message??"Failed to send reset link")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:e.jsxs(w,{className:"w-full max-w-md",children:[e.jsxs(y,{children:[e.jsx(C,{children:"Forgot password"}),e.jsx(N,{children:"We’ll email you a secure link to reset it."})]}),e.jsx(b,{children:x?e.jsx(d,{children:e.jsxs(m,{children:["If an account exists for ",e.jsx("span",{className:"font-medium",children:r}),", a reset link has been sent. Check your inbox (and spam)."]})}):e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"email",children:"Email"}),e.jsx(k,{id:"email",type:"email",autoFocus:!0,placeholder:"you@example.com",value:r,onChange:t=>u(t.target.value),required:!0})]}),o&&e.jsx(d,{variant:"destructive",children:e.jsx(m,{children:o})}),e.jsx(c,{className:"w-full",type:"submit",disabled:i,children:i?"Sending…":e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"})," Send reset link"]})})]})}),e.jsx(v,{className:"justify-between",children:e.jsx(c,{asChild:!0,variant:"ghost",children:e.jsxs(j,{to:"/signin",children:[e.jsx(E,{className:"h-4 w-4 mr-1"})," Back to sign in"]})})})]})})}export{W as default};
