import{r,j as N,i as G,R as w}from"./index-CveSHR4s.js";import{u as P,c as j}from"./button-C1-kpeoZ.js";import{P as $}from"./index-KwCZusiW.js";function A(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function he(e,t){const n=r.createContext(t),o=i=>{const{children:l,...u}=i,d=r.useMemo(()=>u,Object.values(u));return N.jsx(n.Provider,{value:d,children:l})};o.displayName=e+"Provider";function s(i){const l=r.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[o,s]}function k(e,t=[]){let n=[];function o(i,l){const u=r.createContext(l),d=n.length;n=[...n,l];const f=m=>{const{scope:I,children:p,...S}=m,R=I?.[e]?.[d]||u,a=r.useMemo(()=>S,Object.values(S));return N.jsx(R.Provider,{value:a,children:p})};f.displayName=i+"Provider";function c(m,I){const p=I?.[e]?.[d]||u,S=r.useContext(p);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,c]}const s=()=>{const i=n.map(l=>r.createContext(l));return function(u){const d=u?.[e]||i;return r.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[o,Q(s,...t)]}function Q(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=o.reduce((u,{useScope:d,scopeName:f})=>{const m=d(i)[`__scope${f}`];return{...u,...m}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var O=globalThis?.document?r.useLayoutEffect:()=>{},X=G[" useId ".trim().toString()]||(()=>{}),Z=0;function ee(e){const[t,n]=r.useState(X());return O(()=>{n(o=>o??String(Z++))},[e]),e||(t?`radix-${t}`:"")}var te=G[" useInsertionEffect ".trim().toString()]||O;function ne({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[s,i,l]=oe({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const c=r.useRef(e!==void 0);r.useEffect(()=>{const m=c.current;m!==u&&console.warn(`${o} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=u},[u,o])}const f=r.useCallback(c=>{if(u){const m=re(c)?c(e):c;m!==e&&l.current?.(m)}else i(c)},[u,e,i,l]);return[d,f]}function oe({defaultProp:e,onChange:t}){const[n,o]=r.useState(e),s=r.useRef(n),i=r.useRef(t);return te(()=>{i.current=t},[t]),r.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,o,i]}function re(e){return typeof e=="function"}function se(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>t.current?.(...n),[])}function ce(e,t){return r.useReducer((n,o)=>t[n][o]??n,e)}var ie=e=>{const{present:t,children:n}=e,o=ue(t),s=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),i=P(o.ref,ae(s));return typeof n=="function"||o.isPresent?r.cloneElement(s,{ref:i}):null};ie.displayName="Presence";function ue(e){const[t,n]=r.useState(),o=r.useRef(null),s=r.useRef(e),i=r.useRef("none"),l=e?"mounted":"unmounted",[u,d]=ce(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const f=F(o.current);i.current=u==="mounted"?f:"none"},[u]),O(()=>{const f=o.current,c=s.current;if(c!==e){const I=i.current,p=F(f);e?d("MOUNT"):p==="none"||f?.display==="none"?d("UNMOUNT"):d(c&&I!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),O(()=>{if(t){let f;const c=t.ownerDocument.defaultView??window,m=p=>{const R=F(o.current).includes(CSS.escape(p.animationName));if(p.target===t&&R&&(d("ANIMATION_END"),!s.current)){const a=t.style.animationFillMode;t.style.animationFillMode="forwards",f=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=a)})}},I=p=>{p.target===t&&(i.current=F(o.current))};return t.addEventListener("animationstart",I),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{c.clearTimeout(f),t.removeEventListener("animationstart",I),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:r.useCallback(f=>{o.current=f?getComputedStyle(f):null,n(f)},[])}}function F(e){return e?.animationName||"none"}function ae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function le(e){const t=e+"CollectionProvider",[n,o]=k(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=R=>{const{scope:a,children:g}=R,x=w.useRef(null),v=w.useRef(new Map).current;return N.jsx(s,{scope:a,itemMap:v,collectionRef:x,children:g})};l.displayName=t;const u=e+"CollectionSlot",d=j(u),f=w.forwardRef((R,a)=>{const{scope:g,children:x}=R,v=i(u,g),C=P(a,v.collectionRef);return N.jsx(d,{ref:C,children:x})});f.displayName=u;const c=e+"CollectionItemSlot",m="data-radix-collection-item",I=j(c),p=w.forwardRef((R,a)=>{const{scope:g,children:x,...v}=R,C=w.useRef(null),T=P(a,C),h=i(c,g);return w.useEffect(()=>(h.itemMap.set(C,{ref:C,...v}),()=>void h.itemMap.delete(C))),N.jsx(I,{[m]:"",ref:T,children:x})});p.displayName=c;function S(R){const a=i(e+"CollectionConsumer",R);return w.useCallback(()=>{const x=a.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(a.itemMap.values()).sort((h,y)=>v.indexOf(h.ref.current)-v.indexOf(y.ref.current))},[a.collectionRef,a.itemMap])}return[{Provider:l,Slot:f,ItemSlot:p},S,o]}var fe=r.createContext(void 0);function de(e){const t=r.useContext(fe);return e||t||"ltr"}var D="rovingFocusGroup.onEntryFocus",me={bubbles:!1,cancelable:!0},M="RovingFocusGroup",[U,K,pe]=le(M),[ve,Ae]=k(M,[pe]),[Ie,Re]=ve(M),B=r.forwardRef((e,t)=>N.jsx(U.Provider,{scope:e.__scopeRovingFocusGroup,children:N.jsx(U.Slot,{scope:e.__scopeRovingFocusGroup,children:N.jsx(Ce,{...e,ref:t})})}));B.displayName=M;var Ce=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:c=!1,...m}=e,I=r.useRef(null),p=P(t,I),S=de(i),[R,a]=ne({prop:l,defaultProp:u??null,onChange:d,caller:M}),[g,x]=r.useState(!1),v=se(f),C=K(n),T=r.useRef(!1),[h,y]=r.useState(0);return r.useEffect(()=>{const E=I.current;if(E)return E.addEventListener(D,v),()=>E.removeEventListener(D,v)},[v]),N.jsx(Ie,{scope:n,orientation:o,dir:S,loop:s,currentTabStopId:R,onItemFocus:r.useCallback(E=>a(E),[a]),onItemShiftTab:r.useCallback(()=>x(!0),[]),onFocusableItemAdd:r.useCallback(()=>y(E=>E+1),[]),onFocusableItemRemove:r.useCallback(()=>y(E=>E-1),[]),children:N.jsx($.div,{tabIndex:g||h===0?-1:0,"data-orientation":o,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:A(e.onMouseDown,()=>{T.current=!0}),onFocus:A(e.onFocus,E=>{const Y=!T.current;if(E.target===E.currentTarget&&Y&&!g){const L=new CustomEvent(D,me);if(E.currentTarget.dispatchEvent(L),!L.defaultPrevented){const _=C().filter(b=>b.focusable),q=_.find(b=>b.active),z=_.find(b=>b.id===R),J=[q,z,..._].filter(Boolean).map(b=>b.ref.current);H(J,c)}}T.current=!1}),onBlur:A(e.onBlur,()=>x(!1))})})}),W="RovingFocusGroupItem",V=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:s=!1,tabStopId:i,children:l,...u}=e,d=ee(),f=i||d,c=Re(W,n),m=c.currentTabStopId===f,I=K(n),{onFocusableItemAdd:p,onFocusableItemRemove:S,currentTabStopId:R}=c;return r.useEffect(()=>{if(o)return p(),()=>S()},[o,p,S]),N.jsx(U.ItemSlot,{scope:n,id:f,focusable:o,active:s,children:N.jsx($.span,{tabIndex:m?0:-1,"data-orientation":c.orientation,...u,ref:t,onMouseDown:A(e.onMouseDown,a=>{o?c.onItemFocus(f):a.preventDefault()}),onFocus:A(e.onFocus,()=>c.onItemFocus(f)),onKeyDown:A(e.onKeyDown,a=>{if(a.key==="Tab"&&a.shiftKey){c.onItemShiftTab();return}if(a.target!==a.currentTarget)return;const g=Ee(a,c.orientation,c.dir);if(g!==void 0){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let v=I().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const C=v.indexOf(a.currentTarget);v=c.loop?xe(v,C+1):v.slice(C+1)}setTimeout(()=>H(v))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:R!=null}):l})})});V.displayName=W;var ge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Se(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ee(e,t,n){const o=Se(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ge[o]}function H(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function xe(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Me=B,ye=V;export{ye as I,ie as P,Me as R,ne as a,ee as b,k as c,le as d,A as e,O as f,se as g,Ae as h,he as i,de as u};
