import{j as e}from"./radix-ui-Bptolu_l.js";import{r}from"./forms-BenlWNMe.js";import{s as j}from"./index-CF7rRjM7.js";import{d as g,b as w,a as y,c as C,C as N,e as b}from"./card-CIySVGy3.js";import{B as c}from"./button-BLh6466_.js";import{L as v,I as S}from"./input-D5K7R9e5.js";import{A as m,a as d}from"./alert-BehdoEGx.js";import{g as k,a3 as F}from"./icons-D6Vx8KFF.js";import{L as E}from"./router-fBLXKt6a.js";import"./react-dom-CWqaeSHD.js";import"./pdf-DO90N-Wx.js";import"./supabase-Dq_AJ6PJ.js";import"./react-query-DgYD4zqU.js";import"./utils-CBfrqCZ4.js";import"./index-CdJFUDDL.js";function J(){const[a,u]=r.useState(""),[p,x]=r.useState(!1),[i,n]=r.useState(!1),[o,l]=r.useState(null),h=`${window.location.origin}/reset-password`,f=async t=>{t.preventDefault(),l(null),n(!0);try{const{error:s}=await j.auth.resetPasswordForEmail(a,{redirectTo:h});if(s)throw s;x(!0)}catch(s){l(s?.message??"Failed to send reset link")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:e.jsxs(g,{className:"w-full max-w-md",children:[e.jsxs(w,{children:[e.jsx(y,{children:"Forgot password"}),e.jsx(C,{children:"We’ll email you a secure link to reset it."})]}),e.jsx(N,{children:p?e.jsx(m,{children:e.jsxs(d,{children:["If an account exists for ",e.jsx("span",{className:"font-medium",children:a}),", a reset link has been sent. Check your inbox (and spam)."]})}):e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsx(S,{id:"email",type:"email",autoFocus:!0,placeholder:"you@example.com",value:a,onChange:t=>u(t.target.value),required:!0})]}),o&&e.jsx(m,{variant:"destructive",children:e.jsx(d,{children:o})}),e.jsx(c,{className:"w-full",type:"submit",disabled:i,children:i?"Sending…":e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"})," Send reset link"]})})]})}),e.jsx(b,{className:"justify-between",children:e.jsx(c,{asChild:!0,variant:"ghost",children:e.jsxs(E,{to:"/signin",children:[e.jsx(F,{className:"h-4 w-4 mr-1"})," Back to sign in"]})})})]})})}export{J as default};
