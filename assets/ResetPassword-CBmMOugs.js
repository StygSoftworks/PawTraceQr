import{r as e,j as s,L as f,s as j}from"./index-BSxk0yds.js";import{d as w,b as g,a as y,c as C,C as N,e as L}from"./card--q3_O7ao.js";import{B as d}from"./button-Dg4lQN1z.js";import{L as k,I as b}from"./input-RObnTlop.js";import{A as m,a as p}from"./alert-CVSMwhmE.js";import{c as v}from"./utils-C6PLHNUX.js";import{L as S}from"./log-in-COasseT0.js";import"./index-TkSa2gou.js";import"./index-DkkYB_fg.js";const E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I=v("circle-check",E);function q(){const[t,u]=e.useState(""),[c,h]=e.useState(!1),[i,n]=e.useState(!1),[o,l]=e.useState(null);e.useEffect(()=>{},[]);const x=async a=>{a.preventDefault(),l(null),n(!0);try{const{error:r}=await j.auth.updateUser({password:t});if(r)throw r;h(!0)}catch(r){l(r?.message??"Failed to reset password")}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:s.jsxs(w,{className:"w-full max-w-md",children:[s.jsxs(g,{children:[s.jsx(y,{children:"Set a new password"}),s.jsx(C,{children:"Enter your new password below."})]}),s.jsx(N,{children:c?s.jsxs(m,{children:[s.jsx(I,{className:"h-4 w-4"}),s.jsx(p,{children:"Password updated successfully."})]}):s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(k,{htmlFor:"password",children:"New password"}),s.jsx(b,{id:"password",type:"password",placeholder:"••••••••",value:t,onChange:a=>u(a.target.value),minLength:8,required:!0})]}),o&&s.jsx(m,{variant:"destructive",children:s.jsx(p,{children:o})}),s.jsx(d,{className:"w-full",type:"submit",disabled:i,children:i?"Updating…":"Update password"})]})}),s.jsx(L,{className:"justify-center",children:c?s.jsx(d,{asChild:!0,children:s.jsxs(f,{to:"/signin",className:"inline-flex items-center gap-2",children:[s.jsx(S,{className:"h-4 w-4"})," Back to sign in"]})}):null})]})})}export{q as default};
