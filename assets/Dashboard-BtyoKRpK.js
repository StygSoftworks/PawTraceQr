const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-qVnBhY3T.js","assets/index-DcA3iRN0.js","assets/index-B9FlwhzK.css"])))=>i.map(i=>d[i]);
import{a as c,j as s,c as _,_ as Fr,s as ee,u as Ht,d as Lr}from"./index-DcA3iRN0.js";import{u as Vr}from"./useQuery-CsRWtHIz.js";import{S as st,u as zr}from"./separator-Bh2pcKLW.js";import{C as Oe,a as Xe,b as Ze,c as Je,d as et}from"./card-Zwr3TH7U.js";import{S as _e,B as Nt}from"./skeleton-BybycaP1.js";import{b as Ie,f as Wt,s as Ee,c as Ae,t as ne,l as Kt,p as Ur,I as qr,k as L,h as ft,v as Gt,R as mt,T as Hr,W as Wr,C as ht,w as Qt,x as Yt,d as gt,P as vt,O as xt,X as Kr,y as Gr,e as Le,g as Xt,j as Qr,A as bt,a as ie,i as Zt,u as Yr,m as Jt,n as eo,o as to,F as oo,D as ro,q as no,r as so}from"./index-C-HeCvlb.js";import{P as $,r as ao}from"./index-CAs8B30d.js";import{c as E,u as W,d as Xr,e as lo,a as io,b as ke,B as Q}from"./button-DDaMaupg.js";import{L as J,I as ae}from"./label-CL69Endq.js";import{u as Zr,a as Jr,o as _t,s as se,n as en,_ as tn,b as on}from"./zod-CpKOzEIm.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nn=Ie("check",rn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],co=Ie("chevron-down",sn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ln=Ie("chevron-up",an);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],dn=Ie("chevrons-up-down",cn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pn=Ie("search",un);var Ve="Tabs",[fn]=Ae(Ve,[Kt]),uo=Kt(),[mn,wt]=fn(Ve),po=c.forwardRef((r,e)=>{const{__scopeTabs:t,value:o,onValueChange:n,defaultValue:a,orientation:l="horizontal",dir:d,activationMode:i="automatic",...u}=r,p=Wt(d),[m,x]=Ee({prop:o,onChange:n,defaultProp:a??"",caller:Ve});return s.jsx(mn,{scope:t,baseId:ne(),value:m,onValueChange:x,orientation:l,dir:p,activationMode:i,children:s.jsx($.div,{dir:p,"data-orientation":l,...u,ref:e})})});po.displayName=Ve;var fo="TabsList",mo=c.forwardRef((r,e)=>{const{__scopeTabs:t,loop:o=!0,...n}=r,a=wt(fo,t),l=uo(t);return s.jsx(Ur,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:o,children:s.jsx($.div,{role:"tablist","aria-orientation":a.orientation,...n,ref:e})})});mo.displayName=fo;var ho="TabsTrigger",go=c.forwardRef((r,e)=>{const{__scopeTabs:t,value:o,disabled:n=!1,...a}=r,l=wt(ho,t),d=uo(t),i=bo(l.baseId,o),u=wo(l.baseId,o),p=o===l.value;return s.jsx(qr,{asChild:!0,...d,focusable:!n,active:p,children:s.jsx($.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":u,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:i,...a,ref:e,onMouseDown:L(r.onMouseDown,m=>{!n&&m.button===0&&m.ctrlKey===!1?l.onValueChange(o):m.preventDefault()}),onKeyDown:L(r.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(o)}),onFocus:L(r.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!n&&m&&l.onValueChange(o)})})})});go.displayName=ho;var vo="TabsContent",xo=c.forwardRef((r,e)=>{const{__scopeTabs:t,value:o,forceMount:n,children:a,...l}=r,d=wt(vo,t),i=bo(d.baseId,o),u=wo(d.baseId,o),p=o===d.value,m=c.useRef(p);return c.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(ft,{present:n||p,children:({present:x})=>s.jsx($.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":i,hidden:!x,id:u,tabIndex:0,...l,ref:e,style:{...r.style,animationDuration:m.current?"0s":void 0},children:x&&a})})});xo.displayName=vo;function bo(r,e){return`${r}-trigger-${e}`}function wo(r,e){return`${r}-content-${e}`}var hn=po,gn=mo,vn=go,xn=xo;function bn(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex flex-col gap-2",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(hn,{"data-slot":"tabs",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function wn(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(gn,{"data-slot":"tabs-list",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Pt(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(vn,{"data-slot":"tabs-trigger",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Rt(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex-1 outline-none",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(xn,{"data-slot":"tabs-content",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function yn(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("w-full caption-bottom text-sm",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:n,...o})}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Sn(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("[&_tr]:border-b",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("thead",{"data-slot":"table-header",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function jn(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("[&_tr:last-child]:border-0",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("tbody",{"data-slot":"table-body",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Tt(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("tr",{"data-slot":"table-row",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function $e(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("th",{"data-slot":"table-head",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Be(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("td",{"data-slot":"table-cell",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}var yo="AlertDialog",[Cn]=Ae(yo,[Gt]),le=Gt(),So=r=>{const{__scopeAlertDialog:e,...t}=r,o=le(e);return s.jsx(mt,{...o,...t,modal:!0})};So.displayName=yo;var Nn="AlertDialogTrigger",jo=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...o}=r,n=le(t);return s.jsx(Hr,{...n,...o,ref:e})});jo.displayName=Nn;var _n="AlertDialogPortal",Co=r=>{const{__scopeAlertDialog:e,...t}=r,o=le(e);return s.jsx(vt,{...o,...t})};Co.displayName=_n;var Pn="AlertDialogOverlay",No=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...o}=r,n=le(t);return s.jsx(xt,{...n,...o,ref:e})});No.displayName=Pn;var Se="AlertDialogContent",[Rn,Tn]=Cn(Se),En=Xr("AlertDialogContent"),_o=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,children:o,...n}=r,a=le(t),l=c.useRef(null),d=W(e,l),i=c.useRef(null);return s.jsx(Wr,{contentName:Se,titleName:Po,docsSlug:"alert-dialog",children:s.jsx(Rn,{scope:t,cancelRef:i,children:s.jsxs(ht,{role:"alertdialog",...a,...n,ref:d,onOpenAutoFocus:L(n.onOpenAutoFocus,u=>{u.preventDefault(),i.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(En,{children:o}),s.jsx(In,{contentRef:l})]})})})});_o.displayName=Se;var Po="AlertDialogTitle",Ro=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...o}=r,n=le(t);return s.jsx(Qt,{...n,...o,ref:e})});Ro.displayName=Po;var To="AlertDialogDescription",Eo=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...o}=r,n=le(t);return s.jsx(Yt,{...n,...o,ref:e})});Eo.displayName=To;var kn="AlertDialogAction",ko=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...o}=r,n=le(t);return s.jsx(gt,{...n,...o,ref:e})});ko.displayName=kn;var Io="AlertDialogCancel",Ao=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...o}=r,{cancelRef:n}=Tn(Io,t),a=le(t),l=W(e,n);return s.jsx(gt,{...a,...o,ref:l})});Ao.displayName=Io;var In=({contentRef:r})=>{const e=`\`${Se}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Se}\` by passing a \`${To}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Se}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,r]),null},An=So,Dn=jo,Mn=Co,On=No,$n=_o,Bn=ko,Fn=Ao,Ln=Ro,Vn=Eo;function Et(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(An,{"data-slot":"alert-dialog",...t}),e[2]=t,e[3]=o):o=e[3],o}function zn(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(Dn,{"data-slot":"alert-dialog-trigger",...t}),e[2]=t,e[3]=o):o=e[3],o}function Un(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(Mn,{"data-slot":"alert-dialog-portal",...t}),e[2]=t,e[3]=o):o=e[3],o}function qn(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(On,{"data-slot":"alert-dialog-overlay",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function kt(r){const e=_.c(9);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(qn,{}),e[3]=n):n=e[3];let a;e[4]!==t?(a=E("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),e[4]=t,e[5]=a):a=e[5];let l;return e[6]!==o||e[7]!==a?(l=s.jsxs(Un,{children:[n,s.jsx($n,{"data-slot":"alert-dialog-content",className:a,...o})]}),e[6]=o,e[7]=a,e[8]=l):l=e[8],l}function It(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex flex-col gap-2 text-center sm:text-left",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("div",{"data-slot":"alert-dialog-header",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function At(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("div",{"data-slot":"alert-dialog-footer",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Dt(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("text-lg font-semibold",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Ln,{"data-slot":"alert-dialog-title",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Mt(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("text-muted-foreground text-sm",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Vn,{"data-slot":"alert-dialog-description",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Ot(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E(lo(),t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Bn,{className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function $t(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E(lo({variant:"outline"}),t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Fn,{className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Do(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(mt,{"data-slot":"dialog",...t}),e[2]=t,e[3]=o):o=e[3],o}function Hn(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(vt,{"data-slot":"dialog-portal",...t}),e[2]=t,e[3]=o):o=e[3],o}function Wn(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(xt,{"data-slot":"dialog-overlay",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Mo(r){const e=_.c(15);let t,o,n,a;e[0]!==r?({className:o,children:t,showCloseButton:a,...n}=r,e[0]=r,e[1]=t,e[2]=o,e[3]=n,e[4]=a):(t=e[1],o=e[2],n=e[3],a=e[4]);const l=a===void 0?!0:a;let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(Wn,{}),e[5]=d):d=e[5];let i;e[6]!==o?(i=E("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",o),e[6]=o,e[7]=i):i=e[7];let u;e[8]!==l?(u=l&&s.jsxs(gt,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Kr,{}),s.jsx("span",{className:"sr-only",children:"Close"})]}),e[8]=l,e[9]=u):u=e[9];let p;return e[10]!==t||e[11]!==n||e[12]!==i||e[13]!==u?(p=s.jsxs(Hn,{"data-slot":"dialog-portal",children:[d,s.jsxs(ht,{"data-slot":"dialog-content",className:i,...n,children:[t,u]})]}),e[10]=t,e[11]=n,e[12]=i,e[13]=u,e[14]=p):p=e[14],p}function Oo(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex flex-col gap-2 text-center sm:text-left",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("div",{"data-slot":"dialog-header",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function $o(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("div",{"data-slot":"dialog-footer",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Bo(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("text-lg leading-none font-semibold",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Qt,{"data-slot":"dialog-title",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Fo(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("text-muted-foreground text-sm",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Yt,{"data-slot":"dialog-description",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Lo(r){const e=c.useRef({value:r,previous:r});return c.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var ze="Switch",[Kn]=Ae(ze),[Gn,Qn]=Kn(ze),Vo=c.forwardRef((r,e)=>{const{__scopeSwitch:t,name:o,checked:n,defaultChecked:a,required:l,disabled:d,value:i="on",onCheckedChange:u,form:p,...m}=r,[x,w]=c.useState(null),j=W(e,N=>w(N)),v=c.useRef(!1),C=x?p||!!x.closest("form"):!0,[h,y]=Ee({prop:n,defaultProp:a??!1,onChange:u,caller:ze});return s.jsxs(Gn,{scope:t,checked:h,disabled:d,children:[s.jsx($.button,{type:"button",role:"switch","aria-checked":h,"aria-required":l,"data-state":Ho(h),"data-disabled":d?"":void 0,disabled:d,value:i,...m,ref:j,onClick:L(r.onClick,N=>{y(O=>!O),C&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})}),C&&s.jsx(qo,{control:x,bubbles:!v.current,name:o,value:i,checked:h,required:l,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});Vo.displayName=ze;var zo="SwitchThumb",Uo=c.forwardRef((r,e)=>{const{__scopeSwitch:t,...o}=r,n=Qn(zo,t);return s.jsx($.span,{"data-state":Ho(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:e})});Uo.displayName=zo;var Yn="SwitchBubbleInput",qo=c.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:o=!0,...n},a)=>{const l=c.useRef(null),d=W(l,a),i=Lo(t),u=Gr(e);return c.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(i!==t&&w){const j=new Event("click",{bubbles:o});w.call(p,t),p.dispatchEvent(j)}},[i,t,o]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:d,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qo.displayName=Yn;function Ho(r){return r?"checked":"unchecked"}var Xn=Vo,Zn=Uo;function Jn(r){const e=_.c(9);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),e[3]=t,e[4]=n):n=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(Zn,{"data-slot":"switch-thumb",className:E("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=a):a=e[5];let l;return e[6]!==o||e[7]!==n?(l=s.jsx(Xn,{"data-slot":"switch",className:n,...o,children:a}),e[6]=o,e[7]=n,e[8]=l):l=e[8],l}async function es(r){return await(await Fr(async()=>{const{default:t}=await import("./browser-qVnBhY3T.js").then(o=>o.b);return{default:t}},__vite__mapDeps([0,1,2]))).default.toDataURL(r,{errorCorrectionLevel:"M",margin:1,scale:8,color:{dark:"#000000",light:"#ffffff"}})}async function ts(r){return await(await fetch(r)).blob()}async function os(r,e,t){const o=`${r}/${e}.png`,{error:n}=await ee.storage.from("pet-qr").upload(o,t,{contentType:"image/png",upsert:!0});if(n)throw n;const{data:a}=ee.storage.from("pet-qr").getPublicUrl(o);return a.publicUrl}async function yt(r,e){const t=`${window.location.origin}/p/${e}`,o=await es(t),n=await ts(o);return await os(r,e,n)}function rs(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx("textarea",{"data-slot":"textarea",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Bt(r,[e,t]){return Math.min(t,Math.max(e,r))}var Wo=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ns="VisuallyHidden",ss=c.forwardRef((r,e)=>s.jsx($.span,{...r,ref:e,style:{...Wo,...r.style}}));ss.displayName=ns;var as=[" ","Enter","ArrowUp","ArrowDown"],ls=[" ","Enter"],ge="Select",[Ue,qe,is]=Qr(ge),[Ce]=Ae(ge,[is,Le]),He=Le(),[cs,de]=Ce(ge),[ds,us]=Ce(ge),Ko=r=>{const{__scopeSelect:e,children:t,open:o,defaultOpen:n,onOpenChange:a,value:l,defaultValue:d,onValueChange:i,dir:u,name:p,autoComplete:m,disabled:x,required:w,form:j}=r,v=He(e),[C,h]=c.useState(null),[y,N]=c.useState(null),[O,I]=c.useState(!1),R=Wt(u),[A,U]=Ee({prop:o,defaultProp:n??!1,onChange:a,caller:ge}),[Y,X]=Ee({prop:l,defaultProp:d,onChange:i,caller:ge}),K=c.useRef(null),G=C?j||!!C.closest("form"):!0,[Z,q]=c.useState(new Set),g=Array.from(Z).map(k=>k.props.value).join(";");return s.jsx(Xt,{...v,children:s.jsxs(cs,{required:w,scope:e,trigger:C,onTriggerChange:h,valueNode:y,onValueNodeChange:N,valueNodeHasChildren:O,onValueNodeHasChildrenChange:I,contentId:ne(),value:Y,onValueChange:X,open:A,onOpenChange:U,dir:R,triggerPointerDownPosRef:K,disabled:x,children:[s.jsx(Ue.Provider,{scope:e,children:s.jsx(ds,{scope:r.__scopeSelect,onNativeOptionAdd:c.useCallback(k=>{q(V=>new Set(V).add(k))},[]),onNativeOptionRemove:c.useCallback(k=>{q(V=>{const te=new Set(V);return te.delete(k),te})},[]),children:t})}),G?s.jsxs(hr,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:m,value:Y,onChange:k=>X(k.target.value),disabled:x,form:j,children:[Y===void 0?s.jsx("option",{value:""}):null,Array.from(Z)]},g):null]})})};Ko.displayName=ge;var Go="SelectTrigger",Qo=c.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:o=!1,...n}=r,a=He(t),l=de(Go,t),d=l.disabled||o,i=W(e,l.onTriggerChange),u=qe(t),p=c.useRef("touch"),[m,x,w]=vr(v=>{const C=u().filter(N=>!N.disabled),h=C.find(N=>N.value===l.value),y=xr(C,v,h);y!==void 0&&l.onValueChange(y.value)}),j=v=>{d||(l.onOpenChange(!0),w()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(bt,{asChild:!0,...a,children:s.jsx($.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":gr(l.value)?"":void 0,...n,ref:i,onClick:L(n.onClick,v=>{v.currentTarget.focus(),p.current!=="mouse"&&j(v)}),onPointerDown:L(n.onPointerDown,v=>{p.current=v.pointerType;const C=v.target;C.hasPointerCapture(v.pointerId)&&C.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:L(n.onKeyDown,v=>{const C=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&x(v.key),!(C&&v.key===" ")&&as.includes(v.key)&&(j(),v.preventDefault())})})})});Qo.displayName=Go;var Yo="SelectValue",Xo=c.forwardRef((r,e)=>{const{__scopeSelect:t,className:o,style:n,children:a,placeholder:l="",...d}=r,i=de(Yo,t),{onValueNodeHasChildrenChange:u}=i,p=a!==void 0,m=W(e,i.onValueNodeChange);return ie(()=>{u(p)},[u,p]),s.jsx($.span,{...d,ref:m,style:{pointerEvents:"none"},children:gr(i.value)?s.jsx(s.Fragment,{children:l}):a})});Xo.displayName=Yo;var ps="SelectIcon",Zo=c.forwardRef((r,e)=>{const{__scopeSelect:t,children:o,...n}=r;return s.jsx($.span,{"aria-hidden":!0,...n,ref:e,children:o||"▼"})});Zo.displayName=ps;var fs="SelectPortal",Jo=r=>s.jsx(Zt,{asChild:!0,...r});Jo.displayName=fs;var ve="SelectContent",er=c.forwardRef((r,e)=>{const t=de(ve,r.__scopeSelect),[o,n]=c.useState();if(ie(()=>{n(new DocumentFragment)},[]),!t.open){const a=o;return a?ao.createPortal(s.jsx(tr,{scope:r.__scopeSelect,children:s.jsx(Ue.Slot,{scope:r.__scopeSelect,children:s.jsx("div",{children:r.children})})}),a):null}return s.jsx(or,{...r,ref:e})});er.displayName=ve;var re=10,[tr,ue]=Ce(ve),ms="SelectContentImpl",hs=io("SelectContent.RemoveScroll"),or=c.forwardRef((r,e)=>{const{__scopeSelect:t,position:o="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:l,side:d,sideOffset:i,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:w,sticky:j,hideWhenDetached:v,avoidCollisions:C,...h}=r,y=de(ve,t),[N,O]=c.useState(null),[I,R]=c.useState(null),A=W(e,b=>O(b)),[U,Y]=c.useState(null),[X,K]=c.useState(null),G=qe(t),[Z,q]=c.useState(!1),g=c.useRef(!1);c.useEffect(()=>{if(N)return Jt(N)},[N]),eo();const k=c.useCallback(b=>{const[M,...B]=G().map(H=>H.ref.current),[F]=B.slice(-1),z=document.activeElement;for(const H of b)if(H===z||(H?.scrollIntoView({block:"nearest"}),H===M&&I&&(I.scrollTop=0),H===F&&I&&(I.scrollTop=I.scrollHeight),H?.focus(),document.activeElement!==z))return},[G,I]),V=c.useCallback(()=>k([U,N]),[k,U,N]);c.useEffect(()=>{Z&&V()},[Z,V]);const{onOpenChange:te,triggerPointerDownPosRef:oe}=y;c.useEffect(()=>{if(N){let b={x:0,y:0};const M=F=>{b={x:Math.abs(Math.round(F.pageX)-(oe.current?.x??0)),y:Math.abs(Math.round(F.pageY)-(oe.current?.y??0))}},B=F=>{b.x<=10&&b.y<=10?F.preventDefault():N.contains(F.target)||te(!1),document.removeEventListener("pointermove",M),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",B,{capture:!0})}}},[N,te,oe]),c.useEffect(()=>{const b=()=>te(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[te]);const[be,fe]=vr(b=>{const M=G().filter(z=>!z.disabled),B=M.find(z=>z.ref.current===document.activeElement),F=xr(M,b,B);F&&setTimeout(()=>F.ref.current.focus())}),f=c.useCallback((b,M,B)=>{const F=!g.current&&!B;(y.value!==void 0&&y.value===M||F)&&(Y(b),F&&(g.current=!0))},[y.value]),P=c.useCallback(()=>N?.focus(),[N]),T=c.useCallback((b,M,B)=>{const F=!g.current&&!B;(y.value!==void 0&&y.value===M||F)&&K(b)},[y.value]),S=o==="popper"?at:rr,D=S===at?{side:d,sideOffset:i,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:w,sticky:j,hideWhenDetached:v,avoidCollisions:C}:{};return s.jsx(tr,{scope:t,content:N,viewport:I,onViewportChange:R,itemRefCallback:f,selectedItem:U,onItemLeave:P,itemTextRefCallback:T,focusSelectedItem:V,selectedItemText:X,position:o,isPositioned:Z,searchRef:be,children:s.jsx(to,{as:hs,allowPinchZoom:!0,children:s.jsx(oo,{asChild:!0,trapped:y.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:L(n,b=>{y.trigger?.focus({preventScroll:!0}),b.preventDefault()}),children:s.jsx(ro,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(S,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:b=>b.preventDefault(),...h,...D,onPlaced:()=>q(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:L(h.onKeyDown,b=>{const M=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!M&&b.key.length===1&&fe(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let F=G().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(b.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const z=b.target,H=F.indexOf(z);F=F.slice(H+1)}setTimeout(()=>k(F)),b.preventDefault()}})})})})})})});or.displayName=ms;var gs="SelectItemAlignedPosition",rr=c.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:o,...n}=r,a=de(ve,t),l=ue(ve,t),[d,i]=c.useState(null),[u,p]=c.useState(null),m=W(e,A=>p(A)),x=qe(t),w=c.useRef(!1),j=c.useRef(!0),{viewport:v,selectedItem:C,selectedItemText:h,focusSelectedItem:y}=l,N=c.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&u&&v&&C&&h){const A=a.trigger.getBoundingClientRect(),U=u.getBoundingClientRect(),Y=a.valueNode.getBoundingClientRect(),X=h.getBoundingClientRect();if(a.dir!=="rtl"){const z=X.left-U.left,H=Y.left-z,me=A.left-H,he=A.width+me,Ge=Math.max(he,U.width),Qe=window.innerWidth-re,Ye=Bt(H,[re,Math.max(re,Qe-Ge)]);d.style.minWidth=he+"px",d.style.left=Ye+"px"}else{const z=U.right-X.right,H=window.innerWidth-Y.right-z,me=window.innerWidth-A.right-H,he=A.width+me,Ge=Math.max(he,U.width),Qe=window.innerWidth-re,Ye=Bt(H,[re,Math.max(re,Qe-Ge)]);d.style.minWidth=he+"px",d.style.right=Ye+"px"}const K=x(),G=window.innerHeight-re*2,Z=v.scrollHeight,q=window.getComputedStyle(u),g=parseInt(q.borderTopWidth,10),k=parseInt(q.paddingTop,10),V=parseInt(q.borderBottomWidth,10),te=parseInt(q.paddingBottom,10),oe=g+k+Z+te+V,be=Math.min(C.offsetHeight*5,oe),fe=window.getComputedStyle(v),f=parseInt(fe.paddingTop,10),P=parseInt(fe.paddingBottom,10),T=A.top+A.height/2-re,S=G-T,D=C.offsetHeight/2,b=C.offsetTop+D,M=g+k+b,B=oe-M;if(M<=T){const z=K.length>0&&C===K[K.length-1].ref.current;d.style.bottom="0px";const H=u.clientHeight-v.offsetTop-v.offsetHeight,me=Math.max(S,D+(z?P:0)+H+V),he=M+me;d.style.height=he+"px"}else{const z=K.length>0&&C===K[0].ref.current;d.style.top="0px";const me=Math.max(T,g+v.offsetTop+(z?f:0)+D)+B;d.style.height=me+"px",v.scrollTop=M-T+v.offsetTop}d.style.margin=`${re}px 0`,d.style.minHeight=be+"px",d.style.maxHeight=G+"px",o?.(),requestAnimationFrame(()=>w.current=!0)}},[x,a.trigger,a.valueNode,d,u,v,C,h,a.dir,o]);ie(()=>N(),[N]);const[O,I]=c.useState();ie(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const R=c.useCallback(A=>{A&&j.current===!0&&(N(),y?.(),j.current=!1)},[N,y]);return s.jsx(xs,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:R,children:s.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:s.jsx($.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});rr.displayName=gs;var vs="SelectPopperPosition",at=c.forwardRef((r,e)=>{const{__scopeSelect:t,align:o="start",collisionPadding:n=re,...a}=r,l=He(t);return s.jsx(no,{...l,...a,ref:e,align:o,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});at.displayName=vs;var[xs,St]=Ce(ve,{}),lt="SelectViewport",nr=c.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:o,...n}=r,a=ue(lt,t),l=St(lt,t),d=W(e,a.onViewportChange),i=c.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(Ue.Slot,{scope:t,children:s.jsx($.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:L(n.onScroll,u=>{const p=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x?.current&&m){const w=Math.abs(i.current-p.scrollTop);if(w>0){const j=window.innerHeight-re*2,v=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),h=Math.max(v,C);if(h<j){const y=h+w,N=Math.min(j,y),O=y-N;m.style.height=N+"px",m.style.bottom==="0px"&&(p.scrollTop=O>0?O:0,m.style.justifyContent="flex-end")}}}i.current=p.scrollTop})})})]})});nr.displayName=lt;var sr="SelectGroup",[bs,ws]=Ce(sr),ys=c.forwardRef((r,e)=>{const{__scopeSelect:t,...o}=r,n=ne();return s.jsx(bs,{scope:t,id:n,children:s.jsx($.div,{role:"group","aria-labelledby":n,...o,ref:e})})});ys.displayName=sr;var ar="SelectLabel",Ss=c.forwardRef((r,e)=>{const{__scopeSelect:t,...o}=r,n=ws(ar,t);return s.jsx($.div,{id:n.id,...o,ref:e})});Ss.displayName=ar;var Fe="SelectItem",[js,lr]=Ce(Fe),ir=c.forwardRef((r,e)=>{const{__scopeSelect:t,value:o,disabled:n=!1,textValue:a,...l}=r,d=de(Fe,t),i=ue(Fe,t),u=d.value===o,[p,m]=c.useState(a??""),[x,w]=c.useState(!1),j=W(e,y=>i.itemRefCallback?.(y,o,n)),v=ne(),C=c.useRef("touch"),h=()=>{n||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(js,{scope:t,value:o,disabled:n,textId:v,isSelected:u,onItemTextChange:c.useCallback(y=>{m(N=>N||(y?.textContent??"").trim())},[]),children:s.jsx(Ue.ItemSlot,{scope:t,value:o,disabled:n,textValue:p,children:s.jsx($.div,{role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...l,ref:j,onFocus:L(l.onFocus,()=>w(!0)),onBlur:L(l.onBlur,()=>w(!1)),onClick:L(l.onClick,()=>{C.current!=="mouse"&&h()}),onPointerUp:L(l.onPointerUp,()=>{C.current==="mouse"&&h()}),onPointerDown:L(l.onPointerDown,y=>{C.current=y.pointerType}),onPointerMove:L(l.onPointerMove,y=>{C.current=y.pointerType,n?i.onItemLeave?.():C.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:L(l.onPointerLeave,y=>{y.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:L(l.onKeyDown,y=>{i.searchRef?.current!==""&&y.key===" "||(ls.includes(y.key)&&h(),y.key===" "&&y.preventDefault())})})})})});ir.displayName=Fe;var Re="SelectItemText",cr=c.forwardRef((r,e)=>{const{__scopeSelect:t,className:o,style:n,...a}=r,l=de(Re,t),d=ue(Re,t),i=lr(Re,t),u=us(Re,t),[p,m]=c.useState(null),x=W(e,h=>m(h),i.onItemTextChange,h=>d.itemTextRefCallback?.(h,i.value,i.disabled)),w=p?.textContent,j=c.useMemo(()=>s.jsx("option",{value:i.value,disabled:i.disabled,children:w},i.value),[i.disabled,i.value,w]),{onNativeOptionAdd:v,onNativeOptionRemove:C}=u;return ie(()=>(v(j),()=>C(j)),[v,C,j]),s.jsxs(s.Fragment,{children:[s.jsx($.span,{id:i.textId,...a,ref:x}),i.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ao.createPortal(a.children,l.valueNode):null]})});cr.displayName=Re;var dr="SelectItemIndicator",ur=c.forwardRef((r,e)=>{const{__scopeSelect:t,...o}=r;return lr(dr,t).isSelected?s.jsx($.span,{"aria-hidden":!0,...o,ref:e}):null});ur.displayName=dr;var it="SelectScrollUpButton",pr=c.forwardRef((r,e)=>{const t=ue(it,r.__scopeSelect),o=St(it,r.__scopeSelect),[n,a]=c.useState(!1),l=W(e,o.onScrollButtonChange);return ie(()=>{if(t.viewport&&t.isPositioned){let d=function(){const u=i.scrollTop>0;a(u)};const i=t.viewport;return d(),i.addEventListener("scroll",d),()=>i.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),n?s.jsx(mr,{...r,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:i}=t;d&&i&&(d.scrollTop=d.scrollTop-i.offsetHeight)}}):null});pr.displayName=it;var ct="SelectScrollDownButton",fr=c.forwardRef((r,e)=>{const t=ue(ct,r.__scopeSelect),o=St(ct,r.__scopeSelect),[n,a]=c.useState(!1),l=W(e,o.onScrollButtonChange);return ie(()=>{if(t.viewport&&t.isPositioned){let d=function(){const u=i.scrollHeight-i.clientHeight,p=Math.ceil(i.scrollTop)<u;a(p)};const i=t.viewport;return d(),i.addEventListener("scroll",d),()=>i.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),n?s.jsx(mr,{...r,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:i}=t;d&&i&&(d.scrollTop=d.scrollTop+i.offsetHeight)}}):null});fr.displayName=ct;var mr=c.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:o,...n}=r,a=ue("SelectScrollButton",t),l=c.useRef(null),d=qe(t),i=c.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return c.useEffect(()=>()=>i(),[i]),ie(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),s.jsx($.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:L(n.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:L(n.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:L(n.onPointerLeave,()=>{i()})})}),Cs="SelectSeparator",Ns=c.forwardRef((r,e)=>{const{__scopeSelect:t,...o}=r;return s.jsx($.div,{"aria-hidden":!0,...o,ref:e})});Ns.displayName=Cs;var dt="SelectArrow",_s=c.forwardRef((r,e)=>{const{__scopeSelect:t,...o}=r,n=He(t),a=de(dt,t),l=ue(dt,t);return a.open&&l.position==="popper"?s.jsx(so,{...n,...o,ref:e}):null});_s.displayName=dt;var Ps="SelectBubbleInput",hr=c.forwardRef(({__scopeSelect:r,value:e,...t},o)=>{const n=c.useRef(null),a=W(o,n),l=Lo(e);return c.useEffect(()=>{const d=n.current;if(!d)return;const i=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(i,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(d,e),d.dispatchEvent(m)}},[l,e]),s.jsx($.select,{...t,style:{...Wo,...t.style},ref:a,defaultValue:e})});hr.displayName=Ps;function gr(r){return r===""||r===void 0}function vr(r){const e=Yr(r),t=c.useRef(""),o=c.useRef(0),n=c.useCallback(l=>{const d=t.current+l;e(d),(function i(u){t.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>i(""),1e3))})(d)},[e]),a=c.useCallback(()=>{t.current="",window.clearTimeout(o.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(o.current),[]),[t,n,a]}function xr(r,e,t){const n=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=t?r.indexOf(t):-1;let l=Rs(r,Math.max(a,0));n.length===1&&(l=l.filter(u=>u!==t));const i=l.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==t?i:void 0}function Rs(r,e){return r.map((t,o)=>r[(e+o)%r.length])}var Ts=Ko,Es=Qo,ks=Xo,Is=Zo,As=Jo,Ds=er,Ms=nr,Os=ir,$s=cr,Bs=ur,Fs=pr,Ls=fr;function Vs(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(Ts,{"data-slot":"select",...t}),e[2]=t,e[3]=o):o=e[3],o}function zs(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(ks,{"data-slot":"select-value",...t}),e[2]=t,e[3]=o):o=e[3],o}function Us(r){const e=_.c(13);let t,o,n,a;e[0]!==r?({className:o,size:a,children:t,...n}=r,e[0]=r,e[1]=t,e[2]=o,e[3]=n,e[4]=a):(t=e[1],o=e[2],n=e[3],a=e[4]);const l=a===void 0?"default":a;let d;e[5]!==o?(d=E("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o),e[5]=o,e[6]=d):d=e[6];let i;e[7]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(Is,{asChild:!0,children:s.jsx(co,{className:"size-4 opacity-50"})}),e[7]=i):i=e[7];let u;return e[8]!==t||e[9]!==n||e[10]!==l||e[11]!==d?(u=s.jsxs(Es,{"data-slot":"select-trigger","data-size":l,className:d,...n,children:[t,i]}),e[8]=t,e[9]=n,e[10]=l,e[11]=d,e[12]=u):u=e[12],u}function qs(r){const e=_.c(20);let t,o,n,a;e[0]!==r?({className:o,children:t,position:a,...n}=r,e[0]=r,e[1]=t,e[2]=o,e[3]=n,e[4]=a):(t=e[1],o=e[2],n=e[3],a=e[4]);const l=a===void 0?"popper":a,d=l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let i;e[5]!==o||e[6]!==d?(i=E("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",d,o),e[5]=o,e[6]=d,e[7]=i):i=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(Hs,{}),e[8]=u):u=e[8];const p=l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let m;e[9]!==p?(m=E("p-1",p),e[9]=p,e[10]=m):m=e[10];let x;e[11]!==t||e[12]!==m?(x=s.jsx(Ms,{className:m,children:t}),e[11]=t,e[12]=m,e[13]=x):x=e[13];let w;e[14]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(Ws,{}),e[14]=w):w=e[14];let j;return e[15]!==l||e[16]!==n||e[17]!==i||e[18]!==x?(j=s.jsx(As,{children:s.jsxs(Ds,{"data-slot":"select-content",className:i,position:l,...n,children:[u,x,w]})}),e[15]=l,e[16]=n,e[17]=i,e[18]=x,e[19]=j):j=e[19],j}function tt(r){const e=_.c(13);let t,o,n;e[0]!==r?({className:o,children:t,...n}=r,e[0]=r,e[1]=t,e[2]=o,e[3]=n):(t=e[1],o=e[2],n=e[3]);let a;e[4]!==o?(a=E("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),e[4]=o,e[5]=a):a=e[5];let l;e[6]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(Bs,{children:s.jsx(nn,{className:"size-4"})})}),e[6]=l):l=e[6];let d;e[7]!==t?(d=s.jsx($s,{children:t}),e[7]=t,e[8]=d):d=e[8];let i;return e[9]!==n||e[10]!==a||e[11]!==d?(i=s.jsxs(Os,{"data-slot":"select-item",className:a,...n,children:[l,d]}),e[9]=n,e[10]=a,e[11]=d,e[12]=i):i=e[12],i}function Hs(r){const e=_.c(9);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex cursor-default items-center justify-center py-1",t),e[3]=t,e[4]=n):n=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(ln,{className:"size-4"}),e[5]=a):a=e[5];let l;return e[6]!==o||e[7]!==n?(l=s.jsx(Fs,{"data-slot":"select-scroll-up-button",className:n,...o,children:a}),e[6]=o,e[7]=n,e[8]=l):l=e[8],l}function Ws(r){const e=_.c(9);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("flex cursor-default items-center justify-center py-1",t),e[3]=t,e[4]=n):n=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(co,{className:"size-4"}),e[5]=a):a=e[5];let l;return e[6]!==o||e[7]!==n?(l=s.jsx(Ls,{"data-slot":"select-scroll-down-button",className:n,...o,children:a}),e[6]=o,e[7]=n,e[8]=l):l=e[8],l}var We="Popover",[br]=Ae(We,[Le]),De=Le(),[Ks,pe]=br(We),wr=r=>{const{__scopePopover:e,children:t,open:o,defaultOpen:n,onOpenChange:a,modal:l=!1}=r,d=De(e),i=c.useRef(null),[u,p]=c.useState(!1),[m,x]=Ee({prop:o,defaultProp:n??!1,onChange:a,caller:We});return s.jsx(Xt,{...d,children:s.jsx(Ks,{scope:e,contentId:ne(),triggerRef:i,open:m,onOpenChange:x,onOpenToggle:c.useCallback(()=>x(w=>!w),[x]),hasCustomAnchor:u,onCustomAnchorAdd:c.useCallback(()=>p(!0),[]),onCustomAnchorRemove:c.useCallback(()=>p(!1),[]),modal:l,children:t})})};wr.displayName=We;var yr="PopoverAnchor",Gs=c.forwardRef((r,e)=>{const{__scopePopover:t,...o}=r,n=pe(yr,t),a=De(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=n;return c.useEffect(()=>(l(),()=>d()),[l,d]),s.jsx(bt,{...a,...o,ref:e})});Gs.displayName=yr;var Sr="PopoverTrigger",jr=c.forwardRef((r,e)=>{const{__scopePopover:t,...o}=r,n=pe(Sr,t),a=De(t),l=W(e,n.triggerRef),d=s.jsx($.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Rr(n.open),...o,ref:l,onClick:L(r.onClick,n.onOpenToggle)});return n.hasCustomAnchor?d:s.jsx(bt,{asChild:!0,...a,children:d})});jr.displayName=Sr;var jt="PopoverPortal",[Qs,Ys]=br(jt,{forceMount:void 0}),Cr=r=>{const{__scopePopover:e,forceMount:t,children:o,container:n}=r,a=pe(jt,e);return s.jsx(Qs,{scope:e,forceMount:t,children:s.jsx(ft,{present:t||a.open,children:s.jsx(Zt,{asChild:!0,container:n,children:o})})})};Cr.displayName=jt;var je="PopoverContent",Nr=c.forwardRef((r,e)=>{const t=Ys(je,r.__scopePopover),{forceMount:o=t.forceMount,...n}=r,a=pe(je,r.__scopePopover);return s.jsx(ft,{present:o||a.open,children:a.modal?s.jsx(Zs,{...n,ref:e}):s.jsx(Js,{...n,ref:e})})});Nr.displayName=je;var Xs=io("PopoverContent.RemoveScroll"),Zs=c.forwardRef((r,e)=>{const t=pe(je,r.__scopePopover),o=c.useRef(null),n=W(e,o),a=c.useRef(!1);return c.useEffect(()=>{const l=o.current;if(l)return Jt(l)},[]),s.jsx(to,{as:Xs,allowPinchZoom:!0,children:s.jsx(_r,{...r,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(r.onCloseAutoFocus,l=>{l.preventDefault(),a.current||t.triggerRef.current?.focus()}),onPointerDownOutside:L(r.onPointerDownOutside,l=>{const d=l.detail.originalEvent,i=d.button===0&&d.ctrlKey===!0,u=d.button===2||i;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:L(r.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Js=c.forwardRef((r,e)=>{const t=pe(je,r.__scopePopover),o=c.useRef(!1),n=c.useRef(!1);return s.jsx(_r,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{r.onCloseAutoFocus?.(a),a.defaultPrevented||(o.current||t.triggerRef.current?.focus(),a.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:a=>{r.onInteractOutside?.(a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=a.target;t.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),_r=c.forwardRef((r,e)=>{const{__scopePopover:t,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:p,...m}=r,x=pe(je,t),w=De(t);return eo(),s.jsx(oo,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:a,children:s.jsx(ro,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:i,onFocusOutside:u,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(no,{"data-state":Rr(x.open),role:"dialog",id:x.contentId,...w,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Pr="PopoverClose",ea=c.forwardRef((r,e)=>{const{__scopePopover:t,...o}=r,n=pe(Pr,t);return s.jsx($.button,{type:"button",...o,ref:e,onClick:L(r.onClick,()=>n.onOpenChange(!1))})});ea.displayName=Pr;var ta="PopoverArrow",oa=c.forwardRef((r,e)=>{const{__scopePopover:t,...o}=r,n=De(t);return s.jsx(so,{...n,...o,ref:e})});oa.displayName=ta;function Rr(r){return r?"open":"closed"}var ra=wr,na=jr,sa=Cr,aa=Nr;function la(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(ra,{"data-slot":"popover",...t}),e[2]=t,e[3]=o):o=e[3],o}function ia(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(na,{"data-slot":"popover-trigger",...t}),e[2]=t,e[3]=o):o=e[3],o}function ca(r){const e=_.c(12);let t,o,n,a;e[0]!==r?({className:t,align:n,sideOffset:a,...o}=r,e[0]=r,e[1]=t,e[2]=o,e[3]=n,e[4]=a):(t=e[1],o=e[2],n=e[3],a=e[4]);const l=n===void 0?"center":n,d=a===void 0?4:a;let i;e[5]!==t?(i=E("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),e[5]=t,e[6]=i):i=e[6];let u;return e[7]!==l||e[8]!==o||e[9]!==d||e[10]!==i?(u=s.jsx(sa,{children:s.jsx(aa,{"data-slot":"popover-content",align:l,sideOffset:d,className:i,...o})}),e[7]=l,e[8]=o,e[9]=d,e[10]=i,e[11]=u):u=e[11],u}var Ft=1,da=.9,ua=.8,pa=.17,ot=.1,rt=.999,fa=.9999,ma=.99,ha=/[\\\/_+.#"@\[\(\{&]/,ga=/[\\\/_+.#"@\[\(\{&]/g,va=/[\s-]/,Tr=/[\s-]/g;function ut(r,e,t,o,n,a,l){if(a===e.length)return n===r.length?Ft:ma;var d=`${n},${a}`;if(l[d]!==void 0)return l[d];for(var i=o.charAt(a),u=t.indexOf(i,n),p=0,m,x,w,j;u>=0;)m=ut(r,e,t,o,u+1,a+1,l),m>p&&(u===n?m*=Ft:ha.test(r.charAt(u-1))?(m*=ua,w=r.slice(n,u-1).match(ga),w&&n>0&&(m*=Math.pow(rt,w.length))):va.test(r.charAt(u-1))?(m*=da,j=r.slice(n,u-1).match(Tr),j&&n>0&&(m*=Math.pow(rt,j.length))):(m*=pa,n>0&&(m*=Math.pow(rt,u-n))),r.charAt(u)!==e.charAt(a)&&(m*=fa)),(m<ot&&t.charAt(u-1)===o.charAt(a+1)||o.charAt(a+1)===o.charAt(a)&&t.charAt(u-1)!==o.charAt(a))&&(x=ut(r,e,t,o,u+1,a+2,l),x*ot>m&&(m=x*ot)),m>p&&(p=m),u=t.indexOf(i,u+1);return l[d]=p,p}function Lt(r){return r.toLowerCase().replace(Tr," ")}function xa(r,e,t){return r=t&&t.length>0?`${r+" "+t.join(" ")}`:r,ut(r,e,Lt(r),Lt(e),0,0,{})}var Pe='[cmdk-group=""]',nt='[cmdk-group-items=""]',ba='[cmdk-group-heading=""]',Er='[cmdk-item=""]',Vt=`${Er}:not([aria-disabled="true"])`,pt="cmdk-item-select",we="data-value",wa=(r,e,t)=>xa(r,e,t),kr=c.createContext(void 0),Me=()=>c.useContext(kr),Ir=c.createContext(void 0),Ct=()=>c.useContext(Ir),Ar=c.createContext(void 0),Dr=c.forwardRef((r,e)=>{let t=ye(()=>{var f,P;return{search:"",value:(P=(f=r.value)!=null?f:r.defaultValue)!=null?P:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=ye(()=>new Set),n=ye(()=>new Map),a=ye(()=>new Map),l=ye(()=>new Set),d=Mr(r),{label:i,children:u,value:p,onValueChange:m,filter:x,shouldFilter:w,loop:j,disablePointerSelection:v=!1,vimBindings:C=!0,...h}=r,y=ne(),N=ne(),O=ne(),I=c.useRef(null),R=ka();xe(()=>{if(p!==void 0){let f=p.trim();t.current.value=f,A.emit()}},[p]),xe(()=>{R(6,Z)},[]);let A=c.useMemo(()=>({subscribe:f=>(l.current.add(f),()=>l.current.delete(f)),snapshot:()=>t.current,setState:(f,P,T)=>{var S,D,b,M;if(!Object.is(t.current[f],P)){if(t.current[f]=P,f==="search")G(),X(),R(1,K);else if(f==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let B=document.getElementById(O);B?B.focus():(S=document.getElementById(y))==null||S.focus()}if(R(7,()=>{var B;t.current.selectedItemId=(B=q())==null?void 0:B.id,A.emit()}),T||R(5,Z),((D=d.current)==null?void 0:D.value)!==void 0){let B=P??"";(M=(b=d.current).onValueChange)==null||M.call(b,B);return}}A.emit()}},emit:()=>{l.current.forEach(f=>f())}}),[]),U=c.useMemo(()=>({value:(f,P,T)=>{var S;P!==((S=a.current.get(f))==null?void 0:S.value)&&(a.current.set(f,{value:P,keywords:T}),t.current.filtered.items.set(f,Y(P,T)),R(2,()=>{X(),A.emit()}))},item:(f,P)=>(o.current.add(f),P&&(n.current.has(P)?n.current.get(P).add(f):n.current.set(P,new Set([f]))),R(3,()=>{G(),X(),t.current.value||K(),A.emit()}),()=>{a.current.delete(f),o.current.delete(f),t.current.filtered.items.delete(f);let T=q();R(4,()=>{G(),T?.getAttribute("id")===f&&K(),A.emit()})}),group:f=>(n.current.has(f)||n.current.set(f,new Set),()=>{a.current.delete(f),n.current.delete(f)}),filter:()=>d.current.shouldFilter,label:i||r["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:y,inputId:O,labelId:N,listInnerRef:I}),[]);function Y(f,P){var T,S;let D=(S=(T=d.current)==null?void 0:T.filter)!=null?S:wa;return f?D(f,t.current.search,P):0}function X(){if(!t.current.search||d.current.shouldFilter===!1)return;let f=t.current.filtered.items,P=[];t.current.filtered.groups.forEach(S=>{let D=n.current.get(S),b=0;D.forEach(M=>{let B=f.get(M);b=Math.max(B,b)}),P.push([S,b])});let T=I.current;g().sort((S,D)=>{var b,M;let B=S.getAttribute("id"),F=D.getAttribute("id");return((b=f.get(F))!=null?b:0)-((M=f.get(B))!=null?M:0)}).forEach(S=>{let D=S.closest(nt);D?D.appendChild(S.parentElement===D?S:S.closest(`${nt} > *`)):T.appendChild(S.parentElement===T?S:S.closest(`${nt} > *`))}),P.sort((S,D)=>D[1]-S[1]).forEach(S=>{var D;let b=(D=I.current)==null?void 0:D.querySelector(`${Pe}[${we}="${encodeURIComponent(S[0])}"]`);b?.parentElement.appendChild(b)})}function K(){let f=g().find(T=>T.getAttribute("aria-disabled")!=="true"),P=f?.getAttribute(we);A.setState("value",P||void 0)}function G(){var f,P,T,S;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=o.current.size;return}t.current.filtered.groups=new Set;let D=0;for(let b of o.current){let M=(P=(f=a.current.get(b))==null?void 0:f.value)!=null?P:"",B=(S=(T=a.current.get(b))==null?void 0:T.keywords)!=null?S:[],F=Y(M,B);t.current.filtered.items.set(b,F),F>0&&D++}for(let[b,M]of n.current)for(let B of M)if(t.current.filtered.items.get(B)>0){t.current.filtered.groups.add(b);break}t.current.filtered.count=D}function Z(){var f,P,T;let S=q();S&&(((f=S.parentElement)==null?void 0:f.firstChild)===S&&((T=(P=S.closest(Pe))==null?void 0:P.querySelector(ba))==null||T.scrollIntoView({block:"nearest"})),S.scrollIntoView({block:"nearest"}))}function q(){var f;return(f=I.current)==null?void 0:f.querySelector(`${Er}[aria-selected="true"]`)}function g(){var f;return Array.from(((f=I.current)==null?void 0:f.querySelectorAll(Vt))||[])}function k(f){let P=g()[f];P&&A.setState("value",P.getAttribute(we))}function V(f){var P;let T=q(),S=g(),D=S.findIndex(M=>M===T),b=S[D+f];(P=d.current)!=null&&P.loop&&(b=D+f<0?S[S.length-1]:D+f===S.length?S[0]:S[D+f]),b&&A.setState("value",b.getAttribute(we))}function te(f){let P=q(),T=P?.closest(Pe),S;for(;T&&!S;)T=f>0?Ta(T,Pe):Ea(T,Pe),S=T?.querySelector(Vt);S?A.setState("value",S.getAttribute(we)):V(f)}let oe=()=>k(g().length-1),be=f=>{f.preventDefault(),f.metaKey?oe():f.altKey?te(1):V(1)},fe=f=>{f.preventDefault(),f.metaKey?k(0):f.altKey?te(-1):V(-1)};return c.createElement($.div,{ref:e,tabIndex:-1,...h,"cmdk-root":"",onKeyDown:f=>{var P;(P=h.onKeyDown)==null||P.call(h,f);let T=f.nativeEvent.isComposing||f.keyCode===229;if(!(f.defaultPrevented||T))switch(f.key){case"n":case"j":{C&&f.ctrlKey&&be(f);break}case"ArrowDown":{be(f);break}case"p":case"k":{C&&f.ctrlKey&&fe(f);break}case"ArrowUp":{fe(f);break}case"Home":{f.preventDefault(),k(0);break}case"End":{f.preventDefault(),oe();break}case"Enter":{f.preventDefault();let S=q();if(S){let D=new Event(pt);S.dispatchEvent(D)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:Aa},i),Ke(r,f=>c.createElement(Ir.Provider,{value:A},c.createElement(kr.Provider,{value:U},f))))}),ya=c.forwardRef((r,e)=>{var t,o;let n=ne(),a=c.useRef(null),l=c.useContext(Ar),d=Me(),i=Mr(r),u=(o=(t=i.current)==null?void 0:t.forceMount)!=null?o:l?.forceMount;xe(()=>{if(!u)return d.item(n,l?.id)},[u]);let p=Or(n,a,[r.value,r.children,a],r.keywords),m=Ct(),x=ce(R=>R.value&&R.value===p.current),w=ce(R=>u||d.filter()===!1?!0:R.search?R.filtered.items.get(n)>0:!0);c.useEffect(()=>{let R=a.current;if(!(!R||r.disabled))return R.addEventListener(pt,j),()=>R.removeEventListener(pt,j)},[w,r.onSelect,r.disabled]);function j(){var R,A;v(),(A=(R=i.current).onSelect)==null||A.call(R,p.current)}function v(){m.setState("value",p.current,!0)}if(!w)return null;let{disabled:C,value:h,onSelect:y,forceMount:N,keywords:O,...I}=r;return c.createElement($.div,{ref:ke(a,e),...I,id:n,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!x,"data-disabled":!!C,"data-selected":!!x,onPointerMove:C||d.getDisablePointerSelection()?void 0:v,onClick:C?void 0:j},r.children)}),Sa=c.forwardRef((r,e)=>{let{heading:t,children:o,forceMount:n,...a}=r,l=ne(),d=c.useRef(null),i=c.useRef(null),u=ne(),p=Me(),m=ce(w=>n||p.filter()===!1?!0:w.search?w.filtered.groups.has(l):!0);xe(()=>p.group(l),[]),Or(l,d,[r.value,r.heading,i]);let x=c.useMemo(()=>({id:l,forceMount:n}),[n]);return c.createElement($.div,{ref:ke(d,e),...a,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},t&&c.createElement("div",{ref:i,"cmdk-group-heading":"","aria-hidden":!0,id:u},t),Ke(r,w=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?u:void 0},c.createElement(Ar.Provider,{value:x},w))))}),ja=c.forwardRef((r,e)=>{let{alwaysRender:t,...o}=r,n=c.useRef(null),a=ce(l=>!l.search);return!t&&!a?null:c.createElement($.div,{ref:ke(n,e),...o,"cmdk-separator":"",role:"separator"})}),Ca=c.forwardRef((r,e)=>{let{onValueChange:t,...o}=r,n=r.value!=null,a=Ct(),l=ce(u=>u.search),d=ce(u=>u.selectedItemId),i=Me();return c.useEffect(()=>{r.value!=null&&a.setState("search",r.value)},[r.value]),c.createElement($.input,{ref:e,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":i.listId,"aria-labelledby":i.labelId,"aria-activedescendant":d,id:i.inputId,type:"text",value:n?r.value:l,onChange:u=>{n||a.setState("search",u.target.value),t?.(u.target.value)}})}),Na=c.forwardRef((r,e)=>{let{children:t,label:o="Suggestions",...n}=r,a=c.useRef(null),l=c.useRef(null),d=ce(u=>u.selectedItemId),i=Me();return c.useEffect(()=>{if(l.current&&a.current){let u=l.current,p=a.current,m,x=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let w=u.offsetHeight;p.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return x.observe(u),()=>{cancelAnimationFrame(m),x.unobserve(u)}}},[]),c.createElement($.div,{ref:ke(a,e),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":o,id:i.listId},Ke(r,u=>c.createElement("div",{ref:ke(l,i.listInnerRef),"cmdk-list-sizer":""},u)))}),_a=c.forwardRef((r,e)=>{let{open:t,onOpenChange:o,overlayClassName:n,contentClassName:a,container:l,...d}=r;return c.createElement(mt,{open:t,onOpenChange:o},c.createElement(vt,{container:l},c.createElement(xt,{"cmdk-overlay":"",className:n}),c.createElement(ht,{"aria-label":r.label,"cmdk-dialog":"",className:a},c.createElement(Dr,{ref:e,...d}))))}),Pa=c.forwardRef((r,e)=>ce(t=>t.filtered.count===0)?c.createElement($.div,{ref:e,...r,"cmdk-empty":"",role:"presentation"}):null),Ra=c.forwardRef((r,e)=>{let{progress:t,children:o,label:n="Loading...",...a}=r;return c.createElement($.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},Ke(r,l=>c.createElement("div",{"aria-hidden":!0},l)))}),Ne=Object.assign(Dr,{List:Na,Item:ya,Input:Ca,Group:Sa,Separator:ja,Dialog:_a,Empty:Pa,Loading:Ra});function Ta(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function Ea(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function Mr(r){let e=c.useRef(r);return xe(()=>{e.current=r}),e}var xe=typeof window>"u"?c.useEffect:c.useLayoutEffect;function ye(r){let e=c.useRef();return e.current===void 0&&(e.current=r()),e}function ce(r){let e=Ct(),t=()=>r(e.snapshot());return c.useSyncExternalStore(e.subscribe,t,t)}function Or(r,e,t,o=[]){let n=c.useRef(),a=Me();return xe(()=>{var l;let d=(()=>{var u;for(let p of t){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(u=p.current.textContent)==null?void 0:u.trim():n.current}})(),i=o.map(u=>u.trim());a.value(r,d,i),(l=e.current)==null||l.setAttribute(we,d),n.current=d}),n}var ka=()=>{let[r,e]=c.useState(),t=ye(()=>new Map);return xe(()=>{t.current.forEach(o=>o()),t.current=new Map},[r]),(o,n)=>{t.current.set(o,n),e({})}};function Ia(r){let e=r.type;return typeof e=="function"?e(r.props):"render"in e?e.render(r.props):r}function Ke({asChild:r,children:e},t){return r&&c.isValidElement(e)?c.cloneElement(Ia(e),{ref:e.ref},t(e.props.children)):t(e)}var Aa={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Da(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Ne,{"data-slot":"command",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Ma(r){const e=_.c(9);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(pn,{className:"size-4 shrink-0 opacity-50"}),e[3]=n):n=e[3];let a;e[4]!==t?(a=E("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),e[4]=t,e[5]=a):a=e[5];let l;return e[6]!==o||e[7]!==a?(l=s.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[n,s.jsx(Ne.Input,{"data-slot":"command-input",className:a,...o})]}),e[6]=o,e[7]=a,e[8]=l):l=e[8],l}function Oa(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Ne.List,{"data-slot":"command-list",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function $a(r){const e=_.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let o;return e[2]!==t?(o=s.jsx(Ne.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t}),e[2]=t,e[3]=o):o=e[3],o}function Ba(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Ne.Group,{"data-slot":"command-group",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}function Fa(r){const e=_.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let n;e[3]!==t?(n=E("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=n):n=e[4];let a;return e[5]!==o||e[6]!==n?(a=s.jsx(Ne.Item,{"data-slot":"command-item",className:n,...o}),e[5]=o,e[6]=n,e[7]=a):a=e[7],a}const $r=[{name:"Golden Retriever",defaultColors:["Golden"]},{name:"Labrador Retriever",defaultColors:["Yellow","Black","Chocolate"]},{name:"German Shepherd",defaultColors:["Black/Tan","Sable","Black"]},{name:"French Bulldog",defaultColors:["Fawn","Brindle","Cream","Pied"]},{name:"Poodle",defaultColors:["White","Black","Apricot","Red"]},{name:"Bulldog",defaultColors:["Fawn","Brindle","White","Piebald"]},{name:"Beagle",defaultColors:["Tri-color","Lemon/White","Red/White"]},{name:"Rottweiler",defaultColors:["Black/Rust"]},{name:"Dachshund",defaultColors:["Red","Black/Tan","Chocolate/Tan","Dapple"]},{name:"Yorkshire Terrier",defaultColors:["Blue/Tan"]}],Br=[{name:"Bicolor / Tuxedo",defaultColors:["Black/White","Gray/White","Seal/White"]},{name:"Calico",defaultColors:["Black/Orange/White","Dilute (Blue/Cream/White)"]},{name:"Pointed",defaultColors:["Seal point","Blue point","Chocolate point","Lilac point","Flame point"]},{name:"Shaded",defaultColors:["Shaded Silver","Shaded Golden"]},{name:"Smoke",defaultColors:["Black Smoke","Blue Smoke"]},{name:"Solid",defaultColors:["Black","White","Blue/Gray","Red/Orange","Cream"]},{name:"Spotted",defaultColors:["Brown Spotted","Silver Spotted"]},{name:"Tabby",defaultColors:["Brown Tabby","Gray/Blue Tabby","Orange Tabby","Silver Tabby","Torbie"]},{name:"Tortoiseshell (Tortie)",defaultColors:["Black/Orange","Chocolate/Cream","Dilute (Blue/Cream)"]}];function La(r,e){return!r||!e?[]:r==="dog"?$r.find(o=>o.name===e)?.defaultColors??[]:r==="cat"?Br.find(o=>o.name===e)?.defaultColors??[]:[]}const Va=$r.map(r=>r.name),za=Br.map(r=>r.name);function Ua({label:r="Photo",value:e,onChange:t,options:o,accept:n="image/*",className:a}){const l=c.useRef(null),d=()=>l.current?.click(),i=()=>t(null),u=async p=>{if(!p||!p.type.startsWith("image/"))return;const m=await qa(p,o);t(m)};return s.jsxs("div",{className:a,children:[s.jsx(J,{className:"mb-2 block",children:r}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Q,{type:"button",variant:"outline",onClick:d,children:e?"Replace Image":"Upload Image"}),e&&s.jsx(Q,{type:"button",variant:"ghost",onClick:i,children:"Remove"})]}),s.jsx(ae,{ref:l,type:"file",accept:n,className:"hidden",onChange:p=>{const m=p.target.files?.[0];m&&u(m),p.currentTarget.value=""}}),e&&s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"my-3"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("img",{src:e.dataUrl,alt:"preview",className:"h-24 w-24 rounded-md object-cover border"}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:"Optimized:"})," ",e.mimeType]}),s.jsxs("div",{children:["Size: ~",e.approxKB.toLocaleString()," KB"]}),s.jsxs("div",{children:["Dims: ",e.width," × ",e.height]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:"Original:"})," ",e.original.name," — ",e.original.sizeKB.toLocaleString()," KB"]})]})]})]})]})}async function qa(r,e){const t=await r.arrayBuffer(),o=new Blob([t]),n=await Wa(o),a=e?.maxWidth??1200,l=e?.maxHeight??1200,{width:d,height:i}=Ha(n.width,n.height,a,l),u=document.createElement("canvas");u.width=d,u.height=i,u.getContext("2d").drawImage(n,0,0,d,i);const m=e?.preferWebP??!0,x=e?.quality??.82,w=u.toDataURL("image/webp").startsWith("data:image/webp"),j=m&&w?"image/webp":"image/jpeg",v=await Ka(u,j,x),C=await Ga(v);return{blob:v,dataUrl:C,width:d,height:i,approxKB:Math.round(v.size/1024),mimeType:j,original:{name:r.name,sizeKB:Math.round(r.size/1024),type:r.type}}}function Ha(r,e,t,o){const n=Math.min(t/r,o/e,1);return{width:Math.round(r*n),height:Math.round(e*n)}}function Wa(r){return new Promise((e,t)=>{const o=URL.createObjectURL(r),n=new Image;n.onload=()=>{URL.revokeObjectURL(o),e(n)},n.onerror=t,n.src=o})}function Ka(r,e,t){return new Promise(o=>r.toBlob(n=>o(n),e,t))}function Ga(r){return new Promise(e=>{const t=new FileReader;t.onload=()=>e(String(t.result)),t.readAsDataURL(r)})}async function Qa(r){const{data:e,error:t}=await ee.from("pets").insert(r).select().single();if(t)throw t;return e}async function Te(r,e){const{error:t}=await ee.from("pets").update(e).eq("id",r);if(t)throw t;const{data:o,error:n}=await ee.from("pets").select("*").eq("id",r).maybeSingle();return n?(console.warn("updatePet: select after update blocked by RLS:",n?.message),{id:r,...e}):o??{id:r,...e}}async function Ya(r){const{data:e,error:t}=await ee.from("pets").select("*").eq("owner_id",r).order("created_at",{ascending:!1});if(t)throw t;return e??[]}async function zt(r,e,t){if(!t||t.size===0)throw new Error("Empty image blob");const o=t.type||"image/webp",a=`${r}/${e}.${o==="image/jpeg"||o==="image/jpg"?"jpg":o==="image/png"?"png":o==="image/avif"?"avif":"webp"}`,{data:l}=await ee.auth.getSession();console.log("upload session:",{hasSession:!!l.session,role:l.session?"authenticated":"anon",uid:l.session?.user?.id}),console.log("uploadPetPhoto ->",{bucket:"pet-photos",path:a,ownerId:r,petId:e,mime:o,size:t.size});const{error:d}=await ee.storage.from("pet-photos").upload(a,t,{contentType:o,upsert:!0});if(d)throw console.error("storage.upload error:",d),d;const{data:i}=ee.storage.from("pet-photos").getPublicUrl(a);return i.publicUrl}async function Xa(r){const{error:e}=await ee.from("pets").delete().eq("id",r);if(e)throw e}async function Za(r){if(!r)return;const e=r.indexOf("/pet-photos/");if(e===-1)return;const t=r.substring(e+12);if(!t)return;const{error:o}=await ee.storage.from("pet-photos").remove([t]);o&&console.warn("storage.remove warning:",o.message)}async function Ja(r){const{data:e,error:t}=await ee.from("pets").select("id, qr_url").eq("owner_id",r);if(t)throw t;for(const o of e??[])if(!o.qr_url){const n=await yt(r,o.id),{error:a}=await ee.from("pets").update({qr_url:n}).eq("id",o.id);if(a)throw a}}const el=_t({id:se().optional(),name:se().min(1,"Name is required"),species:tn(["dog","cat","other"],{message:"Choose a species"}),breed:se().optional(),color:se().optional(),weight:en().min(0,"Weight must be positive").optional(),birthdate:se().optional(),microchipId:se().optional(),description:se().optional(),notes:se().optional(),vaccinations:_t({rabies:on().default(!1),rabiesExpires:se().optional()}).default({rabies:!1,rabiesExpires:""}),photoPreview:se().optional()});async function Ut(r){return await(await fetch(r)).blob()}function qt({mode:r,open:e,onOpenChange:t,initialPet:o,onSubmit:n}){const{user:a}=Ht(),[l,d]=c.useState(!1),i=Zr({resolver:Jr(el),defaultValues:{id:o?.id,name:o?.name??"",species:o?.species,breed:o?.breed??"",color:o?.color??"",weight:o?.weight??void 0,birthdate:o?.birthdate??"",microchipId:o?.microchipId??"",description:o?.description??"",notes:o?.notes??"",vaccinations:{rabies:o?.vaccinations?.rabies??!1,rabiesExpires:o?.vaccinations?.rabiesExpires??""},photoPreview:o?.photoPreview??""},mode:"onSubmit"}),u=i.watch("species"),p=i.watch("breed"),[m,x]=c.useState(!1),w=c.useRef(null),j=c.useMemo(()=>u==="dog"?Va:u==="cat"?za:[],[u]),v=c.useMemo(()=>La(u??"other",p),[u,p]),C=async h=>{if(!a?.id){alert("You must be signed in.");return}d(!0);const y={rabies:!!h.vaccinations?.rabies,rabiesExpires:h.vaccinations?.rabies&&h.vaccinations.rabiesExpires||void 0},N={owner_id:a.id,name:h.name,species:h.species,breed:h.breed||null,color:h.color||null,weight:typeof h.weight=="number"?h.weight:null,birthdate:h.birthdate||null,microchip_id:h.microchipId||null,description:h.description||null,notes:h.notes||null,vaccinations:y};try{let O;if(r==="add"){O=await Qa({...N}),console.log("Created pet:",O);try{const R=await yt(a.id,O.id);await Te(O.id,{qr_url:R})}catch(R){console.warn("QR generation failed (non-blocking):",R?.message)}let I=w.current;if(!I&&h.photoPreview&&(console.log("Converting preview to blob"),I=await Ut(h.photoPreview),console.log("Converted preview to blob:",I)),I&&I.size>0){console.log("Uploading pet photo...");const R=await zt(a.id,O.id,I);O=await Te(O.id,{photo_url:R}),console.log("Uploaded pet photo, updated pet:",O)}}else{const I=h.id||o?.id;if(!I)throw new Error("Missing pet id for update.");let R=w.current;!R&&h.photoPreview&&(R=await Ut(h.photoPreview));const A={name:N.name,species:N.species,breed:N.breed,color:N.color,weight:N.weight,birthdate:N.birthdate,microchip_id:N.microchip_id,description:N.description,notes:N.notes,vaccinations:N.vaccinations};if(R&&R.size>0){const U=await zt(a.id,I,R);A.photo_url=U}O=await Te(I,A)}n?.(h),t(!1),r==="add"&&i.reset()}catch(O){console.error(O),alert(O?.message??"Failed to save pet")}finally{d(!1)}};return s.jsx(Do,{open:e,onOpenChange:h=>!l&&t(h),children:s.jsxs(Mo,{className:"sm:max-w-xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Oo,{children:[s.jsx(Bo,{children:r==="add"?"Add Pet":"Edit Pet"}),s.jsx(Fo,{children:r==="add"?"Enter the pet’s details. You can edit later.":"Update the pet’s details and save changes."})]}),s.jsxs("form",{onSubmit:i.handleSubmit(C),className:"grid gap-5",children:[s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{htmlFor:"name",children:"Name *"}),s.jsx(ae,{id:"name",...i.register("name"),placeholder:"Milo"}),i.formState.errors.name&&s.jsx("p",{className:"text-sm text-destructive",children:i.formState.errors.name.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{children:"Species *"}),s.jsxs(Vs,{value:u,onValueChange:h=>{i.setValue("species",h,{shouldValidate:!0}),i.setValue("breed",""),i.setValue("color","")},children:[s.jsx(Us,{children:s.jsx(zs,{placeholder:"Select species"})}),s.jsxs(qs,{children:[s.jsx(tt,{value:"dog",children:"Dog"}),s.jsx(tt,{value:"cat",children:"Cat"}),s.jsx(tt,{value:"other",children:"Other"})]})]}),i.formState.errors.species&&s.jsx("p",{className:"text-sm text-destructive",children:i.formState.errors.species.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(J,{children:[u==="cat"?"Pattern":"Breed"," ",u==="other"?"(optional)":""]}),s.jsx(ae,{placeholder:u==="dog"?"Golden Retriever":u==="cat"?"Tabby, Calico, Tortoiseshell…":"e.g., Rabbit",...i.register("breed"),className:"flex-1"}),s.jsxs(la,{open:m,onOpenChange:x,children:[s.jsx(ia,{asChild:!0,children:s.jsxs(Q,{type:"button",variant:"outline",className:"w-36 justify-between",children:["Suggestions ",s.jsx(dn,{className:"h-4 w-4 opacity-60"})]})}),s.jsx(ca,{className:"p-0 w-64",children:s.jsxs(Da,{children:[s.jsx(Ma,{placeholder:"Search…"}),s.jsxs(Oa,{children:[s.jsx($a,{children:"No matches."}),s.jsx(Ba,{children:j.map(h=>s.jsx(Fa,{value:h,onSelect:y=>{i.setValue("breed",y),x(!1)},children:h},h))})]})]})})]})]}),s.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{htmlFor:"color",children:"Color"}),s.jsx(ae,{id:"color",...i.register("color"),placeholder:"Brown / White"}),v.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:v.map(h=>s.jsx("button",{type:"button",onClick:()=>i.setValue("color",h,{shouldValidate:!0}),className:"rounded-md border px-2 py-1 text-xs hover:bg-secondary",children:h},h))})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{htmlFor:"birthdate",children:"Birthdate"}),s.jsx(ae,{id:"birthdate",type:"date",...i.register("birthdate")})]})]}),s.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{htmlFor:"microchipId",children:"Microchip ID"}),s.jsx(ae,{id:"microchipId",...i.register("microchipId"),placeholder:"981000012345678"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{htmlFor:"description",children:"Physical Description"}),s.jsx(ae,{id:"description",...i.register("description"),placeholder:"Small, 20 lb, white paws"})]})]}),s.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{htmlFor:"weight",children:"Weight (lbs)"}),s.jsx(ae,{id:"weight",type:"number",step:"0.1",placeholder:"e.g. 9.1",...i.register("weight",{valueAsNumber:!0})}),i.formState.errors.weight&&s.jsx("p",{className:"text-sm text-destructive",children:i.formState.errors.weight.message})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(J,{htmlFor:"notes",children:"Notes"}),s.jsx(rs,{id:"notes",...i.register("notes"),placeholder:"Allergies, meds, vet info..."})]})]})]}),s.jsx(st,{}),s.jsxs("section",{className:"grid gap-3",children:[s.jsx("h3",{className:"text-base font-medium",children:"Vaccinations"}),s.jsxs("div",{className:"grid gap-2 sm:grid-cols-[auto,1fr] sm:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"rabies",type:"checkbox",className:"h-4 w-4",checked:!!i.watch("vaccinations.rabies"),onChange:h=>i.setValue("vaccinations.rabies",h.target.checked)}),s.jsx(J,{htmlFor:"rabies",children:"Rabies"})]}),s.jsxs("div",{className:"grid gap-1 sm:grid-cols-[150px,1fr] sm:items-center",children:[s.jsx(J,{htmlFor:"rabiesExpires",className:"sr-only sm:not-sr-only",children:"Expiration"}),s.jsx(ae,{id:"rabiesExpires",type:"date",disabled:!i.watch("vaccinations.rabies"),...i.register("vaccinations.rabiesExpires")})]})]})]}),s.jsx(st,{}),s.jsx(Ua,{label:"Photo",value:i.watch("photoPreview")?{blob:new Blob,dataUrl:i.watch("photoPreview"),width:0,height:0,approxKB:0,mimeType:"image/*",original:{name:"",sizeKB:0,type:""}}:null,onChange:h=>{w.current=h?.blob??null,i.setValue("photoPreview",h?.dataUrl??"")},options:{maxWidth:1200,maxHeight:1200,quality:.82,preferWebP:!0}}),s.jsxs($o,{className:"gap-2 sm:gap-0",children:[s.jsx(Q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:l,children:l?r==="add"?"Saving…":"Updating…":r==="add"?"Save":"Update"})]})]})]})})}function ul(){const{user:r}=Ht(),e=Lr(),t=r?.id??null,{data:o,isLoading:n,isError:a}=Vr({queryKey:["pets",t],queryFn:async()=>t?Ya(t):[],enabled:!!t,staleTime:3e4}),[l,d]=c.useState(!1),[i,u]=c.useState(null),[p,m]=c.useState(null),[x,w]=c.useState(!1),[j,v]=c.useState(null),[C,h]=c.useState(!1),[y,N]=c.useState(null),[O,I]=c.useState(!1),R=async()=>{await e.invalidateQueries({queryKey:["pets",t]}),u(null),d(!1)},A=async()=>{if(p){w(!0);try{await Za(p.photo_url),await Xa(p.id),await e.invalidateQueries({queryKey:["pets",t]})}catch(g){alert(g?.message??"Failed to delete pet")}finally{w(!1),m(null)}}},U=zr({mutationFn:async({id:g,missing:k})=>Te(g,{missing:k,missing_since:k?new Date().toISOString():null}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["pets",t]})}}),Y=async(g,k)=>{if(k)N(g);else try{I(!0),await U.mutateAsync({id:g.id,missing:!1})}catch(V){alert(V?.message??"Failed to update")}finally{I(!1)}},X=async()=>{if(y)try{I(!0),await U.mutateAsync({id:y.id,missing:!0})}catch(g){alert(g?.message??"Failed to update")}finally{I(!1),N(null)}},K=async g=>{if(t){if(g.qr_url){v(g);return}h(!0);try{const k=await yt(t,g.id);await Te(g.id,{qr_url:k}),await e.invalidateQueries({queryKey:["pets",t]}),v({...g,qr_url:k})}catch(k){alert(k?.message??"Failed to generate QR")}finally{h(!1)}}},G=async g=>{if(g)try{await navigator.clipboard.writeText(g),alert("Copied to clipboard")}catch{}},Z=(g,k="pet-qr.png")=>{if(!g)return;const V=document.createElement("a");V.href=g,V.download=k,V.target="_blank",V.rel="noopener noreferrer",V.click()},q=async()=>{if(t){h(!0);try{await Ja(t),await e.invalidateQueries({queryKey:["pets",t]}),alert("QR backfill completed.")}catch(g){alert(g?.message??"Backfill failed")}finally{h(!1)}}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(bn,{defaultValue:"pets",children:[s.jsxs(wn,{children:[s.jsx(Pt,{value:"pets",children:"My Pets"}),s.jsx(Pt,{value:"activity",children:"Recent Activity"})]}),s.jsxs(Rt,{value:"pets",className:"mt-4",children:[s.jsxs(Oe,{children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ze,{children:"Registered Pets"}),s.jsx(Je,{children:"Manage profiles, photos, QR tags, and missing status"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",onClick:q,disabled:!t||C,children:C?"Working…":"Backfill QR Codes"}),s.jsx(Q,{onClick:()=>d(!0),disabled:!t,children:"Add Pet"})]})]}),s.jsx(et,{children:n?s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((g,k)=>s.jsxs(Oe,{className:"p-4 space-y-3",children:[s.jsx(_e,{className:"h-5 w-40"}),s.jsx(_e,{className:"h-4 w-24"}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(_e,{className:"h-8 w-16"}),s.jsx(_e,{className:"h-8 w-16"}),s.jsx(_e,{className:"h-8 w-16"})]})]},k))}):a?s.jsx("div",{className:"text-sm text-destructive",children:"Failed to load pets."}):o&&o.length>0?s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:o.map(g=>s.jsxs(Oe,{className:"overflow-hidden",children:[s.jsxs(Xe,{children:[s.jsxs(Ze,{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"truncate",children:g.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[g.missing&&s.jsx(Nt,{variant:"destructive",children:"Missing"}),s.jsx(Nt,{variant:"secondary",className:"capitalize",children:g.species})]})]}),s.jsx(Je,{className:"truncate",children:g.breed||g.description||"No description"})]}),g.photo_url&&s.jsx("img",{src:g.photo_url,alt:`${g.name} photo`,className:"mx-4 mb-2 h-40 rounded-md object-cover",loading:"lazy"}),s.jsxs(et,{className:"flex flex-wrap items-center gap-3",children:[s.jsx(Q,{size:"sm",onClick:()=>u(g),children:"Edit"}),s.jsx(Q,{size:"sm",variant:g.qr_url?"outline":"secondary",onClick:()=>K(g),disabled:C,title:g.qr_url?"View QR":"Generate QR",children:C&&!g.qr_url?"Generating…":g.qr_url?"QR":"Create QR"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx(J,{htmlFor:`missing-${g.id}`,className:"text-xs sm:text-sm",children:"Missing"}),s.jsx(Jn,{id:`missing-${g.id}`,checked:!!g.missing,disabled:O||U.isPending,onCheckedChange:k=>Y(g,k)})]}),s.jsxs(Et,{open:!!p&&p.id===g.id,onOpenChange:k=>!k&&m(null),children:[s.jsx(zn,{asChild:!0,children:s.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>m(g),children:"Delete"})}),s.jsxs(kt,{children:[s.jsxs(It,{children:[s.jsxs(Dt,{children:["Delete ",g.name,"?"]}),s.jsxs(Mt,{children:["This will permanently remove the pet profile",g.photo_url?" and its photo":"",". This action cannot be undone."]})]}),s.jsxs(At,{children:[s.jsx($t,{disabled:x,children:"Cancel"}),s.jsx(Ot,{disabled:x,onClick:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x?"Deleting…":"Delete"})]})]})]})]})]},g.id))}):s.jsxs("div",{className:"text-sm text-muted-foreground",children:["No pets yet. Click ",s.jsx("span",{className:"font-medium",children:"Add Pet"})," to create one."]})})]}),s.jsx(qt,{mode:"add",open:l,onOpenChange:d,onSubmit:R}),i&&s.jsx(qt,{mode:"edit",open:!!i,onOpenChange:g=>!g&&u(null),initialPet:{id:i.id,name:i.name,species:i.species,breed:i.breed??void 0,color:i.color??void 0,weight:i.weight??void 0,birthdate:i.birthdate??void 0,microchipId:i.microchip_id??void 0,description:i.description??void 0,notes:i.notes??void 0,vaccinations:i.vaccinations?{rabies:i.vaccinations.rabies??!1,rabiesExpires:i.vaccinations.rabiesExpires??void 0}:void 0,photoPreview:i.photo_url??void 0},onSubmit:R}),s.jsx(Do,{open:!!j,onOpenChange:g=>!g&&v(null),children:s.jsxs(Mo,{className:"sm:max-w-md",children:[s.jsxs(Oo,{children:[s.jsxs(Bo,{children:["QR Code ",j?`– ${j.name}`:""]}),s.jsx(Fo,{children:"Scan to open the public pet page. You can copy or download the QR image."})]}),s.jsx("div",{className:"flex flex-col items-center gap-3",children:j?.qr_url?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:j.qr_url,alt:"QR code",className:"h-56 w-56 rounded-md border object-contain bg-white"}),s.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-[1fr,auto,auto] gap-2",children:[s.jsx(ae,{readOnly:!0,value:j.qr_url,className:"truncate"}),s.jsx(Q,{type:"button",variant:"secondary",onClick:()=>G(j.qr_url),children:"Copy URL"}),s.jsx(Q,{type:"button",onClick:()=>Z(j?.qr_url,`${j.name}-qr.png`),children:"Download"})]})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Generating…"})}),s.jsx($o,{children:s.jsx(Q,{type:"button",variant:"outline",onClick:()=>v(null),children:"Close"})})]})}),s.jsx(Et,{open:!!y,onOpenChange:g=>!g&&N(null),children:s.jsxs(kt,{children:[s.jsxs(It,{children:[s.jsxs(Dt,{children:["Mark ",y?.name," as missing?"]}),s.jsx(Mt,{children:"This helps highlight their profile and can trigger your outreach flow. You can turn this off later."})]}),s.jsxs(At,{children:[s.jsx($t,{disabled:O,children:"Cancel"}),s.jsx(Ot,{disabled:O,onClick:X,children:O?"Saving…":"Yes, mark missing"})]})]})})]}),s.jsx(Rt,{value:"activity",className:"mt-4",children:s.jsxs(Oe,{children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"QR Scan Events"}),s.jsx(Je,{children:"Last 7 days"})]}),s.jsx(et,{children:s.jsxs(yn,{children:[s.jsx(Sn,{children:s.jsxs(Tt,{children:[s.jsx($e,{children:"Pet"}),s.jsx($e,{children:"Location"}),s.jsx($e,{children:"Date"}),s.jsx($e,{className:"text-right",children:"Action"})]})}),s.jsx(jn,{children:[{pet:"Milo",loc:"Brooklyn, NY",date:"Sep 27, 2025"},{pet:"Luna",loc:"Queens, NY",date:"Sep 26, 2025"},{pet:"Buddy",loc:"Hoboken, NJ",date:"Sep 24, 2025"}].map(g=>s.jsxs(Tt,{children:[s.jsx(Be,{children:g.pet}),s.jsx(Be,{children:g.loc}),s.jsx(Be,{children:g.date}),s.jsx(Be,{className:"text-right",children:s.jsx(Q,{size:"sm",variant:"outline",children:"View"})})]},g.pet+g.date))})]})})]})})]})})}export{ul as default};
