import{S as f,g as b,h as c,i as O,n as p,d as y,a as u,k as E,l as S,j as m,c as x}from"./index-DU0PUxJ_.js";import{P as g}from"./index-DZPIF1VM.js";import{c as M}from"./button-zycxiWQ6.js";var R=class extends f{#e;#i=void 0;#t;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),b(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),t?.mutationKey&&this.options.mutationKey&&c(t.mutationKey)!==c(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#i}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#o()}mutate(e,t){return this.#s=t,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#r(){const e=this.#t?.state??O();this.#i={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){p.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#i.variables,i=this.#i.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,i,s),this.#s.onSettled?.(e.data,null,t,i,s)):e?.type==="error"&&(this.#s.onError?.(e.error,t,i,s),this.#s.onSettled?.(void 0,e.error,t,i,s))}this.listeners.forEach(t=>{t(this.#i)})})}};function z(e,t){const i=y(),[s]=u.useState(()=>new R(i,e));u.useEffect(()=>{s.setOptions(e)},[s,e]);const r=u.useSyncExternalStore(u.useCallback(a=>s.subscribe(p.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=u.useCallback((a,n)=>{s.mutate(a,n).catch(E)},[s]);if(r.error&&S(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}var C="Separator",d="horizontal",w=["horizontal","vertical"],v=u.forwardRef((e,t)=>{const{decorative:i,orientation:s=d,...r}=e,o=N(s)?s:d,n=i?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return m.jsx(g.div,{"data-orientation":o,...n,...r,ref:t})});v.displayName=C;function N(e){return w.includes(e)}var K=v;function A(e){const t=x.c(12);let i,s,r,o;t[0]!==e?({className:i,orientation:r,decorative:o,...s}=e,t[0]=e,t[1]=i,t[2]=s,t[3]=r,t[4]=o):(i=t[1],s=t[2],r=t[3],o=t[4]);const a=r===void 0?"horizontal":r,n=o===void 0?!0:o;let h;t[5]!==i?(h=M("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",i),t[5]=i,t[6]=h):h=t[6];let l;return t[7]!==n||t[8]!==a||t[9]!==s||t[10]!==h?(l=m.jsx(K,{"data-slot":"separator",decorative:n,orientation:a,className:h,...s}),t[7]=n,t[8]=a,t[9]=s,t[10]=h,t[11]=l):l=t[11],l}export{A as S,z as u};
