import{r as w,s as U,c as K,j as e,f as de,L as he,D as ae,b as Q}from"./index-DWFxYRKM.js";import{u as le}from"./useQuery-BC0ZiBv_.js";import{C as B,c as X,b as J,d as pe,a as Z}from"./card-DfeYmD1t.js";import{B as A}from"./badge-CT9A_1qf.js";import{B as N}from"./button-D5233tni.js";import{S as T}from"./skeleton-BXTZEWVD.js";import{f as xe,E as ue,D as ie,a as ne,b as oe,c as ce,d as fe,e as ge,C as je}from"./dialog-CGE6VLQU.js";import{A as y,a as v}from"./alert-BzFtGnwV.js";import{E as be}from"./eye-B3gvDE6u.js";import{F as we,T as Ne,M as ye,G as ee,I as ve}from"./twitter-D2MvdzQ9.js";import{P as O}from"./phone-DxKPAYD4.js";import{T as _e}from"./textarea-Cqh-9V50.js";import{L as se,I as ke}from"./input-DiBDC-nh.js";import{M as q}from"./map-pin-CTFjaDGO.js";import{C as R}from"./circle-alert-DlCvH4pd.js";import{L as Se}from"./loader-circle-C1AHBtpW.js";import{a as Ce,H as Le}from"./Header-CWXnAIf6.js";import{T as Y}from"./index-0Su3bMsP.js";import{P as W}from"./paw-print-C71wSs50.js";import{H as $e}from"./heart-CQ1UwYOj.js";import{I as Pe}from"./Logo-B5WjtjcC.js";import{F as Ee}from"./file-text-HzeOmpHl.js";import{M as te}from"./mail-BXCcqa12.js";import"./createLucideIcon-BjPUfd1V.js";import"./index-DcBkoQjE.js";import"./index-BQ4LAxoX.js";import"./index-B6SGkc6K.js";import"./index-CnG1iipl.js";import"./separator-CaYT9dXf.js";import"./x-DkXi6Az4.js";import"./useProfile-9RUyarAr.js";import"./useMutation-C3ZwoSRp.js";import"./log-in-jc-dSo6h.js";import"./user-plus-DX_0yeXQ.js";import"./chevron-down-zhsNDRdY.js";import"./credit-card-DoiT6LdA.js";import"./index-B-yUNg7p.js";function Ie({shortId:s,askGeo:t=!0}){return w.useEffect(()=>{if(!s)return;let c=!1;return(async()=>{try{let n={};if(t&&"geolocation"in navigator)try{const a=await new Promise((o,l)=>navigator.geolocation.getCurrentPosition(o,l,{timeout:3e3}));n={lat:a.coords.latitude,lng:a.coords.longitude}}catch{}if(c)return;await U.rpc("log_scan",{p_short_id:s,p_referrer:document.referrer||null,p_ua:navigator.userAgent,p_city:null,p_region:null,p_country:null,p_lat:n.lat??null,p_lng:n.lng??null})}catch(n){console.warn("log_scan failed:",n)}})(),()=>{c=!0}},[s,t]),null}function Te(s){const t=K.c(17),{petId:c,days:j,label:n}=s,a=j===void 0?30:j,o=n===void 0?"Scans":n;let l,m;t[0]!==a||t[1]!==c?(l=["pet_scan_count",c,a],m=()=>xe(c,a),t[0]=a,t[1]=c,t[2]=l,t[3]=m):(l=t[2],m=t[3]);const h=!!c;let r;t[4]!==l||t[5]!==m||t[6]!==h?(r={queryKey:l,queryFn:m,staleTime:3e4,enabled:h},t[4]=l,t[5]=m,t[6]=h,t[7]=r):r=t[7];const{data:f,isLoading:d,isError:g}=le(r);if(!c)return null;let p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(be,{className:"h-5 w-5 text-primary"})}),t[8]=p):p=t[8];let x;t[9]!==a||t[10]!==o?(x=e.jsxs("p",{className:"text-sm font-medium",children:[o," (Last ",a," days)"]}),t[9]=a,t[10]=o,t[11]=x):x=t[11];const i=d?"Loading...":g?"—":`${f} view${f===1?"":"s"}`;let u;t[12]!==i?(u=e.jsx("p",{className:"text-sm text-muted-foreground",children:i}),t[12]=i,t[13]=u):u=t[13];let b;return t[14]!==u||t[15]!==x?(b=e.jsxs("div",{className:"flex items-center gap-3",children:[p,e.jsxs("div",{children:[x,u]})]}),t[14]=u,t[15]=x,t[16]=b):b=t[16],b}const z=s=>s.trim().replace(/^@/,""),M=s=>s.startsWith("http://")||s.startsWith("https://")?s:`https://${s}`;function Me(s){const t=K.c(20),{instagram:c,facebook:j,twitter:n,telegram:a,whatsapp:o,website:l}=s;let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsx(ve,{className:"h-4 w-4"}),t[0]=m):m=t[0];let h,r,f,d,g;if(t[1]!==j||t[2]!==c||t[3]!==a||t[4]!==n||t[5]!==l||t[6]!==o){g=Symbol.for("react.early_return_sentinel");e:{const u=[{platform:"Instagram",value:c,icon:m,color:"hover:bg-pink-50 hover:border-pink-200 dark:hover:bg-pink-950 dark:hover:border-pink-900",getUrl:ze},{platform:"Facebook",value:j,icon:e.jsx(we,{className:"h-4 w-4"}),color:"hover:bg-blue-50 hover:border-blue-200 dark:hover:bg-blue-950 dark:hover:border-blue-900",getUrl:qe},{platform:"Twitter/X",value:n,icon:e.jsx(Ne,{className:"h-4 w-4"}),color:"hover:bg-sky-50 hover:border-sky-200 dark:hover:bg-sky-950 dark:hover:border-sky-900",getUrl:Ue},{platform:"Telegram",value:a,icon:e.jsx(ye,{className:"h-4 w-4"}),color:"hover:bg-cyan-50 hover:border-cyan-200 dark:hover:bg-cyan-950 dark:hover:border-cyan-900",getUrl:Oe},{platform:"WhatsApp",value:o,icon:e.jsx(O,{className:"h-4 w-4"}),color:"hover:bg-green-50 hover:border-green-200 dark:hover:bg-green-950 dark:hover:border-green-900",getUrl:Ae},{platform:"Website",value:l,icon:e.jsx(ee,{className:"h-4 w-4"}),color:"hover:bg-slate-50 hover:border-slate-200 dark:hover:bg-slate-950 dark:hover:border-slate-800",getUrl:He}].filter(De);if(u.length===0){g=null;break e}f="space-y-3",t[12]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(ee,{className:"h-4 w-4"}),"Connect via Social Media"]}),t[12]=d):d=t[12],h="grid grid-cols-2 sm:grid-cols-3 gap-2",r=u.map(Fe)}t[1]=j,t[2]=c,t[3]=a,t[4]=n,t[5]=l,t[6]=o,t[7]=h,t[8]=r,t[9]=f,t[10]=d,t[11]=g}else h=t[7],r=t[8],f=t[9],d=t[10],g=t[11];if(g!==Symbol.for("react.early_return_sentinel"))return g;let p;t[13]!==h||t[14]!==r?(p=e.jsx("div",{className:h,children:r}),t[13]=h,t[14]=r,t[15]=p):p=t[15];let x;return t[16]!==f||t[17]!==d||t[18]!==p?(x=e.jsxs("div",{className:f,children:[d,p]}),t[16]=f,t[17]=d,t[18]=p,t[19]=x):x=t[19],x}function Fe(s){return e.jsx(N,{variant:"outline",size:"sm",asChild:!0,className:`gap-2 transition-colors ${s.color}`,children:e.jsxs("a",{href:s.getUrl(s.value),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between w-full",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[s.icon,s.platform]}),e.jsx(ue,{className:"h-3 w-3 opacity-50"})]})},s.platform)}function De(s){return s.value}function He(s){return M(s)}function Ae(s){return`https://wa.me/${s.replace(/\D/g,"")}`}function Oe(s){const t=z(s);return s.includes("t.me")?M(s):`https://t.me/${t}`}function Ue(s){const t=z(s);return s.includes("twitter.com")||s.includes("x.com")?M(s):`https://x.com/${t}`}function qe(s){return s.includes("facebook.com")||s.includes("fb.com")?M(s):`https://facebook.com/${z(s)}`}function ze(s){const t=z(s);return s.includes("instagram.com")?M(s):`https://instagram.com/${t}`}function Ge({petId:s,ownerId:t,petName:c,open:j,onOpenChange:n}){const[a,o]=w.useState(!1),[l,m]=w.useState(""),[h,r]=w.useState(""),[f,d]=w.useState(null),[g,p]=w.useState(!1),x=async()=>{o(!0),d(null);try{if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");const i=await new Promise((b,_)=>{navigator.geolocation.getCurrentPosition(b,_,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),{error:u}=await U.from("location_shares").insert({pet_id:s,owner_id:t,latitude:i.coords.latitude,longitude:i.coords.longitude,accuracy:i.coords.accuracy,finder_note:l.trim()||null,finder_contact:h.trim()||null});if(u)throw u;p(!0),setTimeout(()=>{n(!1),p(!1),m(""),r("")},2e3)}catch(i){if(i instanceof GeolocationPositionError)switch(i.code){case i.PERMISSION_DENIED:d("Location access was denied. Please enable location permissions.");break;case i.POSITION_UNAVAILABLE:d("Location information is unavailable.");break;case i.TIMEOUT:d("Location request timed out. Please try again.");break}else d(i instanceof Error?i.message:"Failed to share location")}finally{o(!1)}};return e.jsx(ie,{open:j,onOpenChange:n,children:e.jsxs(ne,{className:"sm:max-w-md",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"Share Your Location"]}),e.jsxs(fe,{children:["Help reunite ",c," with their owner by sharing where you found them. Your location will be sent securely to the pet owner."]})]}),g?e.jsxs(y,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[e.jsx(R,{className:"h-4 w-4 text-green-600"}),e.jsx(v,{className:"text-green-600",children:"Location shared successfully! The owner has been notified."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"finder-note",children:"Message (Optional)"}),e.jsx(_e,{id:"finder-note",placeholder:"e.g., 'Found near the park on Main Street' or 'Your pet is safe with me'",value:l,onChange:i=>m(i.target.value),rows:3,maxLength:500})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"finder-contact",children:"Your Contact Info (Optional)"}),e.jsx(ke,{id:"finder-contact",type:"text",placeholder:"Phone number or email",value:h,onChange:i=>r(i.target.value),maxLength:100}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Share your contact info so the owner can reach you directly"})]}),f&&e.jsxs(y,{variant:"destructive",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(v,{children:f})]}),e.jsxs(y,{children:[e.jsx(R,{className:"h-4 w-4"}),e.jsxs(v,{className:"text-sm",children:[e.jsx("strong",{children:"Privacy Notice:"})," Your precise GPS location will be shared with the pet owner. Make sure you're comfortable sharing your current location."]})]})]}),e.jsxs(ge,{className:"sm:justify-between",children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:a,children:"Cancel"}),e.jsx(N,{type:"button",onClick:x,disabled:a||g,children:a?e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"mr-2 h-4 w-4 animate-spin"}),"Sharing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Share Location"]})})]})]})})}function re(s){if(!s)return"";const t=new Date(s).getTime(),c=Date.now();if(isNaN(t)||c<=t)return"just now";const j=c-t,n=Math.floor(j/(1e3*60)),a=Math.floor(n/60),o=Math.floor(a/24);if(o>0){const l=a%24;return`${o} day${o>1?"s":""}${l?`, ${l} hour${l>1?"s":""}`:""}`}if(a>0){const l=n%60;return`${a} hour${a>1?"s":""}${l?`, ${l} min`:""}`}return`${n} min`}function Ls(){const s=K.c(43),{id:t}=de(),[c,j]=w.useState(!1),[n,a]=w.useState(!1);let o;s[0]!==t?(o=["public-pet",t],s[0]=t,s[1]=o):o=s[1];const l=!!t;let m;s[2]!==t?(m=async()=>{const{data:I,error:V}=await U.from("public_pets").select("*").eq("short_id",t).maybeSingle();if(console.log("Fetched pet data:",I),V)throw V;if(!I)return null;const{data:me}=await U.from("pet_themes").select("theme_preset").eq("pet_id",I.id).maybeSingle();return{...I,theme_preset:me?.theme_preset}},s[2]=t,s[3]=m):m=s[3];let h;s[4]!==o||s[5]!==l||s[6]!==m?(h={queryKey:o,enabled:l,queryFn:m,staleTime:6e4},s[4]=o,s[5]=l,s[6]=m,s[7]=h):h=s[7];const{data:r,isLoading:f,isError:d}=le(h);let g;s[8]!==r?.theme_preset?(g=()=>{const I=r?.theme_preset||ae;return Q(I,!1),Be},s[8]=r?.theme_preset,s[9]=g):g=s[9];const p=r?.theme_preset;let x;s[10]!==p?(x=[p],s[10]=p,s[11]=x):x=s[11],w.useEffect(g,x);const i=r?.owner_email||r?.owner_phone,u=r?.owner_instagram||r?.owner_facebook||r?.owner_twitter||r?.owner_telegram||r?.owner_whatsapp||r?.owner_website;let b;s[12]!==t?(b=e.jsx(Ie,{shortId:t,askGeo:!0}),s[12]=t,s[13]=b):b=s[13];let _,F;s[14]===Symbol.for("react.memo_cache_sentinel")?(_=e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-brand-rose/25 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-brand-lavender/25 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-96 h-96 bg-brand-peach/15 rounded-full blur-3xl"})]}),F=e.jsx(Le,{}),s[14]=_,s[15]=F):(_=s[14],F=s[15]);let k;s[16]!==r||s[17]!==i||s[18]!==u||s[19]!==d||s[20]!==f?(k=e.jsx("main",{className:"relative mx-auto max-w-5xl px-4 sm:px-6 py-8 md:py-12",children:f?e.jsx(B,{className:"overflow-hidden shadow-xl",children:e.jsxs("div",{className:"grid gap-6 p-6 lg:grid-cols-[400px,1fr]",children:[e.jsx(T,{className:"h-96 w-full rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{className:"h-8 w-48"}),e.jsx(T,{className:"h-6 w-64"}),e.jsx(T,{className:"h-4 w-full"}),e.jsx(T,{className:"h-4 w-full"}),e.jsx(T,{className:"h-24 w-full"})]})]})}):d||!r?e.jsxs(B,{className:"shadow-xl",children:[e.jsx(X,{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-destructive/10 rounded-xl flex items-center justify-center",children:e.jsx(Y,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{children:[e.jsx(J,{className:"text-2xl",children:"Pet Not Found"}),e.jsx(pe,{className:"text-base",children:"This QR code may be invalid or the pet profile is no longer available"})]})]})}),e.jsx(Z,{children:e.jsx(N,{asChild:!0,className:"gap-2",children:e.jsxs(he,{to:"/",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Go to Homepage"]})})})]}):e.jsxs("div",{className:"space-y-6",children:[r.missing&&e.jsxs(y,{variant:"destructive",className:"animate-in fade-in-50 slide-in-from-top-2 duration-300",children:[e.jsx(Y,{className:"h-5 w-5"}),e.jsxs(v,{className:"text-base font-medium",children:[e.jsx("span",{className:"block mb-1",children:"🚨 This pet is currently MISSING!"}),r.missing_since&&e.jsxs("span",{className:"text-sm opacity-90",children:["Missing for ",re(r.missing_since)]})]})]}),e.jsxs(B,{className:"overflow-hidden shadow-xl border-primary/10",children:[e.jsx(X,{className:"space-y-4 bg-gradient-to-r from-orange-50/80 to-amber-50/80 dark:bg-slate-900/50",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-xl flex items-center justify-center ring-4 ring-primary/5",children:e.jsx(W,{className:"h-5 w-5 text-primary"})}),e.jsx(J,{className:"text-3xl tracking-tight",children:r.name})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(A,{variant:"secondary",className:"capitalize text-sm px-3 py-1",children:[r.species==="dog"?"🐕":r.species==="cat"?"🐱":"🐾"," ",r.species]}),r.breed&&e.jsx(A,{variant:"outline",className:"text-sm px-3 py-1",children:r.breed}),r.color&&e.jsx(A,{variant:"outline",className:"text-sm px-3 py-1",children:r.color})]})]}),e.jsx(A,{variant:r.missing?"destructive":"default",className:`text-sm px-4 py-2 gap-2 ${r.missing?"animate-pulse":""}`,children:r.missing?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-4 w-4"}),"Missing"]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"h-4 w-4"}),"Safe at Home"]})})]})}),e.jsxs(Z,{className:"grid gap-8 p-6 lg:grid-cols-[1fr,400px]",children:[e.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(Pe,{className:"h-5 w-5 text-primary"}),"About ",r.name]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:r.description||"No additional description provided."})]}),r.notes&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(Ee,{className:"h-5 w-5 text-primary"}),"Important Notes"]}),e.jsx(y,{className:"border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950",children:e.jsx(v,{className:"text-amber-900 dark:text-amber-100 whitespace-pre-wrap",children:r.notes})})]}),(i||u)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(O,{className:"h-5 w-5 text-primary"}),"Contact Owner"]}),e.jsx(y,{className:"border-blue-200 bg-blue-50 dark:border-blue-900 dark:bg-blue-950",children:e.jsx(v,{className:"text-blue-800 dark:text-blue-200",children:"If you've found this pet, please contact the owner using the information below"})}),e.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-primary/20",children:[r.owner_phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Phone"}),e.jsx("a",{href:`tel:${r.owner_phone}`,className:"text-primary hover:underline font-medium",children:r.owner_phone})]})]}),r.owner_email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email"}),e.jsx("a",{href:`mailto:${r.owner_email}`,className:"text-primary hover:underline font-medium",children:r.owner_email})]})]}),r.missing&&e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("div",{className:"h-10 w-10 bg-orange-100 dark:bg-orange-950 rounded-lg flex items-center justify-center",children:e.jsx(je,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Last Seen"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.missing_since?re(r.missing_since)+" ago":"Recently"})]})]}),e.jsx(Te,{petId:r.id,days:30,label:"QR Code Scans"})]}),i&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[r.owner_phone&&e.jsx(N,{asChild:!0,className:"flex-1 gap-2",variant:"success",children:e.jsxs("a",{href:`tel:${r.owner_phone}`,children:[e.jsx(O,{className:"h-4 w-4"}),"Call Owner"]})}),r.owner_email&&e.jsx(N,{asChild:!0,variant:"outline",className:"flex-1 gap-2",children:e.jsxs("a",{href:`mailto:${r.owner_email}`,children:[e.jsx(te,{className:"h-4 w-4"}),"Send Email"]})})]}),u&&e.jsx("div",{className:"pt-4",children:e.jsx(Me,{instagram:r.owner_instagram,facebook:r.owner_facebook,twitter:r.owner_twitter,telegram:r.owner_telegram,whatsapp:r.owner_whatsapp,website:r.owner_website})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"Found This Pet?"]}),e.jsx(y,{children:e.jsxs(v,{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm",children:["Help reunite ",r.name," with their owner faster by sharing your location."]}),e.jsxs(N,{onClick:()=>a(!0),className:"w-full gap-2",size:"lg",children:[e.jsx(q,{className:"h-4 w-4"}),"Share My Location"]})]})})]})]}),e.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:r.photo_url?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>j(!0),className:"group relative w-full overflow-hidden rounded-xl border-2 border-primary/10 ring-4 ring-primary/5 transition-all hover:scale-[1.02] hover:shadow-lg cursor-pointer",children:[e.jsx("img",{src:r.photo_url,alt:`${r.name}`,className:"w-full h-auto max-h-[600px] object-contain bg-white"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:e.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity bg-black/70 px-4 py-2 rounded-lg text-sm",children:"Click to enlarge"})})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Click image to view full size"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 rounded-xl border-2 border-dashed border-primary/20 bg-slate-50 dark:bg-slate-900",children:[e.jsx(W,{className:"h-16 w-16 text-primary/30 mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No photo provided"})]})})]})]})]})}),s[16]=r,s[17]=i,s[18]=u,s[19]=d,s[20]=f,s[21]=k):k=s[21];let D;s[22]===Symbol.for("react.memo_cache_sentinel")?(D=e.jsx(W,{className:"h-5 w-5"}),s[22]=D):D=s[22];const G=r?.name;let S;s[23]!==G?(S=e.jsx(oe,{className:"p-6 pb-0",children:e.jsxs(ce,{className:"flex items-center gap-2",children:[D,G,"'s Photo"]})}),s[23]=G,s[24]=S):S=s[24];let C;s[25]!==r?(C=r?.photo_url&&e.jsx("div",{className:"p-6 pt-4 overflow-auto",children:e.jsx("img",{src:r.photo_url,alt:`${r.name} full size`,className:"w-full h-auto rounded-lg"})}),s[25]=r,s[26]=C):C=s[26];let L;s[27]!==S||s[28]!==C?(L=e.jsxs(ne,{className:"max-w-4xl max-h-[90vh] p-0 bg-white dark:bg-slate-900",children:[S,C]}),s[27]=S,s[28]=C,s[29]=L):L=s[29];let $;s[30]!==c||s[31]!==L?($=e.jsx(ie,{open:c,onOpenChange:j,children:L}),s[30]=c,s[31]=L,s[32]=$):$=s[32];let P;s[33]!==r||s[34]!==n?(P=r&&e.jsx(Ge,{petId:r.id,ownerId:r.owner_id,petName:r.name,open:n,onOpenChange:a}),s[33]=r,s[34]=n,s[35]=P):P=s[35];let E;s[36]!==k||s[37]!==$||s[38]!==P?(E=e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-pink-50 to-purple-50 dark:from-slate-950 dark:via-purple-950/20 dark:to-slate-900",children:[_,F,k,$,P]}),s[36]=k,s[37]=$,s[38]=P,s[39]=E):E=s[39];let H;return s[40]!==E||s[41]!==b?(H=e.jsxs(e.Fragment,{children:[b,E]}),s[40]=E,s[41]=b,s[42]=H):H=s[42],H}function Be(){const s=localStorage.getItem("theme_preset"),t=localStorage.getItem("dark_mode")==="true";s?Q(s,t):Q(ae,t)}export{Ls as default};
