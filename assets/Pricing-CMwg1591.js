import{c as N,r as a,j as s,s as _}from"./index-BfkNNUKq.js";const t={BASE_MONTHLY:"P-01B964946R701620HNDPMUVA",BASE_YEARLY:"P-4V1531673F796000SNDPMUVA",ADDON_MONTHLY:"P-99N7761092897711MNDPMUVA",ADDON_YEARLY:"P-0H956331A3859781YNDPMUVI"},A={[t.BASE_MONTHLY]:"base",[t.BASE_YEARLY]:"base",[t.ADDON_MONTHLY]:"addon",[t.ADDON_YEARLY]:"addon"},b="ASTs7RPUPWK7sDBRk1-xhU0SwD-nalsSEJ0yx8l8M7YQxBmv-a0NfnXzDHpYQM7O_0mHhcdowmurqIg9";function f(e,r,o){window.paypal.Buttons({style:{label:"subscribe"},createSubscription:(n,c)=>c.subscription.create({plan_id:r}),onApprove:async({subscriptionID:n})=>{await _.functions.invoke("record-paypal-sub",{body:{plan_id:r,subscription_id:n,product_type:o}}),window.location.href="/billing/success"},onCancel:()=>window.location.href="/billing/cancel",onError:n=>{console.error(n),alert("Payment error")}}).render(e)}function Y(){const e=N.c(5),r=a.useRef(null),o=a.useRef(null),n=a.useRef(null),c=a.useRef(null);let l,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{if(window.paypal)return;const p=document.createElement("script");p.src=`https://www.paypal.com/sdk/js?client-id=${b}&vault=true&intent=subscription`,p.async=!0,p.onload=()=>{r.current&&f(r.current,t.BASE_MONTHLY,A[t.BASE_MONTHLY]),o.current&&f(o.current,t.BASE_YEARLY,A[t.BASE_YEARLY]),n.current&&f(n.current,t.ADDON_MONTHLY,A[t.ADDON_MONTHLY]),c.current&&f(c.current,t.ADDON_YEARLY,A[t.ADDON_YEARLY])},document.body.appendChild(p)},i=[],e[0]=l,e[1]=i):(l=e[0],i=e[1]),a.useEffect(l,i);let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Choose your plan"}),e[2]=d):d=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsxs("div",{className:"border rounded-xl p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"PawTrace Base"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Up to 3 pets"}),s.jsx("div",{ref:r,className:"mb-4"}),s.jsx("div",{ref:o})]}),e[3]=u):u=e[3];let m;return e[4]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsxs("div",{className:"container mx-auto py-12",children:[d,s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u,s.jsxs("div",{className:"border rounded-xl p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Extra Pets Add-on"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Adds +1 pet per add-on"}),s.jsx("div",{ref:n,className:"mb-4"}),s.jsx("div",{ref:c})]})]})]}),e[4]=m):m=e[4],m}export{Y as default};
