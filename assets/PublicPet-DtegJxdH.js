import{r as w,s as q,c as B,j as e,f as de,L as he,D as ae,b as K}from"./index-D0W7q_7F.js";import{u as ie}from"./useQuery-BXCE_1Zp.js";import{d as Y,b as X,a as J,c as pe,C as Z}from"./card-Bc7eUURN.js";import{B as M}from"./badge-CDxnUr7a.js";import{B as v}from"./button-zkU1qkGu.js";import{S as E}from"./skeleton-BPR3q0Jg.js";import{D as ne,a as oe,b as le,c as ce,d as xe,e as ue}from"./dialog-DVa5l9x4.js";import{A as N,a as y}from"./alert-xCkTbqkw.js";import{c as fe,E as ge,M as z,C as be}from"./analytics-C_Ch6mVj.js";import{E as je}from"./eye-DEKFakkm.js";import{F as we,T as Ne,M as ye,G as ee,I as ve}from"./twitter-DSxv-ElE.js";import{P as O}from"./phone-DEZn4YMw.js";import{T as _e}from"./textarea-OeCiUUku.js";import{L as se,I as ke}from"./input-BCKOSWcm.js";import{C as U}from"./circle-alert-BCiABaJe.js";import{L as Se}from"./loader-circle-D_s4E8mv.js";import{a as Ce,H as $e}from"./Header-ZvBGjjSi.js";import{T as W}from"./triangle-alert-C4aYkOOu.js";import{P as Q}from"./paw-print-DG83h3DZ.js";import{H as Le}from"./heart-FtSELzz1.js";import{I as Ie}from"./info-CK3oNemv.js";import{F as Pe}from"./file-text-CdPYcdob.js";import{M as te}from"./mail-DT8Ba6Nq.js";import"./createLucideIcon-YUNKGbtX.js";import"./index-evFw_6fT.js";import"./index-CHt30Jrt.js";import"./index-Dh20Ov_T.js";import"./index-BizdK3DN.js";import"./index-D8j6CDy2.js";import"./index-Cy_ilBqL.js";import"./separator-DOapot60.js";import"./x-D8HKcuEB.js";import"./index-D5iRRVG3.js";import"./index-DuOWaFuV.js";import"./index-Ci8M6J5h.js";import"./useProfile-04-DTauO.js";import"./useMutation-B-SqnT_K.js";import"./Logo-B09HS71g.js";import"./avatar-ECrTtebt.js";import"./log-in-Ct4aPx3o.js";import"./user-plus-Cn3mlxeh.js";import"./chevron-down-DiVdaDii.js";import"./message-square-BppwbG9R.js";import"./qr-code-ZBYM1oJo.js";import"./shield-check-BAaVWLM_.js";import"./sun-DhFPCrLA.js";import"./credit-card-w5MEDWLb.js";function Te({shortId:s,askGeo:t=!0}){return w.useEffect(()=>{if(!s)return;let i=!1;return(async()=>{try{let n={};if(t&&"geolocation"in navigator)try{const o=await new Promise((l,a)=>navigator.geolocation.getCurrentPosition(l,a,{timeout:3e3}));n={lat:o.coords.latitude,lng:o.coords.longitude}}catch{}if(i)return;await q.rpc("log_scan",{p_short_id:s,p_referrer:document.referrer||null,p_ua:navigator.userAgent,p_city:null,p_region:null,p_country:null,p_lat:n.lat??null,p_lng:n.lng??null})}catch(n){console.warn("log_scan failed:",n)}})(),()=>{i=!0}},[s,t]),null}function Ee(s){const t=B.c(17),{petId:i,days:h,label:n}=s,o=h===void 0?30:h,l=n===void 0?"Scans":n;let a,c;t[0]!==o||t[1]!==i?(a=["pet_scan_count",i,o],c=()=>fe(i,o),t[0]=o,t[1]=i,t[2]=a,t[3]=c):(a=t[2],c=t[3]);const p=!!i;let r;t[4]!==a||t[5]!==c||t[6]!==p?(r={queryKey:a,queryFn:c,staleTime:3e4,enabled:p},t[4]=a,t[5]=c,t[6]=p,t[7]=r):r=t[7];const{data:g,isLoading:d,isError:b}=ie(r);if(!i)return null;let x;t[8]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(je,{className:"h-5 w-5 text-primary"})}),t[8]=x):x=t[8];let u;t[9]!==o||t[10]!==l?(u=e.jsxs("p",{className:"text-sm font-medium",children:[l," (Last ",o," days)"]}),t[9]=o,t[10]=l,t[11]=u):u=t[11];const m=d?"Loading...":b?"â€”":`${g} view${g===1?"":"s"}`;let f;t[12]!==m?(f=e.jsx("p",{className:"text-sm text-muted-foreground",children:m}),t[12]=m,t[13]=f):f=t[13];let j;return t[14]!==f||t[15]!==u?(j=e.jsxs("div",{className:"flex items-center gap-3",children:[x,e.jsxs("div",{children:[u,f]})]}),t[14]=f,t[15]=u,t[16]=j):j=t[16],j}const G=s=>s.trim().replace(/^@/,""),F=s=>s.startsWith("http://")||s.startsWith("https://")?s:`https://${s}`;function Me(s){const t=B.c(20),{instagram:i,facebook:h,twitter:n,telegram:o,whatsapp:l,website:a}=s;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(ve,{className:"h-4 w-4"}),t[0]=c):c=t[0];let p,r,g,d,b;if(t[1]!==h||t[2]!==i||t[3]!==o||t[4]!==n||t[5]!==a||t[6]!==l){b=Symbol.for("react.early_return_sentinel");e:{const f=[{platform:"Instagram",value:i,icon:c,color:"hover:bg-pink-50 hover:border-pink-200 dark:hover:bg-pink-950 dark:hover:border-pink-900",getUrl:ze},{platform:"Facebook",value:h,icon:e.jsx(we,{className:"h-4 w-4"}),color:"hover:bg-blue-50 hover:border-blue-200 dark:hover:bg-blue-950 dark:hover:border-blue-900",getUrl:qe},{platform:"Twitter/X",value:n,icon:e.jsx(Ne,{className:"h-4 w-4"}),color:"hover:bg-sky-50 hover:border-sky-200 dark:hover:bg-sky-950 dark:hover:border-sky-900",getUrl:Ue},{platform:"Telegram",value:o,icon:e.jsx(ye,{className:"h-4 w-4"}),color:"hover:bg-cyan-50 hover:border-cyan-200 dark:hover:bg-cyan-950 dark:hover:border-cyan-900",getUrl:Oe},{platform:"WhatsApp",value:l,icon:e.jsx(O,{className:"h-4 w-4"}),color:"hover:bg-green-50 hover:border-green-200 dark:hover:bg-green-950 dark:hover:border-green-900",getUrl:Ae},{platform:"Website",value:a,icon:e.jsx(ee,{className:"h-4 w-4"}),color:"hover:bg-slate-50 hover:border-slate-200 dark:hover:bg-slate-950 dark:hover:border-slate-800",getUrl:He}].filter(De);if(f.length===0){b=null;break e}g="space-y-3",t[12]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(ee,{className:"h-4 w-4"}),"Connect via Social Media"]}),t[12]=d):d=t[12],p="grid grid-cols-2 sm:grid-cols-3 gap-2",r=f.map(Fe)}t[1]=h,t[2]=i,t[3]=o,t[4]=n,t[5]=a,t[6]=l,t[7]=p,t[8]=r,t[9]=g,t[10]=d,t[11]=b}else p=t[7],r=t[8],g=t[9],d=t[10],b=t[11];if(b!==Symbol.for("react.early_return_sentinel"))return b;let x;t[13]!==p||t[14]!==r?(x=e.jsx("div",{className:p,children:r}),t[13]=p,t[14]=r,t[15]=x):x=t[15];let u;return t[16]!==g||t[17]!==d||t[18]!==x?(u=e.jsxs("div",{className:g,children:[d,x]}),t[16]=g,t[17]=d,t[18]=x,t[19]=u):u=t[19],u}function Fe(s){return e.jsx(v,{variant:"outline",size:"sm",asChild:!0,className:`gap-2 transition-colors ${s.color}`,children:e.jsxs("a",{href:s.getUrl(s.value),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between w-full",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[s.icon,s.platform]}),e.jsx(ge,{className:"h-3 w-3 opacity-50"})]})},s.platform)}function De(s){return s.value}function He(s){return F(s)}function Ae(s){return`https://wa.me/${s.replace(/\D/g,"")}`}function Oe(s){const t=G(s);return s.includes("t.me")?F(s):`https://t.me/${t}`}function Ue(s){const t=G(s);return s.includes("twitter.com")||s.includes("x.com")?F(s):`https://x.com/${t}`}function qe(s){return s.includes("facebook.com")||s.includes("fb.com")?F(s):`https://facebook.com/${G(s)}`}function ze(s){const t=G(s);return s.includes("instagram.com")?F(s):`https://instagram.com/${t}`}function Be({petId:s,ownerId:t,petName:i,open:h,onOpenChange:n}){const[o,l]=w.useState(!1),[a,c]=w.useState(""),[p,r]=w.useState(""),[g,d]=w.useState(null),[b,x]=w.useState(!1),u=async()=>{l(!0),d(null);try{if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");const m=await new Promise((j,_)=>{navigator.geolocation.getCurrentPosition(j,_,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),{error:f}=await q.from("location_shares").insert({pet_id:s,owner_id:t,latitude:m.coords.latitude,longitude:m.coords.longitude,accuracy:m.coords.accuracy,finder_note:a.trim()||null,finder_contact:p.trim()||null});if(f)throw f;x(!0),setTimeout(()=>{n(!1),x(!1),c(""),r("")},2e3)}catch(m){if(m instanceof GeolocationPositionError)switch(m.code){case m.PERMISSION_DENIED:d("Location access was denied. Please enable location permissions.");break;case m.POSITION_UNAVAILABLE:d("Location information is unavailable.");break;case m.TIMEOUT:d("Location request timed out. Please try again.");break}else d(m instanceof Error?m.message:"Failed to share location")}finally{l(!1)}};return e.jsx(ne,{open:h,onOpenChange:n,children:e.jsxs(oe,{className:"sm:max-w-md",children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-primary"}),"Share Your Location"]}),e.jsxs(xe,{children:["Help reunite ",i," with their owner by sharing where you found them. Your location will be sent securely to the pet owner."]})]}),b?e.jsxs(N,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[e.jsx(U,{className:"h-4 w-4 text-green-600"}),e.jsx(y,{className:"text-green-600",children:"Location shared successfully! The owner has been notified."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"finder-note",children:"Message (Optional)"}),e.jsx(_e,{id:"finder-note",placeholder:"e.g., 'Found near the park on Main Street' or 'Your pet is safe with me'",value:a,onChange:m=>c(m.target.value),rows:3,maxLength:500})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"finder-contact",children:"Your Contact Info (Optional)"}),e.jsx(ke,{id:"finder-contact",type:"text",placeholder:"Phone number or email",value:p,onChange:m=>r(m.target.value),maxLength:100}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Share your contact info so the owner can reach you directly"})]}),g&&e.jsxs(N,{variant:"destructive",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx(y,{children:g})]}),e.jsxs(N,{children:[e.jsx(U,{className:"h-4 w-4"}),e.jsxs(y,{className:"text-sm",children:[e.jsx("strong",{children:"Privacy Notice:"})," Your precise GPS location will be shared with the pet owner. Make sure you're comfortable sharing your current location."]})]})]}),e.jsxs(ue,{className:"sm:justify-between",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:o,children:"Cancel"}),e.jsx(v,{type:"button",onClick:u,disabled:o||b,children:o?e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"mr-2 h-4 w-4 animate-spin"}),"Sharing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Share Location"]})})]})]})})}function Ge(s){const t=B.c(6),{petName:i,subscriptionStatus:h}=s;let n;t[0]!==i||t[1]!==h?(n=()=>{switch(h){case"expired":return`${i}'s profile subscription has expired. The owner needs to renew to keep this profile active.`;case"cancelled":return`${i}'s profile subscription was cancelled. Contact the owner for more information.`;case"pending":return`${i}'s profile is pending activation. The subscription is being processed.`;case"inactive":default:return`${i}'s profile is not currently activated with a subscription. Contact the owner for assistance.`}},t[0]=i,t[1]=h,t[2]=n):n=t[2];const o=n;let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=e.jsx(U,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),t[3]=l):l=t[3];const a=o();let c;return t[4]!==a?(c=e.jsxs(N,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950/20 mb-6",children:[l,e.jsx(y,{className:"text-amber-900 dark:text-amber-200 font-medium",children:a})]}),t[4]=a,t[5]=c):c=t[5],c}function re(s){if(!s)return"";const t=new Date(s).getTime(),i=Date.now();if(isNaN(t)||i<=t)return"just now";const h=i-t,n=Math.floor(h/(1e3*60)),o=Math.floor(n/60),l=Math.floor(o/24);if(l>0){const a=o%24;return`${l} day${l>1?"s":""}${a?`, ${a} hour${a>1?"s":""}`:""}`}if(o>0){const a=n%60;return`${o} hour${o>1?"s":""}${a?`, ${a} min`:""}`}return`${n} min`}function Os(){const s=B.c(43),{id:t}=de(),[i,h]=w.useState(!1),[n,o]=w.useState(!1);let l;s[0]!==t?(l=["public-pet",t],s[0]=t,s[1]=l):l=s[1];const a=!!t;let c;s[2]!==t?(c=async()=>{const{data:T,error:V}=await q.from("public_pets").select("*").eq("short_id",t).maybeSingle();if(console.log("Fetched pet data:",T),V)throw V;if(!T)return null;const{data:me}=await q.from("pet_themes").select("theme_preset").eq("pet_id",T.id).maybeSingle();return{...T,theme_preset:me?.theme_preset}},s[2]=t,s[3]=c):c=s[3];let p;s[4]!==l||s[5]!==a||s[6]!==c?(p={queryKey:l,enabled:a,queryFn:c,staleTime:6e4},s[4]=l,s[5]=a,s[6]=c,s[7]=p):p=s[7];const{data:r,isLoading:g,isError:d}=ie(p);let b;s[8]!==r?.theme_preset?(b=()=>{const T=r?.theme_preset||ae;return K(T,!1),Re},s[8]=r?.theme_preset,s[9]=b):b=s[9];const x=r?.theme_preset;let u;s[10]!==x?(u=[x],s[10]=x,s[11]=u):u=s[11],w.useEffect(b,u);const m=r?.owner_email||r?.owner_phone,f=r?.owner_instagram||r?.owner_facebook||r?.owner_twitter||r?.owner_telegram||r?.owner_whatsapp||r?.owner_website;let j;s[12]!==t?(j=e.jsx(Te,{shortId:t,askGeo:!0}),s[12]=t,s[13]=j):j=s[13];let _,D;s[14]===Symbol.for("react.memo_cache_sentinel")?(_=e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-brand-rose/25 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-brand-lavender/25 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-96 h-96 bg-brand-peach/15 rounded-full blur-3xl"})]}),D=e.jsx($e,{}),s[14]=_,s[15]=D):(_=s[14],D=s[15]);let k;s[16]!==r||s[17]!==m||s[18]!==f||s[19]!==d||s[20]!==g?(k=e.jsx("main",{className:"relative mx-auto max-w-5xl px-4 sm:px-6 py-8 md:py-12",children:g?e.jsx(Y,{className:"overflow-hidden shadow-xl",children:e.jsxs("div",{className:"grid gap-6 p-6 lg:grid-cols-[400px,1fr]",children:[e.jsx(E,{className:"h-96 w-full rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{className:"h-8 w-48"}),e.jsx(E,{className:"h-6 w-64"}),e.jsx(E,{className:"h-4 w-full"}),e.jsx(E,{className:"h-4 w-full"}),e.jsx(E,{className:"h-24 w-full"})]})]})}):d||!r?e.jsxs(Y,{className:"shadow-xl",children:[e.jsx(X,{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-destructive/10 rounded-xl flex items-center justify-center",children:e.jsx(W,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{children:[e.jsx(J,{className:"text-2xl",children:"Pet Not Found"}),e.jsx(pe,{className:"text-base",children:"This QR code may be invalid or the pet profile is no longer available"})]})]})}),e.jsx(Z,{children:e.jsx(v,{asChild:!0,className:"gap-2",children:e.jsxs(he,{to:"/",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Go to Homepage"]})})})]}):e.jsxs("div",{className:"space-y-6",children:[r.subscription_status!=="active"&&e.jsx(Ge,{petName:r.name,subscriptionStatus:r.subscription_status}),r.missing&&e.jsxs(N,{variant:"destructive",className:"animate-in fade-in-50 slide-in-from-top-2 duration-300",children:[e.jsx(W,{className:"h-5 w-5"}),e.jsxs(y,{className:"text-base font-medium",children:[e.jsx("span",{className:"block mb-1",children:"ðŸš¨ This pet is currently MISSING!"}),r.missing_since&&e.jsxs("span",{className:"text-sm opacity-90",children:["Missing for ",re(r.missing_since)]})]})]}),e.jsxs(Y,{className:"overflow-hidden shadow-xl border-primary/10",children:[e.jsx(X,{className:"space-y-4 bg-gradient-to-r from-orange-50/80 to-amber-50/80 dark:bg-slate-900/50",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-xl flex items-center justify-center ring-4 ring-primary/5",children:e.jsx(Q,{className:"h-5 w-5 text-primary"})}),e.jsx(J,{className:"text-3xl tracking-tight",children:r.name})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(M,{variant:"secondary",className:"capitalize text-sm px-3 py-1",children:[r.species==="dog"?"ðŸ•":r.species==="cat"?"ðŸ±":"ðŸ¾"," ",r.species]}),r.breed&&e.jsx(M,{variant:"outline",className:"text-sm px-3 py-1",children:r.breed}),r.color&&e.jsx(M,{variant:"outline",className:"text-sm px-3 py-1",children:r.color}),e.jsxs(M,{variant:"outline",className:"text-sm px-3 py-1",children:[r.environment==="indoor"&&"ðŸ  Indoor",r.environment==="outdoor"&&"ðŸŒ³ Outdoor",r.environment==="indoor_outdoor"&&"ðŸ¡ Indoor & Outdoor"]})]})]}),e.jsx(M,{variant:r.missing?"destructive":"default",className:`text-sm px-4 py-2 gap-2 ${r.missing?"animate-pulse":""}`,children:r.missing?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-4 w-4"}),"Missing"]}):e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"h-4 w-4"}),"Safe at Home"]})})]})}),e.jsxs(Z,{className:"grid gap-8 p-6 lg:grid-cols-[1fr,400px]",children:[e.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(Ie,{className:"h-5 w-5 text-primary"}),"About ",r.name]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:r.description||"No additional description provided."})]}),r.notes&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(Pe,{className:"h-5 w-5 text-primary"}),"Important Notes"]}),e.jsx(N,{className:"border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950",children:e.jsx(y,{className:"text-amber-900 dark:text-amber-100 whitespace-pre-wrap",children:r.notes})})]}),(m||f)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(O,{className:"h-5 w-5 text-primary"}),"Contact Owner"]}),e.jsx(N,{className:"border-blue-200 bg-blue-50 dark:border-blue-900 dark:bg-blue-950",children:e.jsx(y,{className:"text-blue-800 dark:text-blue-200",children:"If you've found this pet, please contact the owner using the information below"})}),e.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-primary/20",children:[r.owner_phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Phone"}),e.jsx("a",{href:`tel:${r.owner_phone}`,className:"text-primary hover:underline font-medium",children:r.owner_phone})]})]}),r.owner_email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email"}),e.jsx("a",{href:`mailto:${r.owner_email}`,className:"text-primary hover:underline font-medium",children:r.owner_email})]})]}),r.missing&&e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("div",{className:"h-10 w-10 bg-orange-100 dark:bg-orange-950 rounded-lg flex items-center justify-center",children:e.jsx(be,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Last Seen"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.missing_since?re(r.missing_since)+" ago":"Recently"})]})]}),e.jsx(Ee,{petId:r.id,days:30,label:"QR Code Scans"})]}),m&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[r.owner_phone&&e.jsx(v,{asChild:!0,className:"flex-1 gap-2",variant:"success",children:e.jsxs("a",{href:`tel:${r.owner_phone}`,children:[e.jsx(O,{className:"h-4 w-4"}),"Call Owner"]})}),r.owner_email&&e.jsx(v,{asChild:!0,variant:"outline",className:"flex-1 gap-2",children:e.jsxs("a",{href:`mailto:${r.owner_email}`,children:[e.jsx(te,{className:"h-4 w-4"}),"Send Email"]})})]}),f&&e.jsx("div",{className:"pt-4",children:e.jsx(Me,{instagram:r.owner_instagram,facebook:r.owner_facebook,twitter:r.owner_twitter,telegram:r.owner_telegram,whatsapp:r.owner_whatsapp,website:r.owner_website})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(z,{className:"h-5 w-5 text-primary"}),"Found This Pet?"]}),e.jsx(N,{children:e.jsxs(y,{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm",children:["Help reunite ",r.name," with their owner faster by sharing your location."]}),e.jsxs(v,{onClick:()=>o(!0),className:"w-full gap-2",size:"lg",children:[e.jsx(z,{className:"h-4 w-4"}),"Share My Location"]})]})})]})]}),e.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:r.photo_url?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"group relative w-full overflow-hidden rounded-xl border-2 border-primary/10 ring-4 ring-primary/5 transition-all hover:scale-[1.02] hover:shadow-lg cursor-pointer",children:[e.jsx("img",{src:r.photo_url,alt:`${r.name}`,className:"w-full h-auto max-h-[600px] object-contain bg-white dark:bg-slate-100"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:e.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity bg-black/70 px-4 py-2 rounded-lg text-sm",children:"Click to enlarge"})})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Click image to view full size"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 rounded-xl border-2 border-dashed border-primary/20 bg-muted",children:[e.jsx(Q,{className:"h-16 w-16 text-primary/30 mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No photo provided"})]})})]})]})]})}),s[16]=r,s[17]=m,s[18]=f,s[19]=d,s[20]=g,s[21]=k):k=s[21];let H;s[22]===Symbol.for("react.memo_cache_sentinel")?(H=e.jsx(Q,{className:"h-5 w-5"}),s[22]=H):H=s[22];const R=r?.name;let S;s[23]!==R?(S=e.jsx(le,{className:"p-6 pb-0",children:e.jsxs(ce,{className:"flex items-center gap-2",children:[H,R,"'s Photo"]})}),s[23]=R,s[24]=S):S=s[24];let C;s[25]!==r?(C=r?.photo_url&&e.jsx("div",{className:"p-6 pt-4 overflow-auto",children:e.jsx("img",{src:r.photo_url,alt:`${r.name} full size`,className:"w-full h-auto rounded-lg"})}),s[25]=r,s[26]=C):C=s[26];let $;s[27]!==S||s[28]!==C?($=e.jsxs(oe,{className:"max-w-4xl max-h-[90vh] p-0",children:[S,C]}),s[27]=S,s[28]=C,s[29]=$):$=s[29];let L;s[30]!==i||s[31]!==$?(L=e.jsx(ne,{open:i,onOpenChange:h,children:$}),s[30]=i,s[31]=$,s[32]=L):L=s[32];let I;s[33]!==r||s[34]!==n?(I=r&&e.jsx(Be,{petId:r.id,ownerId:r.owner_id,petName:r.name,open:n,onOpenChange:o}),s[33]=r,s[34]=n,s[35]=I):I=s[35];let P;s[36]!==k||s[37]!==L||s[38]!==I?(P=e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-pink-50 to-purple-50 dark:from-slate-950 dark:via-purple-950/20 dark:to-slate-900",children:[_,D,k,L,I]}),s[36]=k,s[37]=L,s[38]=I,s[39]=P):P=s[39];let A;return s[40]!==P||s[41]!==j?(A=e.jsxs(e.Fragment,{children:[j,P]}),s[40]=P,s[41]=j,s[42]=A):A=s[42],A}function Re(){const s=localStorage.getItem("theme_preset"),t=localStorage.getItem("dark_mode")==="true";s?K(s,t):K(ae,t)}export{Os as default};
