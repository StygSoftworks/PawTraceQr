import{a as e,j as s,L as f,s as j}from"./index-BCqOND1P.js";import{C as w,a as g,b as y,c as C,d as N,e as L}from"./card-DGNbDs5V.js";import{B as d}from"./button-BbNWqBy8.js";import{L as k,I as b}from"./label-YmGlHcn-.js";import{A as m,a as p}from"./alert-CxqN4dZF.js";import{c as v}from"./createLucideIcon-B6o6nZUF.js";import{L as S}from"./log-in-D8x7fM-6.js";import"./index-BML2I4g_.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I=v("circle-check",E);function R(){const[t,u]=e.useState(""),[c,h]=e.useState(!1),[n,i]=e.useState(!1),[l,o]=e.useState(null);e.useEffect(()=>{},[]);const x=async r=>{r.preventDefault(),o(null),i(!0);try{const{error:a}=await j.auth.updateUser({password:t});if(a)throw a;h(!0)}catch(a){o(a?.message??"Failed to reset password")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:s.jsxs(w,{className:"w-full max-w-md",children:[s.jsxs(g,{children:[s.jsx(y,{children:"Set a new password"}),s.jsx(C,{children:"Enter your new password below."})]}),s.jsx(N,{children:c?s.jsxs(m,{children:[s.jsx(I,{className:"h-4 w-4"}),s.jsx(p,{children:"Password updated successfully."})]}):s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(k,{htmlFor:"password",children:"New password"}),s.jsx(b,{id:"password",type:"password",placeholder:"••••••••",value:t,onChange:r=>u(r.target.value),minLength:8,required:!0})]}),l&&s.jsx(m,{variant:"destructive",children:s.jsx(p,{children:l})}),s.jsx(d,{className:"w-full",type:"submit",disabled:n,children:n?"Updating…":"Update password"})]})}),s.jsx(L,{className:"justify-center",children:c?s.jsx(d,{asChild:!0,children:s.jsxs(f,{to:"/signin",className:"inline-flex items-center gap-2",children:[s.jsx(S,{className:"h-4 w-4"})," Back to sign in"]})}):null})]})})}export{R as default};
