import{j as e}from"./radix-ui-Dl2NiEpv.js";import{u as v}from"./index-djmkGsBh.js";import{r as a}from"./forms-BenlWNMe.js";import{B as m}from"./button-DAfSnszG.js";import{L as d,I as u}from"./input-Di22cJqv.js";import{d as b,b as y,a as C,c as S,C as k,e as L}from"./card-JrpAFQcq.js";import{A as E,a as P}from"./alert-Dydcjefr.js";import{b as A,L as x}from"./router-fBLXKt6a.js";import{h as F,t as I,e as D,L as T,u as z}from"./icons-1Q_-oHEE.js";import"./react-dom-CWqaeSHD.js";import"./pdf-DO90N-Wx.js";import"./supabase-Dq_AJ6PJ.js";import"./react-query-CCwEfxX5.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";function Z(){const{signInWithEmail:p}=v(),h=A(),[r,f]=a.useState(""),[l,g]=a.useState(""),[i,o]=a.useState(null),[n,c]=a.useState(!1),[t,j]=a.useState(!1),w=async s=>{s.preventDefault(),o(null),c(!0);try{await p(r,l),h("/dashboard",{replace:!0})}catch(N){o(N.message??"Failed to sign in")}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 px-4 py-8",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary/5 rounded-full blur-3xl"})]}),e.jsxs(b,{className:"w-full max-w-md relative shadow-xl border-slate-200 dark:border-slate-800 transition-all duration-300 hover:shadow-2xl",children:[e.jsxs(y,{className:"space-y-3 pb-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"h-16 w-16 flex items-center justify-center",children:e.jsx("img",{src:"/PawTraceQRLogo.svg",alt:"PawTrace Logo",className:"w-full h-full object-contain"})})}),e.jsx(C,{className:"text-2xl font-bold text-center tracking-tight",children:"Welcome back"}),e.jsx(S,{className:"text-center text-base",children:"Sign in to your PawTrace account"})]}),e.jsxs(k,{className:"space-y-4",children:[i&&e.jsxs(E,{variant:"destructive",className:"animate-in fade-in-50 slide-in-from-top-2 duration-300",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx(P,{children:i})]}),e.jsxs("form",{onSubmit:w,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",className:"text-sm font-medium",children:"Email address"}),e.jsx(u,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",value:r,onChange:s=>f(s.target.value),className:"h-11 transition-all duration-200 focus:ring-2 focus:ring-primary/20",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),e.jsx(x,{to:"/forgot-password",className:"text-xs text-primary hover:underline transition-colors",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{id:"password",type:t?"text":"password",autoComplete:"current-password",placeholder:"••••••••",value:l,onChange:s=>g(s.target.value),className:"h-11 pr-10 transition-all duration-200 focus:ring-2 focus:ring-primary/20",required:!0}),e.jsxs(m,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-11 px-3 hover:bg-transparent",onClick:()=>j(!t),children:[t?e.jsx(I,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(D,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"sr-only",children:t?"Hide password":"Show password"})]})]})]}),e.jsx(m,{type:"submit",disabled:n,className:"w-full h-11 text-base font-medium transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Sign in"]})})]})]}),e.jsx(L,{className:"flex flex-col space-y-4 pt-6 border-t border-slate-200 dark:border-slate-800",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Don't have an account?"}),e.jsxs(x,{to:"/register",className:"text-primary font-medium hover:underline transition-colors inline-flex items-center gap-1",children:[e.jsx(z,{className:"h-3.5 w-3.5"}),"Sign up"]})]})})]})]})}export{Z as default};
