const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./browser-DNUYkoTl.js","./index-BVOeH8As.js","./index-2s4HElcG.css"])))=>i.map(i=>d[i]);
import{a as c,j as o,c as k,_ as Xr,s as se,u as es,d as Zr}from"./index-BVOeH8As.js";import{u as Jr}from"./useQuery-Dlm53PxK.js";import{S as ct,u as ea}from"./separator-AS7xM1YF.js";import{C as Oe,a as et,b as tt,c as st,d as rt}from"./card-DrMiz69X.js";import{S as je,B as Rt}from"./skeleton-CPVKzabX.js";import{e as ts,r as Ae,c as Me,s as oe,k as ss,o as ta,I as sa,j as L,g as xt,t as rs,R as vt,T as ra,W as aa,C as bt,v as as,w as os,b as yt,P as wt,O as jt,X as oa,x as na,d as qe,f as ns,i as la,A as Nt,a as ce,h as ls,u as ia,l as is,m as cs,n as ds,F as us,D as ps,p as ms,q as fs}from"./index-BvTzpAJU.js";import{P as O,r as hs}from"./index-DK7O_WRT.js";import{c as T,u as Q,d as ca,e as gs,a as xs,b as Ie,B as G}from"./button-DZOZdsrp.js";import{L as J,I as le}from"./label-DY-7dGZF.js";import{A as vs,a as bs}from"./alert-Bw3BSsOQ.js";import{u as da,a as ua,o as Tt,s as ne,n as pa,_ as ma,b as fa}from"./zod-BfZV7n9v.js";import{c as q}from"./createLucideIcon-BVp2hpYb.js";import{C as ze}from"./circle-alert-DO5h0LOG.js";import{F as ha}from"./file-text-BRkMZ6tf.js";import{E as Et}from"./eye-ELZNIKwC.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],At=q("activity",ga);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ys=q("calendar",xa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ba=q("camera",va);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wa=q("check",ya);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ws=q("chevron-down",ja);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ca=q("chevron-up",Na);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],ka=q("chevrons-up-down",Sa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pa=q("copy",_a);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ta=q("download",Ra);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Aa=q("map-pin",Ea);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ma=q("palette",Ia);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],xe=q("paw-print",Da);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],It=q("plus",$a);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Mt=q("qr-code",Oa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Be=q("refresh-cw",Ba);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],La=q("search",Fa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],js=q("sparkles",za);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qa=q("square-pen",Va);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],Ha=q("syringe",Ua);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dt=q("trash-2",Wa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],at=q("triangle-alert",Ka);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],Qa=q("weight",Ga);var Ue="Tabs",[Ya]=Me(Ue,[ss]),Ns=ss(),[Xa,Ct]=Ya(Ue),Cs=c.forwardRef((r,e)=>{const{__scopeTabs:t,value:s,onValueChange:a,defaultValue:n,orientation:l="horizontal",dir:d,activationMode:i="automatic",...u}=r,p=ts(d),[f,v]=Ae({prop:s,onChange:a,defaultProp:n??"",caller:Ue});return o.jsx(Xa,{scope:t,baseId:oe(),value:f,onValueChange:v,orientation:l,dir:p,activationMode:i,children:o.jsx(O.div,{dir:p,"data-orientation":l,...u,ref:e})})});Cs.displayName=Ue;var Ss="TabsList",ks=c.forwardRef((r,e)=>{const{__scopeTabs:t,loop:s=!0,...a}=r,n=Ct(Ss,t),l=Ns(t);return o.jsx(ta,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:s,children:o.jsx(O.div,{role:"tablist","aria-orientation":n.orientation,...a,ref:e})})});ks.displayName=Ss;var _s="TabsTrigger",Ps=c.forwardRef((r,e)=>{const{__scopeTabs:t,value:s,disabled:a=!1,...n}=r,l=Ct(_s,t),d=Ns(t),i=Es(l.baseId,s),u=As(l.baseId,s),p=s===l.value;return o.jsx(sa,{asChild:!0,...d,focusable:!a,active:p,children:o.jsx(O.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":u,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:i,...n,ref:e,onMouseDown:L(r.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?l.onValueChange(s):f.preventDefault()}),onKeyDown:L(r.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(s)}),onFocus:L(r.onFocus,()=>{const f=l.activationMode!=="manual";!p&&!a&&f&&l.onValueChange(s)})})})});Ps.displayName=_s;var Rs="TabsContent",Ts=c.forwardRef((r,e)=>{const{__scopeTabs:t,value:s,forceMount:a,children:n,...l}=r,d=Ct(Rs,t),i=Es(d.baseId,s),u=As(d.baseId,s),p=s===d.value,f=c.useRef(p);return c.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),o.jsx(xt,{present:a||p,children:({present:v})=>o.jsx(O.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":i,hidden:!v,id:u,tabIndex:0,...l,ref:e,style:{...r.style,animationDuration:f.current?"0s":void 0},children:v&&n})})});Ts.displayName=Rs;function Es(r,e){return`${r}-trigger-${e}`}function As(r,e){return`${r}-content-${e}`}var Za=Cs,Ja=ks,eo=Ps,to=Ts;function so(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex flex-col gap-2",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(Za,{"data-slot":"tabs",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function ro(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(Ja,{"data-slot":"tabs-list",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function $t(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(eo,{"data-slot":"tabs-trigger",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Ot(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex-1 outline-none",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(to,{"data-slot":"tabs-content",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function ao(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("w-full caption-bottom text-sm",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:o.jsx("table",{"data-slot":"table",className:a,...s})}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function oo(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("[&_tr]:border-b",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("thead",{"data-slot":"table-header",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function no(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("[&_tr:last-child]:border-0",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("tbody",{"data-slot":"table-body",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Bt(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("tr",{"data-slot":"table-row",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Fe(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("th",{"data-slot":"table-head",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Le(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("td",{"data-slot":"table-cell",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}var Is="AlertDialog",[lo]=Me(Is,[rs]),ie=rs(),Ms=r=>{const{__scopeAlertDialog:e,...t}=r,s=ie(e);return o.jsx(vt,{...s,...t,modal:!0})};Ms.displayName=Is;var io="AlertDialogTrigger",Ds=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...s}=r,a=ie(t);return o.jsx(ra,{...a,...s,ref:e})});Ds.displayName=io;var co="AlertDialogPortal",$s=r=>{const{__scopeAlertDialog:e,...t}=r,s=ie(e);return o.jsx(wt,{...s,...t})};$s.displayName=co;var uo="AlertDialogOverlay",Os=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...s}=r,a=ie(t);return o.jsx(jt,{...a,...s,ref:e})});Os.displayName=uo;var Se="AlertDialogContent",[po,mo]=lo(Se),fo=ca("AlertDialogContent"),Bs=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,children:s,...a}=r,n=ie(t),l=c.useRef(null),d=Q(e,l),i=c.useRef(null);return o.jsx(aa,{contentName:Se,titleName:Fs,docsSlug:"alert-dialog",children:o.jsx(po,{scope:t,cancelRef:i,children:o.jsxs(bt,{role:"alertdialog",...n,...a,ref:d,onOpenAutoFocus:L(a.onOpenAutoFocus,u=>{u.preventDefault(),i.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(fo,{children:s}),o.jsx(go,{contentRef:l})]})})})});Bs.displayName=Se;var Fs="AlertDialogTitle",Ls=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...s}=r,a=ie(t);return o.jsx(as,{...a,...s,ref:e})});Ls.displayName=Fs;var zs="AlertDialogDescription",Vs=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...s}=r,a=ie(t);return o.jsx(os,{...a,...s,ref:e})});Vs.displayName=zs;var ho="AlertDialogAction",qs=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...s}=r,a=ie(t);return o.jsx(yt,{...a,...s,ref:e})});qs.displayName=ho;var Us="AlertDialogCancel",Hs=c.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...s}=r,{cancelRef:a}=mo(Us,t),n=ie(t),l=Q(e,a);return o.jsx(yt,{...n,...s,ref:l})});Hs.displayName=Us;var go=({contentRef:r})=>{const e=`\`${Se}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Se}\` by passing a \`${zs}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Se}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,r]),null},xo=Ms,vo=Ds,bo=$s,yo=Os,wo=Bs,jo=qs,No=Hs,Co=Ls,So=Vs;function Ft(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(xo,{"data-slot":"alert-dialog",...t}),e[2]=t,e[3]=s):s=e[3],s}function ko(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(vo,{"data-slot":"alert-dialog-trigger",...t}),e[2]=t,e[3]=s):s=e[3],s}function _o(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(bo,{"data-slot":"alert-dialog-portal",...t}),e[2]=t,e[3]=s):s=e[3],s}function Po(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(yo,{"data-slot":"alert-dialog-overlay",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Lt(r){const e=k.c(9);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx(Po,{}),e[3]=a):a=e[3];let n;e[4]!==t?(n=T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),e[4]=t,e[5]=n):n=e[5];let l;return e[6]!==s||e[7]!==n?(l=o.jsxs(_o,{children:[a,o.jsx(wo,{"data-slot":"alert-dialog-content",className:n,...s})]}),e[6]=s,e[7]=n,e[8]=l):l=e[8],l}function zt(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex flex-col gap-2 text-center sm:text-left",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("div",{"data-slot":"alert-dialog-header",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Vt(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("div",{"data-slot":"alert-dialog-footer",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function qt(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("text-lg font-semibold",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(Co,{"data-slot":"alert-dialog-title",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Ut(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("text-muted-foreground text-sm",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(So,{"data-slot":"alert-dialog-description",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Ht(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T(gs(),t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(jo,{className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Wt(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T(gs({variant:"outline"}),t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(No,{className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Ws(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(vt,{"data-slot":"dialog",...t}),e[2]=t,e[3]=s):s=e[3],s}function Ro(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(wt,{"data-slot":"dialog-portal",...t}),e[2]=t,e[3]=s):s=e[3],s}function To(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(jt,{"data-slot":"dialog-overlay",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Ks(r){const e=k.c(15);let t,s,a,n;e[0]!==r?({className:s,children:t,showCloseButton:n,...a}=r,e[0]=r,e[1]=t,e[2]=s,e[3]=a,e[4]=n):(t=e[1],s=e[2],a=e[3],n=e[4]);const l=n===void 0?!0:n;let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=o.jsx(To,{}),e[5]=d):d=e[5];let i;e[6]!==s?(i=T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),e[6]=s,e[7]=i):i=e[7];let u;e[8]!==l?(u=l&&o.jsxs(yt,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(oa,{}),o.jsx("span",{className:"sr-only",children:"Close"})]}),e[8]=l,e[9]=u):u=e[9];let p;return e[10]!==t||e[11]!==a||e[12]!==i||e[13]!==u?(p=o.jsxs(Ro,{"data-slot":"dialog-portal",children:[d,o.jsxs(bt,{"data-slot":"dialog-content",className:i,...a,children:[t,u]})]}),e[10]=t,e[11]=a,e[12]=i,e[13]=u,e[14]=p):p=e[14],p}function Gs(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex flex-col gap-2 text-center sm:text-left",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("div",{"data-slot":"dialog-header",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Qs(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("div",{"data-slot":"dialog-footer",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Ys(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("text-lg leading-none font-semibold",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(as,{"data-slot":"dialog-title",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Xs(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("text-muted-foreground text-sm",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(os,{"data-slot":"dialog-description",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Zs(r){const e=c.useRef({value:r,previous:r});return c.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var He="Switch",[Eo]=Me(He),[Ao,Io]=Eo(He),Js=c.forwardRef((r,e)=>{const{__scopeSwitch:t,name:s,checked:a,defaultChecked:n,required:l,disabled:d,value:i="on",onCheckedChange:u,form:p,...f}=r,[v,y]=c.useState(null),N=Q(e,S=>y(S)),x=c.useRef(!1),C=v?p||!!v.closest("form"):!0,[g,w]=Ae({prop:a,defaultProp:n??!1,onChange:u,caller:He});return o.jsxs(Ao,{scope:t,checked:g,disabled:d,children:[o.jsx(O.button,{type:"button",role:"switch","aria-checked":g,"aria-required":l,"data-state":rr(g),"data-disabled":d?"":void 0,disabled:d,value:i,...f,ref:N,onClick:L(r.onClick,S=>{w($=>!$),C&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),C&&o.jsx(sr,{control:v,bubbles:!x.current,name:s,value:i,checked:g,required:l,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});Js.displayName=He;var er="SwitchThumb",tr=c.forwardRef((r,e)=>{const{__scopeSwitch:t,...s}=r,a=Io(er,t);return o.jsx(O.span,{"data-state":rr(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})});tr.displayName=er;var Mo="SwitchBubbleInput",sr=c.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:s=!0,...a},n)=>{const l=c.useRef(null),d=Q(l,n),i=Zs(t),u=na(e);return c.useEffect(()=>{const p=l.current;if(!p)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(i!==t&&y){const N=new Event("click",{bubbles:s});y.call(p,t),p.dispatchEvent(N)}},[i,t,s]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:d,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sr.displayName=Mo;function rr(r){return r?"checked":"unchecked"}var Do=Js,$o=tr;function Oo(r){const e=k.c(9);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),e[3]=t,e[4]=a):a=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=o.jsx($o,{"data-slot":"switch-thumb",className:T("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=n):n=e[5];let l;return e[6]!==s||e[7]!==a?(l=o.jsx(Do,{"data-slot":"switch",className:a,...s,children:n}),e[6]=s,e[7]=a,e[8]=l):l=e[8],l}async function Bo(r){return await(await Xr(async()=>{const{default:t}=await import("./browser-DNUYkoTl.js").then(s=>s.b);return{default:t}},__vite__mapDeps([0,1,2]),import.meta.url)).default.toDataURL(r,{errorCorrectionLevel:"M",margin:1,scale:8,color:{dark:"#000000",light:"#ffffff"}})}async function Fo(r){return await(await fetch(r)).blob()}async function Lo(r,e,t){const s=`${r}/${e}.png`,{error:a}=await se.storage.from("pet-qr").upload(s,t,{contentType:"image/png",upsert:!0});if(a)throw a;const{data:n}=se.storage.from("pet-qr").getPublicUrl(s);return n.publicUrl}async function St(r,e){const t=`${window.location.origin}/p/${e}`,s=await Bo(t),a=await Fo(s);return await Lo(r,e,a)}function zo(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx("textarea",{"data-slot":"textarea",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Kt(r,[e,t]){return Math.min(t,Math.max(e,r))}var ar=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Vo="VisuallyHidden",qo=c.forwardRef((r,e)=>o.jsx(O.span,{...r,ref:e,style:{...ar,...r.style}}));qo.displayName=Vo;var Uo=[" ","Enter","ArrowUp","ArrowDown"],Ho=[" ","Enter"],ve="Select",[We,Ke,Wo]=la(ve),[_e]=Me(ve,[Wo,qe]),Ge=qe(),[Ko,ue]=_e(ve),[Go,Qo]=_e(ve),or=r=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:a,onOpenChange:n,value:l,defaultValue:d,onValueChange:i,dir:u,name:p,autoComplete:f,disabled:v,required:y,form:N}=r,x=Ge(e),[C,g]=c.useState(null),[w,S]=c.useState(null),[$,A]=c.useState(!1),P=ts(u),[E,U]=Ae({prop:s,defaultProp:a??!1,onChange:n,caller:ve}),[Y,ee]=Ae({prop:l,defaultProp:d,onChange:i,caller:ve}),X=c.useRef(null),Z=C?N||!!C.closest("form"):!0,[te,H]=c.useState(new Set),K=Array.from(te).map(h=>h.props.value).join(";");return o.jsx(ns,{...x,children:o.jsxs(Ko,{required:y,scope:e,trigger:C,onTriggerChange:g,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:$,onValueNodeHasChildrenChange:A,contentId:oe(),value:Y,onValueChange:ee,open:E,onOpenChange:U,dir:P,triggerPointerDownPosRef:X,disabled:v,children:[o.jsx(We.Provider,{scope:e,children:o.jsx(Go,{scope:r.__scopeSelect,onNativeOptionAdd:c.useCallback(h=>{H(I=>new Set(I).add(h))},[]),onNativeOptionRemove:c.useCallback(h=>{H(I=>{const z=new Set(I);return z.delete(h),z})},[]),children:t})}),Z?o.jsxs(_r,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:f,value:Y,onChange:h=>ee(h.target.value),disabled:v,form:N,children:[Y===void 0?o.jsx("option",{value:""}):null,Array.from(te)]},K):null]})})};or.displayName=ve;var nr="SelectTrigger",lr=c.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:s=!1,...a}=r,n=Ge(t),l=ue(nr,t),d=l.disabled||s,i=Q(e,l.onTriggerChange),u=Ke(t),p=c.useRef("touch"),[f,v,y]=Rr(x=>{const C=u().filter(S=>!S.disabled),g=C.find(S=>S.value===l.value),w=Tr(C,x,g);w!==void 0&&l.onValueChange(w.value)}),N=x=>{d||(l.onOpenChange(!0),y()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(Nt,{asChild:!0,...n,children:o.jsx(O.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Pr(l.value)?"":void 0,...a,ref:i,onClick:L(a.onClick,x=>{x.currentTarget.focus(),p.current!=="mouse"&&N(x)}),onPointerDown:L(a.onPointerDown,x=>{p.current=x.pointerType;const C=x.target;C.hasPointerCapture(x.pointerId)&&C.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(N(x),x.preventDefault())}),onKeyDown:L(a.onKeyDown,x=>{const C=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&v(x.key),!(C&&x.key===" ")&&Uo.includes(x.key)&&(N(),x.preventDefault())})})})});lr.displayName=nr;var ir="SelectValue",cr=c.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:a,children:n,placeholder:l="",...d}=r,i=ue(ir,t),{onValueNodeHasChildrenChange:u}=i,p=n!==void 0,f=Q(e,i.onValueNodeChange);return ce(()=>{u(p)},[u,p]),o.jsx(O.span,{...d,ref:f,style:{pointerEvents:"none"},children:Pr(i.value)?o.jsx(o.Fragment,{children:l}):n})});cr.displayName=ir;var Yo="SelectIcon",dr=c.forwardRef((r,e)=>{const{__scopeSelect:t,children:s,...a}=r;return o.jsx(O.span,{"aria-hidden":!0,...a,ref:e,children:s||"▼"})});dr.displayName=Yo;var Xo="SelectPortal",ur=r=>o.jsx(ls,{asChild:!0,...r});ur.displayName=Xo;var be="SelectContent",pr=c.forwardRef((r,e)=>{const t=ue(be,r.__scopeSelect),[s,a]=c.useState();if(ce(()=>{a(new DocumentFragment)},[]),!t.open){const n=s;return n?hs.createPortal(o.jsx(mr,{scope:r.__scopeSelect,children:o.jsx(We.Slot,{scope:r.__scopeSelect,children:o.jsx("div",{children:r.children})})}),n):null}return o.jsx(fr,{...r,ref:e})});pr.displayName=be;var ae=10,[mr,pe]=_e(be),Zo="SelectContentImpl",Jo=xs("SelectContent.RemoveScroll"),fr=c.forwardRef((r,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:n,onPointerDownOutside:l,side:d,sideOffset:i,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:x,avoidCollisions:C,...g}=r,w=ue(be,t),[S,$]=c.useState(null),[A,P]=c.useState(null),E=Q(e,b=>$(b)),[U,Y]=c.useState(null),[ee,X]=c.useState(null),Z=Ke(t),[te,H]=c.useState(!1),K=c.useRef(!1);c.useEffect(()=>{if(S)return is(S)},[S]),cs();const h=c.useCallback(b=>{const[D,...B]=Z().map(W=>W.ref.current),[F]=B.slice(-1),V=document.activeElement;for(const W of b)if(W===V||(W?.scrollIntoView({block:"nearest"}),W===D&&A&&(A.scrollTop=0),W===F&&A&&(A.scrollTop=A.scrollHeight),W?.focus(),document.activeElement!==V))return},[Z,A]),I=c.useCallback(()=>h([U,S]),[h,U,S]);c.useEffect(()=>{te&&I()},[te,I]);const{onOpenChange:z,triggerPointerDownPosRef:re}=w;c.useEffect(()=>{if(S){let b={x:0,y:0};const D=F=>{b={x:Math.abs(Math.round(F.pageX)-(re.current?.x??0)),y:Math.abs(Math.round(F.pageY)-(re.current?.y??0))}},B=F=>{b.x<=10&&b.y<=10?F.preventDefault():S.contains(F.target)||z(!1),document.removeEventListener("pointermove",D),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",D),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B,{capture:!0})}}},[S,z,re]),c.useEffect(()=>{const b=()=>z(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[z]);const[we,fe]=Rr(b=>{const D=Z().filter(V=>!V.disabled),B=D.find(V=>V.ref.current===document.activeElement),F=Tr(D,b,B);F&&setTimeout(()=>F.ref.current.focus())}),m=c.useCallback((b,D,B)=>{const F=!K.current&&!B;(w.value!==void 0&&w.value===D||F)&&(Y(b),F&&(K.current=!0))},[w.value]),_=c.useCallback(()=>S?.focus(),[S]),R=c.useCallback((b,D,B)=>{const F=!K.current&&!B;(w.value!==void 0&&w.value===D||F)&&X(b)},[w.value]),j=s==="popper"?dt:hr,M=j===dt?{side:d,sideOffset:i,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:x,avoidCollisions:C}:{};return o.jsx(mr,{scope:t,content:S,viewport:A,onViewportChange:P,itemRefCallback:m,selectedItem:U,onItemLeave:_,itemTextRefCallback:R,focusSelectedItem:I,selectedItemText:ee,position:s,isPositioned:te,searchRef:we,children:o.jsx(ds,{as:Jo,allowPinchZoom:!0,children:o.jsx(us,{asChild:!0,trapped:w.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:L(a,b=>{w.trigger?.focus({preventScroll:!0}),b.preventDefault()}),children:o.jsx(ps,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:l,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(j,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:b=>b.preventDefault(),...g,...M,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:L(g.onKeyDown,b=>{const D=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!D&&b.key.length===1&&fe(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let F=Z().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(b.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const V=b.target,W=F.indexOf(V);F=F.slice(W+1)}setTimeout(()=>h(F)),b.preventDefault()}})})})})})})});fr.displayName=Zo;var en="SelectItemAlignedPosition",hr=c.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:s,...a}=r,n=ue(be,t),l=pe(be,t),[d,i]=c.useState(null),[u,p]=c.useState(null),f=Q(e,E=>p(E)),v=Ke(t),y=c.useRef(!1),N=c.useRef(!0),{viewport:x,selectedItem:C,selectedItemText:g,focusSelectedItem:w}=l,S=c.useCallback(()=>{if(n.trigger&&n.valueNode&&d&&u&&x&&C&&g){const E=n.trigger.getBoundingClientRect(),U=u.getBoundingClientRect(),Y=n.valueNode.getBoundingClientRect(),ee=g.getBoundingClientRect();if(n.dir!=="rtl"){const V=ee.left-U.left,W=Y.left-V,he=E.left-W,ge=E.width+he,Xe=Math.max(ge,U.width),Ze=window.innerWidth-ae,Je=Kt(W,[ae,Math.max(ae,Ze-Xe)]);d.style.minWidth=ge+"px",d.style.left=Je+"px"}else{const V=U.right-ee.right,W=window.innerWidth-Y.right-V,he=window.innerWidth-E.right-W,ge=E.width+he,Xe=Math.max(ge,U.width),Ze=window.innerWidth-ae,Je=Kt(W,[ae,Math.max(ae,Ze-Xe)]);d.style.minWidth=ge+"px",d.style.right=Je+"px"}const X=v(),Z=window.innerHeight-ae*2,te=x.scrollHeight,H=window.getComputedStyle(u),K=parseInt(H.borderTopWidth,10),h=parseInt(H.paddingTop,10),I=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),re=K+h+te+z+I,we=Math.min(C.offsetHeight*5,re),fe=window.getComputedStyle(x),m=parseInt(fe.paddingTop,10),_=parseInt(fe.paddingBottom,10),R=E.top+E.height/2-ae,j=Z-R,M=C.offsetHeight/2,b=C.offsetTop+M,D=K+h+b,B=re-D;if(D<=R){const V=X.length>0&&C===X[X.length-1].ref.current;d.style.bottom="0px";const W=u.clientHeight-x.offsetTop-x.offsetHeight,he=Math.max(j,M+(V?_:0)+W+I),ge=D+he;d.style.height=ge+"px"}else{const V=X.length>0&&C===X[0].ref.current;d.style.top="0px";const he=Math.max(R,K+x.offsetTop+(V?m:0)+M)+B;d.style.height=he+"px",x.scrollTop=D-R+x.offsetTop}d.style.margin=`${ae}px 0`,d.style.minHeight=we+"px",d.style.maxHeight=Z+"px",s?.(),requestAnimationFrame(()=>y.current=!0)}},[v,n.trigger,n.valueNode,d,u,x,C,g,n.dir,s]);ce(()=>S(),[S]);const[$,A]=c.useState();ce(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const P=c.useCallback(E=>{E&&N.current===!0&&(S(),w?.(),N.current=!1)},[S,w]);return o.jsx(sn,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:o.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:o.jsx(O.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});hr.displayName=en;var tn="SelectPopperPosition",dt=c.forwardRef((r,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:a=ae,...n}=r,l=Ge(t);return o.jsx(ms,{...l,...n,ref:e,align:s,collisionPadding:a,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dt.displayName=tn;var[sn,kt]=_e(be,{}),ut="SelectViewport",gr=c.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:s,...a}=r,n=pe(ut,t),l=kt(ut,t),d=Q(e,n.onViewportChange),i=c.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(We.Slot,{scope:t,children:o.jsx(O.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:L(a.onScroll,u=>{const p=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:v}=l;if(v?.current&&f){const y=Math.abs(i.current-p.scrollTop);if(y>0){const N=window.innerHeight-ae*2,x=parseFloat(f.style.minHeight),C=parseFloat(f.style.height),g=Math.max(x,C);if(g<N){const w=g+y,S=Math.min(N,w),$=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(p.scrollTop=$>0?$:0,f.style.justifyContent="flex-end")}}}i.current=p.scrollTop})})})]})});gr.displayName=ut;var xr="SelectGroup",[rn,an]=_e(xr),on=c.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,a=oe();return o.jsx(rn,{scope:t,id:a,children:o.jsx(O.div,{role:"group","aria-labelledby":a,...s,ref:e})})});on.displayName=xr;var vr="SelectLabel",nn=c.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,a=an(vr,t);return o.jsx(O.div,{id:a.id,...s,ref:e})});nn.displayName=vr;var Ve="SelectItem",[ln,br]=_e(Ve),yr=c.forwardRef((r,e)=>{const{__scopeSelect:t,value:s,disabled:a=!1,textValue:n,...l}=r,d=ue(Ve,t),i=pe(Ve,t),u=d.value===s,[p,f]=c.useState(n??""),[v,y]=c.useState(!1),N=Q(e,w=>i.itemRefCallback?.(w,s,a)),x=oe(),C=c.useRef("touch"),g=()=>{a||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(ln,{scope:t,value:s,disabled:a,textId:x,isSelected:u,onItemTextChange:c.useCallback(w=>{f(S=>S||(w?.textContent??"").trim())},[]),children:o.jsx(We.ItemSlot,{scope:t,value:s,disabled:a,textValue:p,children:o.jsx(O.div,{role:"option","aria-labelledby":x,"data-highlighted":v?"":void 0,"aria-selected":u&&v,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:N,onFocus:L(l.onFocus,()=>y(!0)),onBlur:L(l.onBlur,()=>y(!1)),onClick:L(l.onClick,()=>{C.current!=="mouse"&&g()}),onPointerUp:L(l.onPointerUp,()=>{C.current==="mouse"&&g()}),onPointerDown:L(l.onPointerDown,w=>{C.current=w.pointerType}),onPointerMove:L(l.onPointerMove,w=>{C.current=w.pointerType,a?i.onItemLeave?.():C.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:L(l.onPointerLeave,w=>{w.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:L(l.onKeyDown,w=>{i.searchRef?.current!==""&&w.key===" "||(Ho.includes(w.key)&&g(),w.key===" "&&w.preventDefault())})})})})});yr.displayName=Ve;var Te="SelectItemText",wr=c.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:a,...n}=r,l=ue(Te,t),d=pe(Te,t),i=br(Te,t),u=Qo(Te,t),[p,f]=c.useState(null),v=Q(e,g=>f(g),i.onItemTextChange,g=>d.itemTextRefCallback?.(g,i.value,i.disabled)),y=p?.textContent,N=c.useMemo(()=>o.jsx("option",{value:i.value,disabled:i.disabled,children:y},i.value),[i.disabled,i.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:C}=u;return ce(()=>(x(N),()=>C(N)),[x,C,N]),o.jsxs(o.Fragment,{children:[o.jsx(O.span,{id:i.textId,...n,ref:v}),i.isSelected&&l.valueNode&&!l.valueNodeHasChildren?hs.createPortal(n.children,l.valueNode):null]})});wr.displayName=Te;var jr="SelectItemIndicator",Nr=c.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return br(jr,t).isSelected?o.jsx(O.span,{"aria-hidden":!0,...s,ref:e}):null});Nr.displayName=jr;var pt="SelectScrollUpButton",Cr=c.forwardRef((r,e)=>{const t=pe(pt,r.__scopeSelect),s=kt(pt,r.__scopeSelect),[a,n]=c.useState(!1),l=Q(e,s.onScrollButtonChange);return ce(()=>{if(t.viewport&&t.isPositioned){let d=function(){const u=i.scrollTop>0;n(u)};const i=t.viewport;return d(),i.addEventListener("scroll",d),()=>i.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?o.jsx(kr,{...r,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:i}=t;d&&i&&(d.scrollTop=d.scrollTop-i.offsetHeight)}}):null});Cr.displayName=pt;var mt="SelectScrollDownButton",Sr=c.forwardRef((r,e)=>{const t=pe(mt,r.__scopeSelect),s=kt(mt,r.__scopeSelect),[a,n]=c.useState(!1),l=Q(e,s.onScrollButtonChange);return ce(()=>{if(t.viewport&&t.isPositioned){let d=function(){const u=i.scrollHeight-i.clientHeight,p=Math.ceil(i.scrollTop)<u;n(p)};const i=t.viewport;return d(),i.addEventListener("scroll",d),()=>i.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?o.jsx(kr,{...r,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:i}=t;d&&i&&(d.scrollTop=d.scrollTop+i.offsetHeight)}}):null});Sr.displayName=mt;var kr=c.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:s,...a}=r,n=pe("SelectScrollButton",t),l=c.useRef(null),d=Ke(t),i=c.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return c.useEffect(()=>()=>i(),[i]),ce(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),o.jsx(O.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:L(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:L(a.onPointerMove,()=>{n.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:L(a.onPointerLeave,()=>{i()})})}),cn="SelectSeparator",dn=c.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return o.jsx(O.div,{"aria-hidden":!0,...s,ref:e})});dn.displayName=cn;var ft="SelectArrow",un=c.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,a=Ge(t),n=ue(ft,t),l=pe(ft,t);return n.open&&l.position==="popper"?o.jsx(fs,{...a,...s,ref:e}):null});un.displayName=ft;var pn="SelectBubbleInput",_r=c.forwardRef(({__scopeSelect:r,value:e,...t},s)=>{const a=c.useRef(null),n=Q(s,a),l=Zs(e);return c.useEffect(()=>{const d=a.current;if(!d)return;const i=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(i,"value").set;if(l!==e&&p){const f=new Event("change",{bubbles:!0});p.call(d,e),d.dispatchEvent(f)}},[l,e]),o.jsx(O.select,{...t,style:{...ar,...t.style},ref:n,defaultValue:e})});_r.displayName=pn;function Pr(r){return r===""||r===void 0}function Rr(r){const e=ia(r),t=c.useRef(""),s=c.useRef(0),a=c.useCallback(l=>{const d=t.current+l;e(d),(function i(u){t.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>i(""),1e3))})(d)},[e]),n=c.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,a,n]}function Tr(r,e,t){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,n=t?r.indexOf(t):-1;let l=mn(r,Math.max(n,0));a.length===1&&(l=l.filter(u=>u!==t));const i=l.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return i!==t?i:void 0}function mn(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var fn=or,hn=lr,gn=cr,xn=dr,vn=ur,bn=pr,yn=gr,wn=yr,jn=wr,Nn=Nr,Cn=Cr,Sn=Sr;function kn(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(fn,{"data-slot":"select",...t}),e[2]=t,e[3]=s):s=e[3],s}function _n(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(gn,{"data-slot":"select-value",...t}),e[2]=t,e[3]=s):s=e[3],s}function Pn(r){const e=k.c(13);let t,s,a,n;e[0]!==r?({className:s,size:n,children:t,...a}=r,e[0]=r,e[1]=t,e[2]=s,e[3]=a,e[4]=n):(t=e[1],s=e[2],a=e[3],n=e[4]);const l=n===void 0?"default":n;let d;e[5]!==s?(d=T("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[5]=s,e[6]=d):d=e[6];let i;e[7]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx(xn,{asChild:!0,children:o.jsx(ws,{className:"size-4 opacity-50"})}),e[7]=i):i=e[7];let u;return e[8]!==t||e[9]!==a||e[10]!==l||e[11]!==d?(u=o.jsxs(hn,{"data-slot":"select-trigger","data-size":l,className:d,...a,children:[t,i]}),e[8]=t,e[9]=a,e[10]=l,e[11]=d,e[12]=u):u=e[12],u}function Rn(r){const e=k.c(20);let t,s,a,n;e[0]!==r?({className:s,children:t,position:n,...a}=r,e[0]=r,e[1]=t,e[2]=s,e[3]=a,e[4]=n):(t=e[1],s=e[2],a=e[3],n=e[4]);const l=n===void 0?"popper":n,d=l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let i;e[5]!==s||e[6]!==d?(i=T("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",d,s),e[5]=s,e[6]=d,e[7]=i):i=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u=o.jsx(Tn,{}),e[8]=u):u=e[8];const p=l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let f;e[9]!==p?(f=T("p-1",p),e[9]=p,e[10]=f):f=e[10];let v;e[11]!==t||e[12]!==f?(v=o.jsx(yn,{className:f,children:t}),e[11]=t,e[12]=f,e[13]=v):v=e[13];let y;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=o.jsx(En,{}),e[14]=y):y=e[14];let N;return e[15]!==l||e[16]!==a||e[17]!==i||e[18]!==v?(N=o.jsx(vn,{children:o.jsxs(bn,{"data-slot":"select-content",className:i,position:l,...a,children:[u,v,y]})}),e[15]=l,e[16]=a,e[17]=i,e[18]=v,e[19]=N):N=e[19],N}function ot(r){const e=k.c(13);let t,s,a;e[0]!==r?({className:s,children:t,...a}=r,e[0]=r,e[1]=t,e[2]=s,e[3]=a):(t=e[1],s=e[2],a=e[3]);let n;e[4]!==s?(n=T("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),e[4]=s,e[5]=n):n=e[5];let l;e[6]===Symbol.for("react.memo_cache_sentinel")?(l=o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(Nn,{children:o.jsx(wa,{className:"size-4"})})}),e[6]=l):l=e[6];let d;e[7]!==t?(d=o.jsx(jn,{children:t}),e[7]=t,e[8]=d):d=e[8];let i;return e[9]!==a||e[10]!==n||e[11]!==d?(i=o.jsxs(wn,{"data-slot":"select-item",className:n,...a,children:[l,d]}),e[9]=a,e[10]=n,e[11]=d,e[12]=i):i=e[12],i}function Tn(r){const e=k.c(9);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex cursor-default items-center justify-center py-1",t),e[3]=t,e[4]=a):a=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=o.jsx(Ca,{className:"size-4"}),e[5]=n):n=e[5];let l;return e[6]!==s||e[7]!==a?(l=o.jsx(Cn,{"data-slot":"select-scroll-up-button",className:a,...s,children:n}),e[6]=s,e[7]=a,e[8]=l):l=e[8],l}function En(r){const e=k.c(9);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("flex cursor-default items-center justify-center py-1",t),e[3]=t,e[4]=a):a=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=o.jsx(ws,{className:"size-4"}),e[5]=n):n=e[5];let l;return e[6]!==s||e[7]!==a?(l=o.jsx(Sn,{"data-slot":"select-scroll-down-button",className:a,...s,children:n}),e[6]=s,e[7]=a,e[8]=l):l=e[8],l}var Qe="Popover",[Er]=Me(Qe,[qe]),De=qe(),[An,me]=Er(Qe),Ar=r=>{const{__scopePopover:e,children:t,open:s,defaultOpen:a,onOpenChange:n,modal:l=!1}=r,d=De(e),i=c.useRef(null),[u,p]=c.useState(!1),[f,v]=Ae({prop:s,defaultProp:a??!1,onChange:n,caller:Qe});return o.jsx(ns,{...d,children:o.jsx(An,{scope:e,contentId:oe(),triggerRef:i,open:f,onOpenChange:v,onOpenToggle:c.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:u,onCustomAnchorAdd:c.useCallback(()=>p(!0),[]),onCustomAnchorRemove:c.useCallback(()=>p(!1),[]),modal:l,children:t})})};Ar.displayName=Qe;var Ir="PopoverAnchor",In=c.forwardRef((r,e)=>{const{__scopePopover:t,...s}=r,a=me(Ir,t),n=De(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return c.useEffect(()=>(l(),()=>d()),[l,d]),o.jsx(Nt,{...n,...s,ref:e})});In.displayName=Ir;var Mr="PopoverTrigger",Dr=c.forwardRef((r,e)=>{const{__scopePopover:t,...s}=r,a=me(Mr,t),n=De(t),l=Q(e,a.triggerRef),d=o.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Lr(a.open),...s,ref:l,onClick:L(r.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:o.jsx(Nt,{asChild:!0,...n,children:d})});Dr.displayName=Mr;var _t="PopoverPortal",[Mn,Dn]=Er(_t,{forceMount:void 0}),$r=r=>{const{__scopePopover:e,forceMount:t,children:s,container:a}=r,n=me(_t,e);return o.jsx(Mn,{scope:e,forceMount:t,children:o.jsx(xt,{present:t||n.open,children:o.jsx(ls,{asChild:!0,container:a,children:s})})})};$r.displayName=_t;var ke="PopoverContent",Or=c.forwardRef((r,e)=>{const t=Dn(ke,r.__scopePopover),{forceMount:s=t.forceMount,...a}=r,n=me(ke,r.__scopePopover);return o.jsx(xt,{present:s||n.open,children:n.modal?o.jsx(On,{...a,ref:e}):o.jsx(Bn,{...a,ref:e})})});Or.displayName=ke;var $n=xs("PopoverContent.RemoveScroll"),On=c.forwardRef((r,e)=>{const t=me(ke,r.__scopePopover),s=c.useRef(null),a=Q(e,s),n=c.useRef(!1);return c.useEffect(()=>{const l=s.current;if(l)return is(l)},[]),o.jsx(ds,{as:$n,allowPinchZoom:!0,children:o.jsx(Br,{...r,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(r.onCloseAutoFocus,l=>{l.preventDefault(),n.current||t.triggerRef.current?.focus()}),onPointerDownOutside:L(r.onPointerDownOutside,l=>{const d=l.detail.originalEvent,i=d.button===0&&d.ctrlKey===!0,u=d.button===2||i;n.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:L(r.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Bn=c.forwardRef((r,e)=>{const t=me(ke,r.__scopePopover),s=c.useRef(!1),a=c.useRef(!1);return o.jsx(Br,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{r.onCloseAutoFocus?.(n),n.defaultPrevented||(s.current||t.triggerRef.current?.focus(),n.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:n=>{r.onInteractOutside?.(n),n.defaultPrevented||(s.current=!0,n.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=n.target;t.triggerRef.current?.contains(l)&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&a.current&&n.preventDefault()}})}),Br=c.forwardRef((r,e)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:p,...f}=r,v=me(ke,t),y=De(t);return cs(),o.jsx(us,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:o.jsx(ps,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:i,onFocusOutside:u,onDismiss:()=>v.onOpenChange(!1),children:o.jsx(ms,{"data-state":Lr(v.open),role:"dialog",id:v.contentId,...y,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Fr="PopoverClose",Fn=c.forwardRef((r,e)=>{const{__scopePopover:t,...s}=r,a=me(Fr,t);return o.jsx(O.button,{type:"button",...s,ref:e,onClick:L(r.onClick,()=>a.onOpenChange(!1))})});Fn.displayName=Fr;var Ln="PopoverArrow",zn=c.forwardRef((r,e)=>{const{__scopePopover:t,...s}=r,a=De(t);return o.jsx(fs,{...a,...s,ref:e})});zn.displayName=Ln;function Lr(r){return r?"open":"closed"}var Vn=Ar,qn=Dr,Un=$r,Hn=Or;function Wn(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(Vn,{"data-slot":"popover",...t}),e[2]=t,e[3]=s):s=e[3],s}function Kn(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(qn,{"data-slot":"popover-trigger",...t}),e[2]=t,e[3]=s):s=e[3],s}function Gn(r){const e=k.c(12);let t,s,a,n;e[0]!==r?({className:t,align:a,sideOffset:n,...s}=r,e[0]=r,e[1]=t,e[2]=s,e[3]=a,e[4]=n):(t=e[1],s=e[2],a=e[3],n=e[4]);const l=a===void 0?"center":a,d=n===void 0?4:n;let i;e[5]!==t?(i=T("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),e[5]=t,e[6]=i):i=e[6];let u;return e[7]!==l||e[8]!==s||e[9]!==d||e[10]!==i?(u=o.jsx(Un,{children:o.jsx(Hn,{"data-slot":"popover-content",align:l,sideOffset:d,className:i,...s})}),e[7]=l,e[8]=s,e[9]=d,e[10]=i,e[11]=u):u=e[11],u}var Gt=1,Qn=.9,Yn=.8,Xn=.17,nt=.1,lt=.999,Zn=.9999,Jn=.99,el=/[\\\/_+.#"@\[\(\{&]/,tl=/[\\\/_+.#"@\[\(\{&]/g,sl=/[\s-]/,zr=/[\s-]/g;function ht(r,e,t,s,a,n,l){if(n===e.length)return a===r.length?Gt:Jn;var d=`${a},${n}`;if(l[d]!==void 0)return l[d];for(var i=s.charAt(n),u=t.indexOf(i,a),p=0,f,v,y,N;u>=0;)f=ht(r,e,t,s,u+1,n+1,l),f>p&&(u===a?f*=Gt:el.test(r.charAt(u-1))?(f*=Yn,y=r.slice(a,u-1).match(tl),y&&a>0&&(f*=Math.pow(lt,y.length))):sl.test(r.charAt(u-1))?(f*=Qn,N=r.slice(a,u-1).match(zr),N&&a>0&&(f*=Math.pow(lt,N.length))):(f*=Xn,a>0&&(f*=Math.pow(lt,u-a))),r.charAt(u)!==e.charAt(n)&&(f*=Zn)),(f<nt&&t.charAt(u-1)===s.charAt(n+1)||s.charAt(n+1)===s.charAt(n)&&t.charAt(u-1)!==s.charAt(n))&&(v=ht(r,e,t,s,u+1,n+2,l),v*nt>f&&(f=v*nt)),f>p&&(p=f),u=t.indexOf(i,u+1);return l[d]=p,p}function Qt(r){return r.toLowerCase().replace(zr," ")}function rl(r,e,t){return r=t&&t.length>0?`${r+" "+t.join(" ")}`:r,ht(r,e,Qt(r),Qt(e),0,0,{})}var Re='[cmdk-group=""]',it='[cmdk-group-items=""]',al='[cmdk-group-heading=""]',Vr='[cmdk-item=""]',Yt=`${Vr}:not([aria-disabled="true"])`,gt="cmdk-item-select",Ne="data-value",ol=(r,e,t)=>rl(r,e,t),qr=c.createContext(void 0),$e=()=>c.useContext(qr),Ur=c.createContext(void 0),Pt=()=>c.useContext(Ur),Hr=c.createContext(void 0),Wr=c.forwardRef((r,e)=>{let t=Ce(()=>{var m,_;return{search:"",value:(_=(m=r.value)!=null?m:r.defaultValue)!=null?_:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Ce(()=>new Set),a=Ce(()=>new Map),n=Ce(()=>new Map),l=Ce(()=>new Set),d=Kr(r),{label:i,children:u,value:p,onValueChange:f,filter:v,shouldFilter:y,loop:N,disablePointerSelection:x=!1,vimBindings:C=!0,...g}=r,w=oe(),S=oe(),$=oe(),A=c.useRef(null),P=gl();ye(()=>{if(p!==void 0){let m=p.trim();t.current.value=m,E.emit()}},[p]),ye(()=>{P(6,te)},[]);let E=c.useMemo(()=>({subscribe:m=>(l.current.add(m),()=>l.current.delete(m)),snapshot:()=>t.current,setState:(m,_,R)=>{var j,M,b,D;if(!Object.is(t.current[m],_)){if(t.current[m]=_,m==="search")Z(),ee(),P(1,X);else if(m==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let B=document.getElementById($);B?B.focus():(j=document.getElementById(w))==null||j.focus()}if(P(7,()=>{var B;t.current.selectedItemId=(B=H())==null?void 0:B.id,E.emit()}),R||P(5,te),((M=d.current)==null?void 0:M.value)!==void 0){let B=_??"";(D=(b=d.current).onValueChange)==null||D.call(b,B);return}}E.emit()}},emit:()=>{l.current.forEach(m=>m())}}),[]),U=c.useMemo(()=>({value:(m,_,R)=>{var j;_!==((j=n.current.get(m))==null?void 0:j.value)&&(n.current.set(m,{value:_,keywords:R}),t.current.filtered.items.set(m,Y(_,R)),P(2,()=>{ee(),E.emit()}))},item:(m,_)=>(s.current.add(m),_&&(a.current.has(_)?a.current.get(_).add(m):a.current.set(_,new Set([m]))),P(3,()=>{Z(),ee(),t.current.value||X(),E.emit()}),()=>{n.current.delete(m),s.current.delete(m),t.current.filtered.items.delete(m);let R=H();P(4,()=>{Z(),R?.getAttribute("id")===m&&X(),E.emit()})}),group:m=>(a.current.has(m)||a.current.set(m,new Set),()=>{n.current.delete(m),a.current.delete(m)}),filter:()=>d.current.shouldFilter,label:i||r["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:w,inputId:$,labelId:S,listInnerRef:A}),[]);function Y(m,_){var R,j;let M=(j=(R=d.current)==null?void 0:R.filter)!=null?j:ol;return m?M(m,t.current.search,_):0}function ee(){if(!t.current.search||d.current.shouldFilter===!1)return;let m=t.current.filtered.items,_=[];t.current.filtered.groups.forEach(j=>{let M=a.current.get(j),b=0;M.forEach(D=>{let B=m.get(D);b=Math.max(B,b)}),_.push([j,b])});let R=A.current;K().sort((j,M)=>{var b,D;let B=j.getAttribute("id"),F=M.getAttribute("id");return((b=m.get(F))!=null?b:0)-((D=m.get(B))!=null?D:0)}).forEach(j=>{let M=j.closest(it);M?M.appendChild(j.parentElement===M?j:j.closest(`${it} > *`)):R.appendChild(j.parentElement===R?j:j.closest(`${it} > *`))}),_.sort((j,M)=>M[1]-j[1]).forEach(j=>{var M;let b=(M=A.current)==null?void 0:M.querySelector(`${Re}[${Ne}="${encodeURIComponent(j[0])}"]`);b?.parentElement.appendChild(b)})}function X(){let m=K().find(R=>R.getAttribute("aria-disabled")!=="true"),_=m?.getAttribute(Ne);E.setState("value",_||void 0)}function Z(){var m,_,R,j;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=s.current.size;return}t.current.filtered.groups=new Set;let M=0;for(let b of s.current){let D=(_=(m=n.current.get(b))==null?void 0:m.value)!=null?_:"",B=(j=(R=n.current.get(b))==null?void 0:R.keywords)!=null?j:[],F=Y(D,B);t.current.filtered.items.set(b,F),F>0&&M++}for(let[b,D]of a.current)for(let B of D)if(t.current.filtered.items.get(B)>0){t.current.filtered.groups.add(b);break}t.current.filtered.count=M}function te(){var m,_,R;let j=H();j&&(((m=j.parentElement)==null?void 0:m.firstChild)===j&&((R=(_=j.closest(Re))==null?void 0:_.querySelector(al))==null||R.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function H(){var m;return(m=A.current)==null?void 0:m.querySelector(`${Vr}[aria-selected="true"]`)}function K(){var m;return Array.from(((m=A.current)==null?void 0:m.querySelectorAll(Yt))||[])}function h(m){let _=K()[m];_&&E.setState("value",_.getAttribute(Ne))}function I(m){var _;let R=H(),j=K(),M=j.findIndex(D=>D===R),b=j[M+m];(_=d.current)!=null&&_.loop&&(b=M+m<0?j[j.length-1]:M+m===j.length?j[0]:j[M+m]),b&&E.setState("value",b.getAttribute(Ne))}function z(m){let _=H(),R=_?.closest(Re),j;for(;R&&!j;)R=m>0?fl(R,Re):hl(R,Re),j=R?.querySelector(Yt);j?E.setState("value",j.getAttribute(Ne)):I(m)}let re=()=>h(K().length-1),we=m=>{m.preventDefault(),m.metaKey?re():m.altKey?z(1):I(1)},fe=m=>{m.preventDefault(),m.metaKey?h(0):m.altKey?z(-1):I(-1)};return c.createElement(O.div,{ref:e,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:m=>{var _;(_=g.onKeyDown)==null||_.call(g,m);let R=m.nativeEvent.isComposing||m.keyCode===229;if(!(m.defaultPrevented||R))switch(m.key){case"n":case"j":{C&&m.ctrlKey&&we(m);break}case"ArrowDown":{we(m);break}case"p":case"k":{C&&m.ctrlKey&&fe(m);break}case"ArrowUp":{fe(m);break}case"Home":{m.preventDefault(),h(0);break}case"End":{m.preventDefault(),re();break}case"Enter":{m.preventDefault();let j=H();if(j){let M=new Event(gt);j.dispatchEvent(M)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:vl},i),Ye(r,m=>c.createElement(Ur.Provider,{value:E},c.createElement(qr.Provider,{value:U},m))))}),nl=c.forwardRef((r,e)=>{var t,s;let a=oe(),n=c.useRef(null),l=c.useContext(Hr),d=$e(),i=Kr(r),u=(s=(t=i.current)==null?void 0:t.forceMount)!=null?s:l?.forceMount;ye(()=>{if(!u)return d.item(a,l?.id)},[u]);let p=Gr(a,n,[r.value,r.children,n],r.keywords),f=Pt(),v=de(P=>P.value&&P.value===p.current),y=de(P=>u||d.filter()===!1?!0:P.search?P.filtered.items.get(a)>0:!0);c.useEffect(()=>{let P=n.current;if(!(!P||r.disabled))return P.addEventListener(gt,N),()=>P.removeEventListener(gt,N)},[y,r.onSelect,r.disabled]);function N(){var P,E;x(),(E=(P=i.current).onSelect)==null||E.call(P,p.current)}function x(){f.setState("value",p.current,!0)}if(!y)return null;let{disabled:C,value:g,onSelect:w,forceMount:S,keywords:$,...A}=r;return c.createElement(O.div,{ref:Ie(n,e),...A,id:a,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!v,"data-disabled":!!C,"data-selected":!!v,onPointerMove:C||d.getDisablePointerSelection()?void 0:x,onClick:C?void 0:N},r.children)}),ll=c.forwardRef((r,e)=>{let{heading:t,children:s,forceMount:a,...n}=r,l=oe(),d=c.useRef(null),i=c.useRef(null),u=oe(),p=$e(),f=de(y=>a||p.filter()===!1?!0:y.search?y.filtered.groups.has(l):!0);ye(()=>p.group(l),[]),Gr(l,d,[r.value,r.heading,i]);let v=c.useMemo(()=>({id:l,forceMount:a}),[a]);return c.createElement(O.div,{ref:Ie(d,e),...n,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},t&&c.createElement("div",{ref:i,"cmdk-group-heading":"","aria-hidden":!0,id:u},t),Ye(r,y=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?u:void 0},c.createElement(Hr.Provider,{value:v},y))))}),il=c.forwardRef((r,e)=>{let{alwaysRender:t,...s}=r,a=c.useRef(null),n=de(l=>!l.search);return!t&&!n?null:c.createElement(O.div,{ref:Ie(a,e),...s,"cmdk-separator":"",role:"separator"})}),cl=c.forwardRef((r,e)=>{let{onValueChange:t,...s}=r,a=r.value!=null,n=Pt(),l=de(u=>u.search),d=de(u=>u.selectedItemId),i=$e();return c.useEffect(()=>{r.value!=null&&n.setState("search",r.value)},[r.value]),c.createElement(O.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":i.listId,"aria-labelledby":i.labelId,"aria-activedescendant":d,id:i.inputId,type:"text",value:a?r.value:l,onChange:u=>{a||n.setState("search",u.target.value),t?.(u.target.value)}})}),dl=c.forwardRef((r,e)=>{let{children:t,label:s="Suggestions",...a}=r,n=c.useRef(null),l=c.useRef(null),d=de(u=>u.selectedItemId),i=$e();return c.useEffect(()=>{if(l.current&&n.current){let u=l.current,p=n.current,f,v=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let y=u.offsetHeight;p.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return v.observe(u),()=>{cancelAnimationFrame(f),v.unobserve(u)}}},[]),c.createElement(O.div,{ref:Ie(n,e),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:i.listId},Ye(r,u=>c.createElement("div",{ref:Ie(l,i.listInnerRef),"cmdk-list-sizer":""},u)))}),ul=c.forwardRef((r,e)=>{let{open:t,onOpenChange:s,overlayClassName:a,contentClassName:n,container:l,...d}=r;return c.createElement(vt,{open:t,onOpenChange:s},c.createElement(wt,{container:l},c.createElement(jt,{"cmdk-overlay":"",className:a}),c.createElement(bt,{"aria-label":r.label,"cmdk-dialog":"",className:n},c.createElement(Wr,{ref:e,...d}))))}),pl=c.forwardRef((r,e)=>de(t=>t.filtered.count===0)?c.createElement(O.div,{ref:e,...r,"cmdk-empty":"",role:"presentation"}):null),ml=c.forwardRef((r,e)=>{let{progress:t,children:s,label:a="Loading...",...n}=r;return c.createElement(O.div,{ref:e,...n,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Ye(r,l=>c.createElement("div",{"aria-hidden":!0},l)))}),Pe=Object.assign(Wr,{List:dl,Item:nl,Input:cl,Group:ll,Separator:il,Dialog:ul,Empty:pl,Loading:ml});function fl(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function hl(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function Kr(r){let e=c.useRef(r);return ye(()=>{e.current=r}),e}var ye=typeof window>"u"?c.useEffect:c.useLayoutEffect;function Ce(r){let e=c.useRef();return e.current===void 0&&(e.current=r()),e}function de(r){let e=Pt(),t=()=>r(e.snapshot());return c.useSyncExternalStore(e.subscribe,t,t)}function Gr(r,e,t,s=[]){let a=c.useRef(),n=$e();return ye(()=>{var l;let d=(()=>{var u;for(let p of t){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(u=p.current.textContent)==null?void 0:u.trim():a.current}})(),i=s.map(u=>u.trim());n.value(r,d,i),(l=e.current)==null||l.setAttribute(Ne,d),a.current=d}),a}var gl=()=>{let[r,e]=c.useState(),t=Ce(()=>new Map);return ye(()=>{t.current.forEach(s=>s()),t.current=new Map},[r]),(s,a)=>{t.current.set(s,a),e({})}};function xl(r){let e=r.type;return typeof e=="function"?e(r.props):"render"in e?e.render(r.props):r}function Ye({asChild:r,children:e},t){return r&&c.isValidElement(e)?c.cloneElement(xl(e),{ref:e.ref},t(e.props.children)):t(e)}var vl={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function bl(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(Pe,{"data-slot":"command",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function yl(r){const e=k.c(9);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx(La,{className:"size-4 shrink-0 opacity-50"}),e[3]=a):a=e[3];let n;e[4]!==t?(n=T("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),e[4]=t,e[5]=n):n=e[5];let l;return e[6]!==s||e[7]!==n?(l=o.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a,o.jsx(Pe.Input,{"data-slot":"command-input",className:n,...s})]}),e[6]=s,e[7]=n,e[8]=l):l=e[8],l}function wl(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(Pe.List,{"data-slot":"command-list",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function jl(r){const e=k.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let s;return e[2]!==t?(s=o.jsx(Pe.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t}),e[2]=t,e[3]=s):s=e[3],s}function Nl(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(Pe.Group,{"data-slot":"command-group",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}function Cl(r){const e=k.c(8);let t,s;e[0]!==r?({className:t,...s}=r,e[0]=r,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=T("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==s||e[6]!==a?(n=o.jsx(Pe.Item,{"data-slot":"command-item",className:a,...s}),e[5]=s,e[6]=a,e[7]=n):n=e[7],n}const Qr=[{name:"Golden Retriever",defaultColors:["Golden"]},{name:"Labrador Retriever",defaultColors:["Yellow","Black","Chocolate"]},{name:"German Shepherd",defaultColors:["Black/Tan","Sable","Black"]},{name:"French Bulldog",defaultColors:["Fawn","Brindle","Cream","Pied"]},{name:"Poodle",defaultColors:["White","Black","Apricot","Red"]},{name:"Bulldog",defaultColors:["Fawn","Brindle","White","Piebald"]},{name:"Beagle",defaultColors:["Tri-color","Lemon/White","Red/White"]},{name:"Rottweiler",defaultColors:["Black/Rust"]},{name:"Dachshund",defaultColors:["Red","Black/Tan","Chocolate/Tan","Dapple"]},{name:"Yorkshire Terrier",defaultColors:["Blue/Tan"]}],Yr=[{name:"Bicolor / Tuxedo",defaultColors:["Black/White","Gray/White","Seal/White"]},{name:"Calico",defaultColors:["Black/Orange/White","Dilute (Blue/Cream/White)"]},{name:"Pointed",defaultColors:["Seal point","Blue point","Chocolate point","Lilac point","Flame point"]},{name:"Shaded",defaultColors:["Shaded Silver","Shaded Golden"]},{name:"Smoke",defaultColors:["Black Smoke","Blue Smoke"]},{name:"Solid",defaultColors:["Black","White","Blue/Gray","Red/Orange","Cream"]},{name:"Spotted",defaultColors:["Brown Spotted","Silver Spotted"]},{name:"Tabby",defaultColors:["Brown Tabby","Gray/Blue Tabby","Orange Tabby","Silver Tabby","Torbie"]},{name:"Tortoiseshell (Tortie)",defaultColors:["Black/Orange","Chocolate/Cream","Dilute (Blue/Cream)"]}];function Sl(r,e){return!r||!e?[]:r==="dog"?Qr.find(s=>s.name===e)?.defaultColors??[]:r==="cat"?Yr.find(s=>s.name===e)?.defaultColors??[]:[]}const kl=Qr.map(r=>r.name),_l=Yr.map(r=>r.name);function Pl({label:r="Photo",value:e,onChange:t,options:s,accept:a="image/*",className:n}){const l=c.useRef(null),d=()=>l.current?.click(),i=()=>t(null),u=async p=>{if(!p||!p.type.startsWith("image/"))return;const f=await Rl(p,s);t(f)};return o.jsxs("div",{className:n,children:[o.jsx(J,{className:"mb-2 block",children:r}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(G,{type:"button",variant:"outline",onClick:d,children:e?"Replace Image":"Upload Image"}),e&&o.jsx(G,{type:"button",variant:"ghost",onClick:i,children:"Remove"})]}),o.jsx(le,{ref:l,type:"file",accept:a,className:"hidden",onChange:p=>{const f=p.target.files?.[0];f&&u(f),p.currentTarget.value=""}}),e&&o.jsxs(o.Fragment,{children:[o.jsx(ct,{className:"my-3"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("img",{src:e.dataUrl,alt:"preview",className:"h-24 w-24 rounded-md object-cover border"}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-foreground",children:"Optimized:"})," ",e.mimeType]}),o.jsxs("div",{children:["Size: ~",e.approxKB.toLocaleString()," KB"]}),o.jsxs("div",{children:["Dims: ",e.width," × ",e.height]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"font-medium text-foreground",children:"Original:"})," ",e.original.name," — ",e.original.sizeKB.toLocaleString()," KB"]})]})]})]})]})}async function Rl(r,e){const t=await r.arrayBuffer(),s=new Blob([t]),a=await El(s),n=e?.maxWidth??1200,l=e?.maxHeight??1200,{width:d,height:i}=Tl(a.width,a.height,n,l),u=document.createElement("canvas");u.width=d,u.height=i,u.getContext("2d").drawImage(a,0,0,d,i);const f=e?.preferWebP??!0,v=e?.quality??.82,y=u.toDataURL("image/webp").startsWith("data:image/webp"),N=f&&y?"image/webp":"image/jpeg",x=await Al(u,N,v),C=await Il(x);return{blob:x,dataUrl:C,width:d,height:i,approxKB:Math.round(x.size/1024),mimeType:N,original:{name:r.name,sizeKB:Math.round(r.size/1024),type:r.type}}}function Tl(r,e,t,s){const a=Math.min(t/r,s/e,1);return{width:Math.round(r*a),height:Math.round(e*a)}}function El(r){return new Promise((e,t)=>{const s=URL.createObjectURL(r),a=new Image;a.onload=()=>{URL.revokeObjectURL(s),e(a)},a.onerror=t,a.src=s})}function Al(r,e,t){return new Promise(s=>r.toBlob(a=>s(a),e,t))}function Il(r){return new Promise(e=>{const t=new FileReader;t.onload=()=>e(String(t.result)),t.readAsDataURL(r)})}let Ml=r=>crypto.getRandomValues(new Uint8Array(r)),Dl=(r,e,t)=>{let s=(2<<Math.log2(r.length-1))-1,a=-~(1.6*s*e/r.length);return(n=e)=>{let l="";for(;;){let d=t(a),i=a|0;for(;i--;)if(l+=r[d[i]&s]||"",l.length>=n)return l}}},$l=(r,e=21)=>Dl(r,e|0,Ml);const Ol="0123456789abcdefghijklmnopqrstuvwxyz";function Bl(r=4){return $l(Ol,r)()}async function Fl(r){let e=3;for(let t=0;t<7;t++){const s=Bl(e),{data:a,error:n}=await se.from("pets").insert({...r,short_id:s}).select("*").single();if(!n)return a;if(n.code==="23505"&&n.message.includes("pets_short_id_key")){e++;continue}throw n}throw new Error("Could not generate a unique short id for pet.")}async function Ee(r,e){const{error:t}=await se.from("pets").update(e).eq("id",r);if(t)throw t;const{data:s,error:a}=await se.from("pets").select("*").eq("id",r).maybeSingle();return a?(console.warn("updatePet: select after update blocked by RLS:",a?.message),{id:r,...e}):s??{id:r,...e}}async function Ll(r){const{data:e,error:t}=await se.from("pets").select("*").eq("owner_id",r).order("created_at",{ascending:!1});if(t)throw t;return e??[]}async function Xt(r,e,t){if(!t||t.size===0)throw new Error("Empty image blob");const s=t.type||"image/webp",a=s==="image/jpeg"||s==="image/jpg"?"jpg":s==="image/png"?"png":s==="image/avif"?"avif":"webp",n=Date.now(),l=`${r}/${e}-${n}.${a}`,{data:d}=await se.auth.getSession();console.log("upload session:",{hasSession:!!d.session,role:d.session?"authenticated":"anon",uid:d.session?.user?.id}),console.log("uploadPetPhoto ->",{bucket:"pet-photos",path:l,ownerId:r,petId:e,mime:s,size:t.size});const{error:i}=await se.storage.from("pet-photos").upload(l,t,{contentType:s,upsert:!1});if(i)throw console.error("storage.upload error:",i),i;const{data:u}=se.storage.from("pet-photos").getPublicUrl(l);return u.publicUrl}async function zl(r){const{error:e}=await se.from("pets").delete().eq("id",r);if(e)throw e}async function Vl(r){if(!r)return;const e=r.indexOf("/pet-photos/");if(e===-1)return;const t=r.substring(e+12);if(!t)return;const{error:s}=await se.storage.from("pet-photos").remove([t]);s&&console.warn("storage.remove warning:",s.message)}async function ql(r){const{data:e,error:t}=await se.from("pets").select("id, qr_url").eq("owner_id",r);if(t)throw t;for(const s of e??[])if(!s.qr_url){const a=await St(r,s.id),{error:n}=await se.from("pets").update({qr_url:a}).eq("id",s.id);if(n)throw n}}const Ul=Tt({id:ne().optional(),name:ne().min(1,"Name is required"),species:ma(["dog","cat","other"],{message:"Choose a species"}),breed:ne().optional(),color:ne().optional(),weight:pa().min(0,"Weight must be positive").optional(),birthdate:ne().optional(),microchipId:ne().optional(),description:ne().optional(),notes:ne().optional(),vaccinations:Tt({rabies:fa().default(!1),rabiesExpires:ne().optional()}).default({rabies:!1,rabiesExpires:""}),photoPreview:ne().optional()});async function Zt(r){return await(await fetch(r)).blob()}function Jt({mode:r,open:e,onOpenChange:t,initialPet:s,onSubmit:a}){const{user:n}=es(),[l,d]=c.useState(!1),i=da({resolver:ua(Ul),defaultValues:{id:s?.id,name:s?.name??"",species:s?.species,breed:s?.breed??"",color:s?.color??"",weight:s?.weight??void 0,birthdate:s?.birthdate??"",microchipId:s?.microchipId??"",description:s?.description??"",notes:s?.notes??"",vaccinations:{rabies:s?.vaccinations?.rabies??!1,rabiesExpires:s?.vaccinations?.rabiesExpires??""},photoPreview:s?.photoPreview??""},mode:"onSubmit"}),u=i.watch("species"),p=i.watch("breed"),[f,v]=c.useState(!1),y=c.useRef(null),N=c.useMemo(()=>u==="dog"?kl:u==="cat"?_l:[],[u]),x=c.useMemo(()=>Sl(u??"other",p),[u,p]),C=async g=>{if(!n?.id){alert("You must be signed in.");return}d(!0);const w={rabies:!!g.vaccinations?.rabies,rabiesExpires:g.vaccinations?.rabies&&g.vaccinations.rabiesExpires||void 0},S={owner_id:n.id,name:g.name,species:g.species,breed:g.breed||null,color:g.color||null,weight:typeof g.weight=="number"?g.weight:null,birthdate:g.birthdate||null,microchip_id:g.microchipId||null,description:g.description||null,notes:g.notes||null,vaccinations:w};try{let $;if(r==="add"){$=await Fl({...S});try{const P=await St(n.id,$.short_id);await Ee($.id,{qr_url:P})}catch(P){console.warn("QR generation failed (non-blocking):",P?.message)}let A=y.current;if(!A&&g.photoPreview&&(A=await Zt(g.photoPreview)),A&&A.size>0){const P=await Xt(n.id,$.id,A);$=await Ee($.id,{photo_url:P})}}else{const A=g.id||s?.id;if(!A)throw new Error("Missing pet id for update.");let P=y.current;!P&&g.photoPreview&&(P=await Zt(g.photoPreview));const E={name:S.name,species:S.species,breed:S.breed,color:S.color,weight:S.weight,birthdate:S.birthdate,microchip_id:S.microchip_id,description:S.description,notes:S.notes,vaccinations:S.vaccinations};if(P&&P.size>0){const U=await Xt(n.id,A,P);E.photo_url=U}$=await Ee(A,E)}a?.(g),t(!1),r==="add"&&i.reset()}catch($){console.error($),alert($?.message??"Failed to save pet")}finally{d(!1)}};return o.jsx(Ws,{open:e,onOpenChange:g=>!l&&t(g),children:o.jsxs(Ks,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Gs,{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-xl flex items-center justify-center ring-4 ring-primary/5",children:o.jsx(xe,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx(Ys,{className:"text-2xl",children:r==="add"?"Add New Pet":"Edit Pet"}),o.jsx(Xs,{className:"text-base",children:r==="add"?"Enter your pet's details to create their profile":"Update your pet's information"})]})]})}),o.jsxs("form",{onSubmit:i.handleSubmit(C),className:"space-y-6 mt-4",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[o.jsx(js,{className:"h-4 w-4 text-primary"}),"Basic Information"]}),o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(J,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:["Name ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(le,{id:"name",...i.register("name"),placeholder:"e.g., Milo, Luna, Max",className:"h-11 transition-all duration-200 focus:ring-2 focus:ring-primary/20"}),i.formState.errors.name&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1.5 animate-in fade-in-50",children:[o.jsx(ze,{className:"h-3.5 w-3.5"}),i.formState.errors.name.message]})]}),o.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(J,{className:"text-sm font-medium flex items-center gap-2",children:["Species ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsxs(kn,{value:u,onValueChange:g=>{i.setValue("species",g,{shouldValidate:!0}),i.setValue("breed",""),i.setValue("color","")},children:[o.jsx(Pn,{className:"h-11",children:o.jsx(_n,{placeholder:"Select species"})}),o.jsxs(Rn,{children:[o.jsx(ot,{value:"dog",children:"🐕 Dog"}),o.jsx(ot,{value:"cat",children:"🐱 Cat"}),o.jsx(ot,{value:"other",children:"🐾 Other"})]})]}),i.formState.errors.species&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1.5",children:[o.jsx(ze,{className:"h-3.5 w-3.5"}),i.formState.errors.species.message]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(J,{htmlFor:"birthdate",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(ys,{className:"h-3.5 w-3.5"}),"Birthdate"]}),o.jsx(le,{id:"birthdate",type:"date",...i.register("birthdate"),className:"h-11"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(J,{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(xe,{className:"h-3.5 w-3.5"}),u==="cat"?"Pattern":"Breed",u==="other"&&o.jsx("span",{className:"text-muted-foreground text-xs",children:"(optional)"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(le,{placeholder:u==="dog"?"e.g., Golden Retriever":u==="cat"?"e.g., Tabby, Calico":"e.g., Rabbit, Guinea Pig",...i.register("breed"),className:"h-11 flex-1"}),N.length>0&&o.jsxs(Wn,{open:f,onOpenChange:v,children:[o.jsx(Kn,{asChild:!0,children:o.jsxs(G,{type:"button",variant:"outline",className:"w-36 justify-between h-11",children:["Suggestions ",o.jsx(ka,{className:"h-4 w-4 opacity-60"})]})}),o.jsx(Gn,{className:"p-0 w-64",children:o.jsxs(bl,{children:[o.jsx(yl,{placeholder:"Search…"}),o.jsxs(wl,{children:[o.jsx(jl,{children:"No matches found."}),o.jsx(Nl,{children:N.map(g=>o.jsx(Cl,{value:g,onSelect:w=>{i.setValue("breed",w),v(!1)},children:g},g))})]})]})})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(J,{htmlFor:"color",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Ma,{className:"h-3.5 w-3.5"}),"Color"]}),o.jsx(le,{id:"color",...i.register("color"),placeholder:"e.g., Brown, White, Mixed",className:"h-11"}),x.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:x.map(g=>o.jsx("button",{type:"button",onClick:()=>i.setValue("color",g,{shouldValidate:!0}),className:"rounded-full border border-primary/20 bg-primary/5 px-3 py-1 text-xs font-medium hover:bg-primary/10 transition-colors",children:g},g))})]}),o.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(J,{htmlFor:"weight",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Qa,{className:"h-3.5 w-3.5"}),"Weight (lbs)"]}),o.jsx(le,{id:"weight",type:"number",step:"0.1",placeholder:"e.g., 45.5",...i.register("weight",{valueAsNumber:!0}),className:"h-11"}),i.formState.errors.weight&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1.5",children:[o.jsx(ze,{className:"h-3.5 w-3.5"}),i.formState.errors.weight.message]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(J,{htmlFor:"microchipId",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(ha,{className:"h-3.5 w-3.5"}),"Microchip ID"]}),o.jsx(le,{id:"microchipId",...i.register("microchipId"),placeholder:"e.g., 981000012345678",className:"h-11"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(J,{htmlFor:"description",className:"text-sm font-medium",children:"Physical Description"}),o.jsx(le,{id:"description",...i.register("description"),placeholder:"e.g., White paws, brown spot on left ear",className:"h-11"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(J,{htmlFor:"notes",className:"text-sm font-medium",children:"Additional Notes"}),o.jsx(zo,{id:"notes",...i.register("notes"),placeholder:"Allergies, medications, behavioral notes, vet contact info...",className:"min-h-[80px] resize-none"})]})]})]}),o.jsx(ct,{}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[o.jsx(Ha,{className:"h-4 w-4 text-primary"}),"Vaccinations"]}),o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-primary/20",children:[o.jsx(vs,{className:"border-blue-200 bg-blue-50 dark:border-blue-900 dark:bg-blue-950",children:o.jsx(bs,{className:"text-xs text-blue-800 dark:text-blue-200",children:"Keep track of your pet's vaccination records for their health and safety"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 bg-secondary/30 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("input",{id:"rabies",type:"checkbox",className:"h-4 w-4 rounded border-primary text-primary focus:ring-primary",checked:!!i.watch("vaccinations.rabies"),onChange:g=>i.setValue("vaccinations.rabies",g.target.checked)}),o.jsx(J,{htmlFor:"rabies",className:"text-sm font-medium cursor-pointer",children:"Rabies Vaccination"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:w-48",children:[o.jsx(J,{htmlFor:"rabiesExpires",className:"text-xs text-muted-foreground whitespace-nowrap",children:"Expires:"}),o.jsx(le,{id:"rabiesExpires",type:"date",disabled:!i.watch("vaccinations.rabies"),...i.register("vaccinations.rabiesExpires"),className:"h-9"})]})]})]})]}),o.jsx(ct,{}),o.jsxs("section",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[o.jsx(ba,{className:"h-4 w-4 text-primary"}),"Pet Photo"]}),o.jsx("div",{className:"pl-6 border-l-2 border-primary/20",children:o.jsx(Pl,{label:"",value:i.watch("photoPreview")?{blob:new Blob,dataUrl:i.watch("photoPreview"),width:0,height:0,approxKB:0,mimeType:"image/*",original:{name:"",sizeKB:0,type:""}}:null,onChange:g=>{y.current=g?.blob??null,i.setValue("photoPreview",g?.dataUrl??"")},options:{maxWidth:1200,maxHeight:1200,quality:.82,preferWebP:!0}})})]}),o.jsxs(Qs,{className:"gap-2 sm:gap-0 pt-4",children:[o.jsx(G,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,className:"transition-all hover:scale-105",children:"Cancel"}),o.jsx(G,{type:"submit",disabled:l,className:"transition-all hover:scale-105",children:l?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r==="add"?"Creating...":"Updating..."]}):o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(xe,{className:"h-4 w-4"}),r==="add"?"Create Pet Profile":"Save Changes"]})})]})]})]})})}function ni(){const{user:r}=es(),e=Zr(),t=r?.id??null,{data:s,isLoading:a,isError:n}=Jr({queryKey:["pets",t],queryFn:async()=>t?Ll(t):[],enabled:!!t,staleTime:3e4}),[l,d]=c.useState(!1),[i,u]=c.useState(null),[p,f]=c.useState(null),[v,y]=c.useState(!1),[N,x]=c.useState(null),[C,g]=c.useState(!1),[w,S]=c.useState(null),[$,A]=c.useState(!1),P=h=>{const z=`${window.location.origin}/p/${h.short_id}`;window.open(z,"_blank")},E=async()=>{await e.invalidateQueries({queryKey:["pets",t]}),u(null),d(!1)},U=async()=>{if(p){y(!0);try{await Vl(p.photo_url),await zl(p.id),await e.invalidateQueries({queryKey:["pets",t]})}catch(h){alert(h?.message??"Failed to delete pet")}finally{y(!1),f(null)}}},Y=ea({mutationFn:async({id:h,missing:I})=>Ee(h,{missing:I,missing_since:I?new Date().toISOString():null}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["pets",t]})}}),ee=async(h,I)=>{if(I)S(h);else try{A(!0),await Y.mutateAsync({id:h.id,missing:!1})}catch(z){alert(z?.message??"Failed to update")}finally{A(!1)}},X=async()=>{if(w)try{A(!0),await Y.mutateAsync({id:w.id,missing:!0})}catch(h){alert(h?.message??"Failed to update")}finally{A(!1),S(null)}},Z=async h=>{if(t){if(h.qr_url){x(h);return}g(!0);try{const I=await St(t,h.id);await Ee(h.id,{qr_url:I}),await e.invalidateQueries({queryKey:["pets",t]}),x({...h,qr_url:I})}catch(I){alert(I?.message??"Failed to generate QR")}finally{g(!1)}}},te=async h=>{if(h)try{await navigator.clipboard.writeText(h),alert("Copied to clipboard")}catch{}},H=(h,I="pet-qr.png")=>{if(!h)return;const z=document.createElement("a");z.href=h,z.download=I,z.target="_blank",z.rel="noopener noreferrer",z.click()},K=async()=>{if(t){g(!0);try{await ql(t),await e.invalidateQueries({queryKey:["pets",t]}),alert("QR backfill completed.")}catch(h){alert(h?.message??"Backfill failed")}finally{g(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-xl flex items-center justify-center ring-4 ring-primary/5",children:o.jsx(xe,{className:"h-5 w-5 text-primary"})}),"Dashboard"]}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your pets, QR codes, and track activity"})]}),o.jsxs(so,{defaultValue:"pets",className:"space-y-4",children:[o.jsxs(ro,{className:"grid w-full max-w-md grid-cols-2",children:[o.jsxs($t,{value:"pets",className:"gap-2",children:[o.jsx(xe,{className:"h-4 w-4"}),"My Pets"]}),o.jsxs($t,{value:"activity",className:"gap-2",children:[o.jsx(At,{className:"h-4 w-4"}),"Recent Activity"]})]}),o.jsxs(Ot,{value:"pets",className:"space-y-4",children:[o.jsxs(Oe,{className:"shadow-lg border-primary/10",children:[o.jsx(et,{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs(tt,{className:"text-2xl flex items-center gap-2",children:[o.jsx(js,{className:"h-5 w-5 text-primary"}),"Registered Pets"]}),o.jsx(st,{className:"text-base",children:"Manage profiles, photos, QR tags, and missing status"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(G,{variant:"outline",onClick:K,disabled:!t||C,className:"gap-2 transition-all hover:scale-105",children:[o.jsx(Be,{className:`h-4 w-4 ${C?"animate-spin":""}`}),C?"Working…":"Backfill QR"]}),o.jsxs(G,{onClick:()=>d(!0),disabled:!t,className:"gap-2 transition-all hover:scale-105",children:[o.jsx(It,{className:"h-4 w-4"}),"Add Pet"]})]})]})}),o.jsx(rt,{children:a?o.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((h,I)=>o.jsxs(Oe,{className:"p-4 space-y-3",children:[o.jsx(je,{className:"h-5 w-40"}),o.jsx(je,{className:"h-4 w-24"}),o.jsx(je,{className:"h-32 w-full rounded-md"}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(je,{className:"h-9 w-16"}),o.jsx(je,{className:"h-9 w-16"}),o.jsx(je,{className:"h-9 w-16"})]})]},I))}):n?o.jsxs(vs,{variant:"destructive",children:[o.jsx(ze,{className:"h-4 w-4"}),o.jsx(bs,{children:"Failed to load pets. Please try again."})]}):s&&s.length>0?o.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(h=>o.jsxs(Oe,{className:"overflow-hidden transition-all duration-200 hover:shadow-lg hover:scale-[1.02] border-primary/10",children:[o.jsxs(et,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs(tt,{className:"text-lg truncate flex items-center gap-2",children:[o.jsx(xe,{className:"h-4 w-4 text-primary flex-shrink-0"}),h.name]}),o.jsxs("div",{className:"flex flex-col gap-1.5 items-end",children:[h.missing&&o.jsxs(Rt,{variant:"destructive",className:"gap-1 animate-pulse",children:[o.jsx(at,{className:"h-3 w-3"}),"Missing"]}),o.jsx(Rt,{variant:"secondary",className:"capitalize text-xs",children:h.species})]})]}),o.jsx(st,{className:"line-clamp-2 text-sm",children:h.breed||h.description||"No description"})]}),h.photo_url&&o.jsx("div",{className:"px-4 pb-3",children:o.jsx("img",{src:h.photo_url,alt:`${h.name} photo`,className:"w-full h-40 rounded-lg object-cover ring-1 ring-primary/10",loading:"lazy"})}),o.jsxs(rt,{className:"space-y-3 pt-3 border-t",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(G,{size:"sm",onClick:()=>u(h),className:"gap-1.5 flex-1 transition-all hover:scale-105",children:[o.jsx(qa,{className:"h-3.5 w-3.5"}),"Edit"]}),o.jsxs(G,{size:"sm",variant:"outline",onClick:()=>P(h),className:"gap-1.5 flex-1 transition-all hover:scale-105",children:[o.jsx(Et,{className:"h-3.5 w-3.5"}),"View"]}),o.jsxs(G,{size:"sm",variant:h.qr_url?"outline":"secondary",onClick:()=>Z(h),disabled:C,className:"gap-1.5 flex-1 transition-all hover:scale-105",title:h.qr_url?"View QR":"Generate QR",children:[o.jsx(Mt,{className:"h-3.5 w-3.5"}),C&&!h.qr_url?"Generating…":h.qr_url?"QR":"Create"]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(J,{htmlFor:`missing-${h.id}`,className:"text-sm font-medium cursor-pointer",children:"Mark Missing"}),o.jsx(Oo,{id:`missing-${h.id}`,checked:!!h.missing,disabled:$||Y.isPending,onCheckedChange:I=>ee(h,I)})]}),o.jsxs(Ft,{open:!!p&&p.id===h.id,onOpenChange:I=>!I&&f(null),children:[o.jsx(ko,{asChild:!0,children:o.jsxs(G,{size:"sm",variant:"ghost",onClick:()=>f(h),className:"gap-1.5 text-destructive hover:text-destructive hover:bg-destructive/10",children:[o.jsx(Dt,{className:"h-3.5 w-3.5"}),"Delete"]})}),o.jsxs(Lt,{children:[o.jsxs(zt,{children:[o.jsxs(qt,{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-5 w-5 text-destructive"}),"Delete ",h.name,"?"]}),o.jsxs(Ut,{children:["This will permanently remove the pet profile",h.photo_url?" and its photo":"",". This action cannot be undone."]})]}),o.jsxs(Vt,{children:[o.jsx(Wt,{disabled:v,children:"Cancel"}),o.jsx(Ht,{disabled:v,onClick:U,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 gap-2",children:v?o.jsxs(o.Fragment,{children:[o.jsx(Be,{className:"h-4 w-4 animate-spin"}),"Deleting…"]}):o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4"}),"Delete"]})})]})]})]})]})]})]},h.id))}):o.jsxs("div",{className:"text-center py-12 space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"h-20 w-20 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(xe,{className:"h-10 w-10 text-primary/60"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-foreground",children:"No pets yet"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Click ",o.jsx("span",{className:"font-medium text-foreground",children:"Add Pet"})," to create your first pet profile"]})]}),o.jsxs(G,{onClick:()=>d(!0),className:"gap-2 mt-4",children:[o.jsx(It,{className:"h-4 w-4"}),"Add Your First Pet"]})]})})]}),o.jsx(Jt,{mode:"add",open:l,onOpenChange:d,onSubmit:E}),i&&o.jsx(Jt,{mode:"edit",open:!!i,onOpenChange:h=>!h&&u(null),initialPet:{id:i.id,name:i.name,species:i.species,breed:i.breed??void 0,color:i.color??void 0,weight:i.weight??void 0,birthdate:i.birthdate??void 0,microchipId:i.microchip_id??void 0,description:i.description??void 0,notes:i.notes??void 0,vaccinations:i.vaccinations?{rabies:i.vaccinations.rabies??!1,rabiesExpires:i.vaccinations.rabiesExpires??void 0}:void 0,photoPreview:i.photo_url??void 0},onSubmit:E}),o.jsx(Ws,{open:!!N,onOpenChange:h=>!h&&x(null),children:o.jsxs(Ks,{className:"sm:max-w-md",children:[o.jsx(Gs,{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-xl flex items-center justify-center ring-4 ring-primary/5",children:o.jsx(Mt,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs(Ys,{className:"text-xl",children:["QR Code ",N?`– ${N.name}`:""]}),o.jsx(Xs,{children:"Scan to open the public pet page"})]})]})}),o.jsx("div",{className:"flex flex-col items-center gap-4 py-4",children:N?.qr_url?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 bg-white rounded-xl ring-1 ring-primary/10 shadow-lg",children:o.jsx("img",{src:N.qr_url,alt:"QR code",className:"h-56 w-56 object-contain"})}),o.jsxs("div",{className:"w-full space-y-2",children:[o.jsx(J,{className:"text-sm font-medium",children:"QR Code URL"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(le,{readOnly:!0,value:N.qr_url,className:"text-xs"}),o.jsx(G,{type:"button",variant:"outline",size:"icon",onClick:()=>te(N.qr_url),className:"flex-shrink-0",title:"Copy URL",children:o.jsx(Pa,{className:"h-4 w-4"})})]}),o.jsxs(G,{type:"button",onClick:()=>H(N?.qr_url,`${N.name}-qr.png`),className:"w-full gap-2",children:[o.jsx(Ta,{className:"h-4 w-4"}),"Download QR Code"]})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-8",children:[o.jsx(Be,{className:"h-4 w-4 animate-spin"}),"Generating QR code…"]})}),o.jsx(Qs,{children:o.jsx(G,{type:"button",variant:"outline",onClick:()=>x(null),children:"Close"})})]})}),o.jsx(Ft,{open:!!w,onOpenChange:h=>!h&&S(null),children:o.jsxs(Lt,{children:[o.jsxs(zt,{children:[o.jsxs(qt,{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-5 w-5 text-orange-500"}),"Mark ",w?.name," as missing?"]}),o.jsx(Ut,{children:"This helps highlight their profile and can trigger your outreach flow. You can turn this off later."})]}),o.jsxs(Vt,{children:[o.jsx(Wt,{disabled:$,children:"Cancel"}),o.jsx(Ht,{disabled:$,onClick:X,className:"gap-2",children:$?o.jsxs(o.Fragment,{children:[o.jsx(Be,{className:"h-4 w-4 animate-spin"}),"Saving…"]}):"Yes, mark missing"})]})]})})]}),o.jsx(Ot,{value:"activity",className:"space-y-4",children:o.jsxs(Oe,{className:"shadow-lg border-primary/10",children:[o.jsx(et,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(At,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx(tt,{className:"text-2xl",children:"QR Scan Events"}),o.jsx(st,{className:"text-base",children:"Last 7 days of activity"})]})]})}),o.jsx(rt,{children:o.jsx("div",{className:"rounded-lg border",children:o.jsxs(ao,{children:[o.jsx(oo,{children:o.jsxs(Bt,{children:[o.jsx(Fe,{className:"font-semibold",children:"Pet"}),o.jsx(Fe,{className:"font-semibold",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Aa,{className:"h-4 w-4"}),"Location"]})}),o.jsx(Fe,{className:"font-semibold",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ys,{className:"h-4 w-4"}),"Date"]})}),o.jsx(Fe,{className:"text-right font-semibold",children:"Action"})]})}),o.jsx(no,{children:[{pet:"Milo",loc:"Brooklyn, NY",date:"Sep 27, 2025"},{pet:"Luna",loc:"Queens, NY",date:"Sep 26, 2025"},{pet:"Buddy",loc:"Hoboken, NJ",date:"Sep 24, 2025"}].map(h=>o.jsxs(Bt,{className:"hover:bg-secondary/50 transition-colors",children:[o.jsx(Le,{className:"font-medium",children:h.pet}),o.jsx(Le,{className:"text-muted-foreground",children:h.loc}),o.jsx(Le,{className:"text-muted-foreground",children:h.date}),o.jsx(Le,{className:"text-right",children:o.jsxs(G,{size:"sm",variant:"outline",className:"gap-1.5",children:[o.jsx(Et,{className:"h-3.5 w-3.5"}),"View"]})})]},h.pet+h.date))})]})})})]})})]})]})}export{ni as default};
