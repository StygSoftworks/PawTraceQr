import{c as l,s as n}from"./index-djmkGsBh.js";import{u}from"./react-query-CCwEfxX5.js";async function c(){const{data:{user:e}}=await n.auth.getUser();if(!e)return null;const{data:t,error:r}=await n.from("profiles").select("role").eq("id",e.id).maybeSingle();if(r)throw r;return t?.role??"free"}function d(){const e=l.c(6);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["user-role"],queryFn:c,staleTime:6e4},e[0]=t):t=e[0];const{data:r,isLoading:s,isError:i}=u(t),a=r==="admin"||r==="owner";let o;return e[1]!==a||e[2]!==i||e[3]!==s||e[4]!==r?(o={role:r,isAdmin:a,isLoading:s,isError:i},e[1]=a,e[2]=i,e[3]=s,e[4]=r,e[5]=o):o=e[5],o}export{d as u};
