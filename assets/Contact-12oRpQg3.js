import{u as w,r as b,j as e,s as C}from"./index-O7RRn4Et.js";import{u as F,a as I,o as T,s as l}from"./zod-BHqNdiX8.js";import{d as n,b as m,a as d,c as M,C as o}from"./card-CmGqByTb.js";import{B as P}from"./button-CzxQilr1.js";import{L as i,I as u}from"./input-DlymMV7A.js";import{T as E}from"./textarea-QXsOWOA9.js";import{S as V,a as _,b as A,c as B,d as L}from"./select-xlu3RZBY.js";import{A as q,a as D}from"./alert-Dh6v8gpf.js";import{M as R}from"./message-square-DViUpLRf.js";import{C as H}from"./circle-check-big-DBLMEfql.js";import{C as O}from"./circle-alert-BR5C3ZYy.js";import{c as W}from"./createLucideIcon-PZRLLas3.js";import{M as $}from"./mail-BZYZcVb1.js";import"./index-DOFNPw58.js";import"./index-B-RXS68E.js";import"./index-GqJ1NPhD.js";import"./index-DYCRFkkK.js";import"./index-CGn0zlRl.js";import"./index-DycXmUlB.js";import"./index-Bl72I84j.js";import"./chevron-down-BJTjC3Nq.js";import"./check-j9WZsGcd.js";import"./chevron-up-DUDKSTRL.js";const Q=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],U=W("send",Q),Y=T({name:l().min(2,"Name must be at least 2 characters").max(100),email:l().email("Please enter a valid email address"),phone:l().optional(),subject:l().min(1,"Please select a subject"),message:l().min(10,"Message must be at least 10 characters").max(1e3)}),z=[{value:"general",label:"General Question"},{value:"technical",label:"Technical Issue"},{value:"billing",label:"Billing Issue"},{value:"lost_pet",label:"Lost Pet Help"},{value:"other",label:"Other"}];function ye(){const{user:y}=w(),[t,p]=b.useState(!1),[r,x]=b.useState(null),{register:c,handleSubmit:f,setValue:N,watch:v,reset:S,formState:{errors:a}}=F({resolver:I(Y),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),j=v("message")?.length||0,k=async s=>{p(!0),x(null);try{const{data:h,error:g}=await C.functions.invoke("send-contact-email",{body:{name:s.name,email:s.email,phone:s.phone||null,subject:s.subject,message:s.message,user_id:y?.id||null}});if(g)throw g;x({type:"success",message:`Thank you for contacting us! Your message has been received (Reference: ${h.id.slice(0,8)}). We typically respond within 24-48 hours.`}),S()}catch(h){console.error("Error submitting contact form:",h),x({type:"error",message:"Failed to send your message. Please try again or email us directly at collin@stygiansoftworks.com"})}finally{p(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-10 md:py-14 max-w-4xl",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-xl flex items-center justify-center ring-4 ring-primary/5",children:e.jsx(R,{className:"h-5 w-5 text-primary"})}),"Contact Us"]}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Have a question or need help? We're here to assist you."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsx(d,{children:"Send us a message"}),e.jsx(M,{children:"Fill out the form below and we'll get back to you as soon as possible."})]}),e.jsxs(o,{children:[r&&e.jsxs(q,{className:`mb-6 ${r.type==="success"?"border-green-200 bg-green-50 dark:border-green-900 dark:bg-green-950":"border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950"}`,children:[r.type==="success"?e.jsx(H,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):e.jsx(O,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),e.jsx(D,{className:r.type==="success"?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200",children:r.message})]}),e.jsxs("form",{onSubmit:f(k),className:"space-y-6",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"name",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{id:"name",placeholder:"Your name",...c("name"),disabled:t}),a.name&&e.jsx("p",{className:"text-sm text-red-500",children:a.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{id:"email",type:"email",placeholder:"your@email.com",...c("email"),disabled:t}),a.email&&e.jsx("p",{className:"text-sm text-red-500",children:a.email.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone (optional)"}),e.jsx(u,{id:"phone",type:"tel",placeholder:"(123) 456-7890",...c("phone"),disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"subject",children:["Subject ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(V,{onValueChange:s=>N("subject",s),disabled:t,children:[e.jsx(_,{id:"subject",children:e.jsx(A,{placeholder:"Select a subject"})}),e.jsx(B,{children:z.map(s=>e.jsx(L,{value:s.value,children:s.label},s.value))})]}),a.subject&&e.jsx("p",{className:"text-sm text-red-500",children:a.subject.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"message",children:["Message ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(E,{id:"message",placeholder:"Please describe your question or issue...",rows:6,...c("message"),disabled:t}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:a.message&&e.jsx("p",{className:"text-sm text-red-500",children:a.message.message})}),e.jsxs("p",{className:`text-xs ${j>1e3?"text-red-500":"text-muted-foreground"}`,children:[j," / 1000"]})]})]}),e.jsx(P,{type:"submit",className:"w-full sm:w-auto",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(m,{children:e.jsx(d,{className:"text-lg",children:"Direct Contact"})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($,{className:"h-5 w-5 text-primary mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Email"}),e.jsx("a",{href:"mailto:collin@stygiansoftworks.com",className:"text-sm text-primary hover:underline break-all",children:"collin@stygiansoftworks.com"})]})]})})]}),e.jsxs(n,{className:"border-blue-200 bg-blue-50 dark:border-blue-900 dark:bg-blue-950",children:[e.jsx(m,{children:e.jsx(d,{className:"text-lg text-blue-900 dark:text-blue-100",children:"Response Time"})}),e.jsx(o,{children:e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"We typically respond to inquiries within 24-48 hours during business days. For urgent matters, please include a phone number."})})]}),e.jsxs(n,{children:[e.jsx(m,{children:e.jsx(d,{className:"text-lg",children:"Emergency Lost Pet?"})}),e.jsx(o,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"If your pet is lost and someone has scanned their QR code, you'll receive location notifications in your Dashboard. Check your pet's activity page for the latest updates."})})]})]})]})]})}export{ye as default};
